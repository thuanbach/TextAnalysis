piSession=function(){var at="https://login-stg.pearson.com/v1/piapi-int/login";var x="3.38.1";var bL=null;var av="pi_op_frame_pearson";var O="pi_rp_frame";var u="pi_user_id";var ao=at+"/html/checkSessionFrame.html?v="+x;var bc="fr";var ae=null;var ap=false;var aQ=3*1000;var bG=30*60;var R=5*60;var bW=/http[s]?:\/\/([^/]+).*/;function h(b2){return(/true/i).test(b2)}var al=null;var bT=null;var bJ=null;var bo=null;var H=function(){var b2=(ad!=false)&&(ad==true||L);if(b2){return at+"/webchallenge?sesstype="+bc}else{return at+"/webchallenge"}};var bQ=null;var t=false;var bV=true;var bn=true;var a9=false;var ba=20;var aX=null;var aZ="PearsonExtSTGSSOSession";var aN="PearsonExtSTGSSOExpiryTime";var b1="false";var ad=b1?h(b1):null;var L=null;var bS=Number("");var bN=null;var ai="PiAuthExpiryTime";var aW="PiAccessToken";var K="PiAccessTokenExpiresIn";var b="PiAccessTokenTimestamp";var an="PiUserId";var bM="PiSmsUserId";var ak="PiLastUserActivityTime";var bO="PiIdpLoginUrl";var B="PiIdpPartnerName";var aa="PiHomeCountryCode";var aP="PiLang";var bu="PiSessionId";var c="PiIdpLogoutCallback";var aF="PiNeedsInitialAccessToken";var ay="PiAuthSessionExpiryTime";var aO="initialize";var g="checkSession";var by="sessionState";var aH="getinitialtoken";var aB="updateuseractivitytime";var k="updateuseractivitytimewithoffset";var Q="getConsent";var aK="refresh";var aL="logout";var az="setoptions";var aS="odf1";var bC="odf1cb";var f="sessionTimingOut";var bl="sessionRejuvenated";var a8="sessionTimedOut";var bD=null;var aY=60;var a1=null;var bY=null;var ar=false;var p=null;var bs=null;var aG={};var F=false;var aJ=undefined;var G=null;var aD=encodeURIComponent;var bm=window.localStorage;var D=new RegExp("^.*((iPhone; CPU iPhone OS 1[0-2])|(iPad; CPU OS 1[0-2])|(iPod touch; CPU iPhone OS 1[0-2])|(Macintosh; Intel Mac OS X.*Version\/1[0-2].*Safari)|(Macintosh; Intel Mac OS X 10_14.*Version\/1.*Safari)).*$");var o=D.test(navigator.userAgent);var N=600;var a6=300;function aT(b3){var b6=b3||function(){};var b5=document.createElement("style");b5.type="text/css";b5.innerHTML="iframe.hidden {display:none}";document.head.appendChild(b5);function b4(b8){var cc=b8.attributes.id;var ca=document.getElementById(b8.targetId)||document.body;var b9=document.getElementById(cc);if(ca&&!b9){var cb=b8.attributes.src;b9=document.createElement("iframe");var b7=null;for(b7 in b8.attributes){if(b8.attributes.hasOwnProperty(b7)){b9.setAttribute(b7,b8.attributes[b7])}}ca.appendChild(b9);if(b8.onload){b9.onload=function(){return b8.onload(cc)}}}return b9}var b2=function(b7,b8){b4({attributes:{id:b7,src:b8,tabindex:-1,width:0,height:0,"class":"hidden",title:""},onload:b6})};b2(av,ao);b4({attributes:{id:O,tabindex:-1,width:0,height:0,"class":"hidden",title:""}})}function ah(b2){return document.getElementById(b2)}function X(){return document.getElementById(O)}function j(){return document.getElementById(u)}function U(b2){return bL+"."+b2}function l(b3,b2){return b0(U(b3),b2)}function af(b2,b3){return s(U(b2),b3)}function a7(){return l(aW)}function ax(){return l(an)}function aR(){return l(bM)}function aE(){var b2=parseInt(l(K));return b2||0}function aU(b3){var b2=aM(l(b));if(!b2){return null}var b4=bU(aE());if(b3){b4/=2}return new Date(b2.getTime()+b4)}function e(){var b2=aU(false);if(!b2){return true}var b3=Date.now();return(b3>=b2.getTime())}function bb(){if(ab()){return bD}return bD||undefined}function n(){return aM(b0(ay))}function aM(b2){if(b2){return new Date(b2)}return null}function bU(b2){if(b2){return b2*1000}return null}function y(b2,b4){if(b2==null){return false}var b3=new Date();if((b2.getTime()-b3.getTime())>b4*1000){return true}return false}function a4(){var b3=aU(true);if(!b3){return null}var b2=new Date();var b4=b3.getTime()-b2.getTime();if(b4<0){b4=0}return b4}function bp(){if(R){return R+(aQ/1000)}return null}function a5(b2){return Math.floor((Math.random()*b2+1))}function z(b2){if(!ap){return piSession.Unknown}if(!y(n(),b2)){return piSession.NoSession}if(!y(aU(),b2)){return piSession.NoToken}return piSession.Success}function M(){return aG[av]}function aw(){switch(z(0)){case piSession.Success:case piSession.NoToken:return true;default:return false}}function ab(){if(aG[av]===undefined){return false}return true}function bg(b2){var b3={};b3[ak]=bb();bk(b2,g,b3);P()}function bz(){bg(av)}var aI=null;function P(b2){if(aI&&b2){clearInterval(aI);aI=null}if(!aI){aI=setInterval(bz,aQ)}}function bH(b2){return b2||aX||window.location.href}function bj(b3){if(!b3){b3=window.location.href}var b2=bQ||al||H();b2=i(b2,"client_id",aD(bL));b2=i(b2,"login_success_url",aD(b3));if(ar){b2=i(b2,"timedout",aD(ar))}if(bN){b2=i(b2,"lang",aD(bN))}window.location.assign(b2)}function W(b3,b4){var b2=at+"/showconsent?escrowTicket="+aD(b3)+"&client_id="+aD(bL)+"&login_success_url="+aD(b4);window.location.assign(b2)}function bF(b2){C(aL,{logoutCallback:b2})}function bZ(b3,b6){var b5=document.createElement("form");b5.action=b3;b5.method="POST";for(var b4 in b6){if(b6.hasOwnProperty(b4)){var b2=document.createElement("input");b2.type="hidden";b2.name=b4;b2.value=b6[b4];b5.appendChild(b2)}}document.getElementsByTagName("body")[0].appendChild(b5);b5.submit()}var aA=function(b7,b5,b2,b6){if(b7!=""&&b5!=""){var b3={};b3.username=b7;b3.password=b5;b3.client_id=b2;b3.login_success_url=b6;b3.auto_login="autologin";var b4=at+"/autologin";b4=bN?i(b4,"lang",bN):b4;bZ(b4,b3)}else{bj(b6)}};var w=function(b5,b4){if(b5!=""){var b2={};b2.username=b5;b2.client_id=bL;b2.login_success_url=b4;var b3=at+"/autoimpersonate";b3=bN?i(b3,"lang",bN):b3;bZ(b3,b2)}else{bj(b4)}};var S=function(b6,b3,b5,b4){var b2=at+"/createSmsSession/";var b7=window.location.href;if(!aw()){bj(b7)}else{if(b6!=null){b2=i(b2,"okurl",aD(b6))}if(b3!=null){b2=i(b2,"errurl",aD(b3))}if(b5){b2=i(b2,"siteid",b5)}if(b4){b2=i(b2,"iscourseaware",b4)}window.location.assign(b2)}};var aq=function(b4,b5){var b2=at+"/saml/generateResponse?sessionType="+aD(b4)+"&targetUrl="+aD(b5);function b3(){if(z(0)==piSession.NoSession){bj(window.location.href)}else{window.location.assign(b2)}}bv(b3,ba)};function bE(b3,b4,b2){bB(aH,b4,b2,a7,{login_success_url:b3})}function a3(b3,b2){bB(aK,b3,b2,a7)}function bq(){if(A){clearTimeout(A);A=null}}function d(){au(ba)}var A=null;function au(b2){if(b2>N||e()){console.log("Giving up retries to refresh access token");return}if(!bV){return}bq();var b4=a4();if(b4==null){return}var b3=b4+a5(250);A=setTimeout(function(){A=null;b4=a4();if(b4==null){return}if(b4>0){au(b2)}else{a3(function(b5,b6){if(b5==piSession.TimedOut){au(b2+a6)}},b2)}},b3)}function bR(b2,b3){X().addEventListener(b2,b3,false)}function ag(b2,b3){X().removeEventListener(b2,b3,false)}function aj(b2,b4){var b3=document.createEvent("Event");b3.initEvent(b2,true,true);b3.data=b4;X().dispatchEvent(b3)}var Y=[];var E={};var be=function(b8,b3,b5){var b2="event"+Math.random();function b4(){return E[b2]}function b6(){var b9=b4(b2);if(b9){if(b9.timeoutTimer!=null){clearTimeout(b9.timeoutTimer)}if(b9.successHandler!=null){piSession.off(b2,b9.successHandler)}delete E[b2]}}var b7={};E[b2]=b7;if(b3){b7.timeoutTimer=setTimeout(function(){b6(b2);if(b8){b8(piSession.TimedOut,null)}},b3)}b7.successHandler=function(ca){b6();var b9=ca.data;if(b5){b9=b5(b9)}if(b8){b8(piSession.Success,b9)}};piSession.on(b2,b7.successHandler);return b2};function bv(b5,b2,b4){var b3=be(b5,bU(b2),b4);if(!ap){Y.push(b3)}else{aj(b3,M())}}function bB(b2,b7,b3,b5,b6){var b4=be(b7,bU(b3),b5);bk(ae,b2,b6,b4)}function C(b2,b4,b3){bk(av,b2,b4,b3)}function bk(b5,b2,b6,b3){var b4=ah(b5);if(b4){b4.contentWindow.postMessage(JSON.stringify({operation:b2,data:b6,eventId:b3}),b4.src)}}function bA(b4){var b2=b4.data.logoutCallback;if(b2){window.location.assign(b2)}else{if(bT){if(bo){window.location.assign(bo)}else{var b3=at+"/showIdpLogout?client_id="+aD(bL)+"&idpPartnerName="+bT;if(al){b3+="&idpLoginUrl="+al}if(bN){b3+="&lang="+bN}window.location.assign(b3)}}}}function bf(){var b2=at+"/showIdpLogout?client_id="+aD(bL);if(bT){b2+="&idpPartnerName="+bT}if(al){b2+="&idpLoginUrl="+al}window.location.assign(b2)}function bI(cq){try{var b6=JSON.parse(cq.data);if(typeof(b6)!=="object"){return}}catch(cp){return}var cf={};var co=(cq.origin).replace(bW,"$1");cf[av]=at.replace(bW,"$1");var cd=b6.data;var cj=b6.eventId;var cg=b6.frameId;if(cg===null||cf[cg]!==co){return}if(b6.operation===by){var cn=false;var b9=false;var cb=cd[ai];var b8=!!cb;var ci=aG[cg];var b7=aJ;var b4=cd[an];if(b8){if(ci==false){cn=true}aG[cg]=true;ar=false;ae=cg}else{if(ci==true){b9=true}aG[cg]=false}var cc=M();if(cc){b9=false}else{ae=null;if(t){bj(bH());return}}if(aG[cg]||!cc){function ca(ct,cs){af(cs,cd[cs])}s(ay,cb);ca(cd,aW);ca(cd,K);ca(cd,b);ca(cd,an);ca(cd,bM);ca(cd,aa);ca(cd,aP);ca(cd,bu);ca(cd,ak)}bD=Math.max(bD||0,cd[ak]||0);var ch=cd[bO];if(ch){al=ch}var b2=cd[B];if(b2){bT=b2}var ck=cd[c];if(ck){bo=ck}if(!ap&&(cc||ab())){if(cc&&l(aF,true)&&!a7()){af(aF);bE(bH(),null,ba);return}ap=true;while(Y.length>0){var cl=Y.pop();aj(cl,cc)}aj(piSession.SessionStateKnownEvent,cc)}aJ=a7();var b3=aJ;var b5=(b3&&b3!=b7);if(b5||cn){d()}if(b5){aj(piSession.RefreshEvent,b3)}if(cn){br();aj(piSession.LoginEvent)}var ce=j();if(b9){bq();aj(piSession.RefreshEvent,null);aj(piSession.LogoutEvent,cd);piSession.hideSessionTimingOutWarningModal(null);if(ce){ce.value=null}G=null}if(cj){aj(cj)}if(ce){G=ce.value}if(!G){if(ce){ce.value=b4}G=b4}else{if(b8&&G!==b4){bf()}}P()}else{if(b6.operation===Q){var cr=cd.escrowTicket;var cm=cd.login_success_url;W(cr,cm)}else{if(b6.operation===bC){aj(cj,cd)}else{if(b6.operation===f){aj(piSession.SessionTimingOutEvent,cd)}else{if(b6.operation===bl){aj(piSession.SessionRejuvenatedEvent,cd)}else{if(b6.operation===a8){ar=true;aj(piSession.SessionTimedOutEvent,cd)}}}}}}}var ac=function(){var b2=(typeof(bm)!=="undefined");if(b2){var b3="__testLocalStorage__";try{bm.setItem(b3,1);bm.removeItem(b3)}catch(b4){b2=false}}if(!b2){bm={getItem:function(b7){var b6=b7+"=";var b5=document.cookie.split(";");for(var b8=0;b8<b5.length;b8++){var b9=b5[b8];while(b9.charAt(0)==" "){b9=b9.substring(1)}if(b9.indexOf(b6)!=-1){return b9.substring(b6.length,b9.length)}}return null},setItem:function(b5,b6){document.cookie=b5+"="+b6+";Path=/;Secure;"+(o?"":"SameSite=None;")},removeItem:function(b5){document.cookie=b5+"=;Path=/;Secure;expires=Thu, 01-Jan-1970 00:00:01 GMT;"+(o?"":"SameSite=None;")}}}};function s(b2,b3){if(typeof(b3)==="undefined"||b3===null){bm.removeItem(b2)}else{bm.setItem(b2,b3)}}function b0(b3,b2){if(!b2&&!ap){return null}return bm.getItem(b3)}function a(){window.addEventListener("message",bI,false);window.addEventListener(piSession.LogoutEvent,bA,false)}function bw(b2){alert(b2);throw b2}function bK(b2){alert(b2);console.error(b2)}var a0=false;function bt(b2,b3){if(a0){bw("piSession.initialize() already called")}if(!b2){bw("piSession.initialize() requires clientId")}bL=b2;ac();if(b3&&typeof(b3)=="number"){b3={checkSessionMilliseconds:b3}}bd(b3);a();aT(function(b4){bk(b4,aO,{client_id:bL,frameId:b4,server_root:at,sessionIdleTimeoutSeconds:bG,sessionIdleTimeoutWarningSeconds:bp(),FrSessionKey:aZ,FrSessionExpiryTimeKey:aN});bg(b4);aV(a9);if(bS>0){setTimeout(function(){if(aG[b4]===undefined){aG[b4]=false}},bS)}});a0=true}function bd(b3){b3=b3||{};if(b3.checkSessionMilliseconds){aQ=b3.checkSessionMilliseconds}if(b3.sessionIdleTimeoutWarningSeconds!=null){R=Number(b3.sessionIdleTimeoutWarningSeconds)||0}if(b3.sessionIdleTimeoutSeconds!=null){bG=Number(b3.sessionIdleTimeoutSeconds)||0}var b5=R?Math.ceil((aQ*4)/1000):0;var b2=Math.ceil((aQ*2)/1000);var b4=bG-b2;if(bG<b5){bK("sessionIdleTimeoutSeconds must be at least "+b5+" for the current setting of checkSessionMilliseconds.  Setting to minimum allowed.");bG=b5}if(R){if(R<b2){bK("sessionIdleTimeoutWarningSeconds must be at least "+b2+" for the current setting of checkSessionMilliseconds.  Disabling warning.");R=null}else{if(R>b4){bK("sessionIdleTimeoutWarningSeconds must be no more than "+b4+" for the current setting of sessionIdleTimeoutSeconds and checkSessionMilliseconds.  Disabling warning.");R=null}}}if(b3.useDefaultIdleTimoutWarningPopup!=null){a9=b3.useDefaultIdleTimoutWarningPopup}if(b3.requireLogin!=null){t=b3.requireLogin}if(b3.autoRefresh!=null){bV=b3.autoRefresh}if(b3.monitorUserActivity!=null){bn=b3.monitorUserActivity}if(b3.sesstype!=null){L=(b3.sesstype===piSession.SessionTypeForgeRock)}if(b3.idpId!=null){bJ=b3.idpId;if(bJ){bQ=at+"/federate/"+aD(bJ)}else{bQ=null}}if(b3.defaultTimeoutSeconds!=null){ba=b3.defaultTimeoutSeconds}if(b3.loginSuccessUrl!=null){aX=b3.loginSuccessUrl}if(b3.lang!=null){bN=b3.lang}am(bn)}function br(){bk(ae,aB)}function bP(){q(aY)}function q(b2){bk(ae,k,{dateNowOffsetMinutes:b2})}function am(b3){if(b3==F){return}function b2(b4){if(b3){window.addEventListener(b4,br,false)}else{window.removeEventListener(b4,br,false)}}b2("keydown");b2("mousedown");b2("paste");b2("cut");b2("wheel");F=b3}function bh(){return F}function bx(b2){piSession.showSessionTimingOutWarningModal(b2.data)}function J(b2){piSession.hideSessionTimingOutWarningModal(b2.data)}function V(b2){piSession.showSessionTimedOutModal(b2.data)}function aV(b2){var b3=b2?bR:ag;b3(piSession.SessionTimingOutEvent,bx);b3(piSession.SessionRejuvenatedEvent,J);b3(piSession.SessionTimedOutEvent,V)}function I(){if(!a1){document.body.insertAdjacentHTML("beforeend","<style>\n.piSessionTimeoutModal {\n\tdisplay: none;\n\tposition: fixed;\n\tleft: 0;\n\ttop: 0;\n\twidth: 100%;\n\theight: 100%;\n\tfont-family: \'Open Sans\', Calibri, Tahoma, sans-serif;\n}\n\nbody.piModalShown {\n    overflow: hidden;\n    pointer-events: none;\n}\n\n.piSessionTimeoutModal>div.piModalOverlay {\n\tposition: fixed;\n\tleft: 0;\n\ttop: 0;\n\twidth: 100%;\n\theight: 100%;\n\tbackground-color: #252525;\n\topacity: 0.6;\n\tz-index: 1000;\n}\n\n.piSessionTimeoutModal .piModalHeader {\n\tfont-weight: normal;\n\tmargin: 0;\n}\n\n.piSessionTimeoutModal>div.piModalBody {\n\tposition: relative;\n\ttop: 50%;\n\ttransform: translateY(-50%);\n        -ms-transform: translate(0%, -50%); \/* IE 9 *\/\n        -webkit-transform: translate(0%, -50%); \/* Safari and Chrome *\/\n\tbackground-color: #fff;\n\tborder: 1px solid #000;\n\tz-index: 1001;\n\t-webkit-border-radius: 2px;\n\t-moz-border-radius: 2px;\n\tborder-radius: 2px;\n\t-webkit-box-shadow: 0 3px 7px rgba(0, 0, 0, 0.3);\n\t-moz-box-shadow: 0 3px 7px rgba(0, 0, 0, 0.3);\n\tbox-shadow: 0 3px 7px rgba(0, 0, 0, 0.3);\n\t-webkit-background-clip: padding-box;\n\t-moz-background-clip: padding-box;\n\tbackground-clip: padding-box;\n\toutline: none;\n\ttext-align: left;\n\tfont-size: 14px;\n\ttransform: translateY(-50%);\n    pointer-events: auto;\n}\n\n.piSessionTimeoutModal div.piModalActions {\n\ttext-align: right;\n}\n\n.piSessionTimeoutModal div.piModalActions button {\n\theight: 36px;\n\tpadding: 0 12px;\n\tmargin: 4px 8px;\n\t-webkit-border-radius: 2px;\n\t-moz-border-radius: 2px;\n\tborder-radius: 2px;\n\tcolor: #252525;\n\tbackground-color: #e9e9e9;\n\tborder-style: solid;\n\tborder-color: #c7c7c7;\n\tfont-weight: bold;\n}\n\n.piSessionTimeoutModal div.piModalActions button.piModalButtonDefault {\n\tcolor: white;\n\tbackground-color: #047a9c;\n\tborder-style: none;\n}\n\n.piModalSessionTimeLeft {\n\tfont-weight: bold;\n\tfont-size: larger;\n}\n\n@media ( min-width :768px) {\n\t.piSessionTimeoutModal .piModalHeader {\n\t\tfont-size: 24px;\n\t}\n\t.piSessionTimeoutModal>div.piModalBody {\n\t\twidth: 600px;\n\t\tmargin: auto;\n\t\tpadding: 40px;\n\t}\n\t.piSessionTimeoutModal div.piModalContent {\n\t\tpadding: 20px 0 0;\n\t}\n\t.piSessionTimeoutModal div.piModalActions {\n\t\tpadding: 28px 0 0;\n\t}\n}\n\n@media ( min-width :480px) and (max-width:767px) {\n\t.piSessionTimeoutModal .piModalHeader {\n\t\tfont-size: 20px;\n\t}\n\t.piSessionTimeoutModal>div.piModalBody {\n\t\twidth: 440px;\n\t\tmargin: auto;\n\t\tpadding: 20px 24px;\n\t}\n\t.piSessionTimeoutModal div.piModalContent {\n\t\tpadding: 16px 0 0;\n\t}\n\t.piSessionTimeoutModal div.piModalActions {\n\t\tpadding: 24px 0 0;\n        display: flex;\n    flex-wrap: wrap\n\t}\n    .piSessionTimeoutModal div.piModalActions button {\n        flex: 1 0 auto;\n    }\n}\n\n@media ( min-width :1px) and (max-width:479px) {\n\t.piSessionTimeoutModal .piModalHeader {\n\t\tfont-size: 20px;\n\t}\n\t.piSessionTimeoutModal>div.piModalBody {\n\t\twidth: auto;\n\t\tmargin: auto;\n\t\tpadding: 20px 24px;\n\t}\n\t.piSessionTimeoutModal div.piModalContent {\n\t\tpadding: 16px 0 0;\n\t}\n\t.piSessionTimeoutModal div.piModalActions {\n\t\tpadding: 0;\n        display: flex;\n    flex-wrap: wrap\n\t}\n    .piSessionTimeoutModal div.piModalActions button {\n        flex: 1 0 auto;\n    }\n}\n<\/style>\n\n<div id=\"piSessionTimingOutModal\" class=\"piSessionTimeoutModal\">\n  <div class=\"piModalOverlay\" tabindex=\"-1\"><\/div>\n  <div class=\"piModalBody\" role=\"dialog\" aria-labelledby=\"piModalTimingOutTitle\" aria-describedby=\"piModalTimingOutDescription\">\n    <h2 class=\"piModalHeader\" id=\"piModalTimingOutTitle\">Are you still there?<\/h2>\n    <p class=\"piModalContent\" id=\"piModalTimingOutDescription\">Your session will time out in <span class=\"piModalSessionTimeLeft\"><\/span> due to inactivity. Would you like to stay signed in?<\/p>\n    <div class=\"piModalActions\">\n      <button class=\"piSignOut\">Sign Out<\/button>\n      <button class=\"piRecordUserActivity piModalButtonDefault\">Keep me signed in<\/button>\n    <\/div>\n  <\/div>\n<\/div>\n\n<div id=\"piSessionTimedOutModal\" class=\"piSessionTimeoutModal\">\n  <div class=\"piModalOverlay\" tabindex=\"-1\"><\/div>\n  <div class=\"piModalBody\" role=\"dialog\" aria-labelledby=\"piModalTimedOutTitle\" aria-describedby=\"piModalTimedOutDescription\">\n    <h2 class=\"piModalHeader\" id=\"piModalTimedOutTitle\">Session timed out<\/h2>\n    <p class=\"piModalContent\" id=\"piModalTimedOutDescription\">Your session has timed out due to inactivity.<\/p>\n    <div class=\"piModalActions\">\n      <button class=\"piContinue piModalButtonDefault\">Continue<\/button>\n    <\/div>\n  <\/div>\n<\/div>\n");a1=document.getElementById("piSessionTimingOutModal");bY=document.getElementById("piSessionTimedOutModal");document.querySelector("#piSessionTimingOutModal button.piSignOut").onclick=function(b2){piSession.logout();piSession.hideSessionTimingOutWarningModal()};document.querySelector("#piSessionTimingOutModal button.piRecordUserActivity").onclick=function(b2){piSession.recordUserActivity();piSession.hideSessionTimingOutWarningModal()};document.querySelector("#piSessionTimedOutModal button.piContinue").onclick=function(b2){piSession.hideSessionTimedOutModal()}}}var aC=null;var a2=null;var Z="keydown";var bi="piModalShown";function v(){aC=document.activeElement}function T(){if(a2){document.removeEventListener(Z,a2);a2=null;document.body.classList.remove(bi)}if(aC){aC.focus();aC=null}}function r(b2){var b3=b2.querySelector(".piModalButtonDefault");a2=function(ca){var cb=9;var b9=27;var b5=b2.querySelectorAll("button,input,checkbox");var b4=b5[0];var b7=b5[b5.length-1];function b8(){if(document.activeElement===b4){ca.preventDefault();b7.focus()}}function b6(){if(document.activeElement===b7){ca.preventDefault();b4.focus()}}switch(ca.keyCode){case b9:b3.click();break;case cb:if(b5.length===1){ca.preventDefault();break}if(ca.shiftKey){b8()}else{b6()}break;default:break}};document.addEventListener(Z,a2);document.body.classList.add(bi);b3.focus()}function bX(){if(!a0){bw("piSession.initialize() has not been invoked")}}function i(b4,b2,b5){var b3=new RegExp("([?|&])"+b2+"=.*?(&|#|$)","i");if(b4.match(b3)){return b4.replace(b3,"$1"+b2+"="+b5+"$2")}else{var b7="";var b6=b4.indexOf("?")!==-1?"&":"?";if(b4.indexOf("#")!==-1){b7=b4.replace(/.*#/,"#");b4=b4.replace(/#.*/,"")}return b4+b6+b2+"="+b5+b7}}var m=function(b3){var b5=b3+"=";var b2=document.cookie.split(";");for(var b4=0;b4<b2.length;b4++){var b6=b2[b4];while(b6.charAt(0)==" "){b6=b6.substring(1,b6.length)}if(b6.indexOf(b5)==0){return b6.substring(b5.length,b6.length)}}return null};return{Unknown:"unknown",NoSession:"nosession",NoToken:"notoken",RequiredLifetimeTooLong:"requiredLifetimeTooLong",Success:"success",TimedOut:"timedout",SessionStateKnownEvent:"sessionstateknown",LoginEvent:"login",LogoutEvent:"logout",RefreshEvent:"refresh",ErrorEvent:"error",SessionTimingOutEvent:"sessionTimingOut",SessionRejuvenatedEvent:"sessionRejuvenated",SessionTimedOutEvent:"sessionTimedOut",SessionTypeForgeRock:bc,initialize:function(b2,b3){bt(b2,b3)},login:function(b4,b5,b6){bX();b5=Number(b5)||0;b4=bH(b4);function b3(){var b7=z(b5);if(b7==piSession.Success){if(b6){b6(b7,a7())}return b7}if(b7==piSession.NoToken){bE(b4,b6,ba);return b7}af(aF,true);bj(b4);return piSession.NoSession}var b2=z(0);if(b2==piSession.Unknown){bv(b3,null);return b2}else{return b3()}},logout:function(b2){bX();bF(b2)},autologin:function(b5,b3,b2,b4){bX();aA(b5,b3,b2,b4)},autoimpersonate:function(b3,b2){bX();w(b3,b2)},getsmssession:function(b5,b2,b4,b3){bX();S(b5,b2,b4,b3)},getRumbaSession:function(b2){bX();aq("rumba",b2)},getForgeRockSession:function(b2){bX();aq(bc,b2)},hasValidSession:function(b2){bX();return z(b2)},getToken:function(b6,b5,b3){bX();b5=b5||0;b3=b3||ba;function b2(){if(y(aU(),b5)){b6(piSession.Success,a7())}else{if(a7()){if(b5>aE()){b6(piSession.RequiredLifetimeTooLong,null)}else{a3(b6,b3)}}else{b6(piSession.NoToken,null)}}}function b4(){var b7=z(0);if(!b7){b6(piSession.NoSession,null)}else{b2()}}bv(b4,b3)},recordUserActivity:function(){bX();br()},monitorUserActivity:function(b2){bX();am(b2)},extendUserSession:function(){bX();bP()},currentToken:function(){bX();return a7()},doNotUseThisDeprecatedMethod:function(b2){bB(aS,b2,10);return null},userId:function(){bX();return ax()},smsUserId:function(){bX();return aR()},currentSessionExpiry:function(){bX();return n()},currentTokenExpiry:function(){bX();return aU()},currentLastUserActivityTime:function(){bX();var b2=bb();if(b2){return new Date(b2).toString()}return""},isUserEventMonitoringActive:function(){bX();return bh()},setOptions:function(b2){bX();bd(b2);P(true);C(az,{sessionIdleTimeoutSeconds:bG,sessionIdleTimeoutWarningSeconds:bp()});aV(a9)},showSessionTimingOutWarningModal:function(b4){bX();var b3=new Date(b4).getTime();function b2(){var b8=Math.max(0,b3-new Date().getTime());var b7=new Date(b8).toISOString().substr(11,8);if(b7.startsWith("00:")){b7=b7.substring(3)}document.querySelector("#piSessionTimingOutModal .piModalSessionTimeLeft").innerHTML=b7;return b8}I();piSession.hideSessionTimedOutModal();var b5=b2();var b6=b5-(R*1000)-500;p=setInterval(function(){b2()},1000);bs=setTimeout(function(){bs=null;v();b2();a1.style.display="block";r(a1)},b6)},hideSessionTimingOutWarningModal:function(b2){bX();if(bs){clearTimeout(bs);bs=null}if(a1&&a1.style.display!=="none"){a1.style.display="none";T()}if(p){clearInterval(p);p=null}},showSessionTimedOutModal:function(b2){bX();I();piSession.hideSessionTimingOutWarningModal();v();bY.style.display="block";r(bY)},hideSessionTimedOutModal:function(){bX();if(bY&&bY.style.display!=="none"){bY.style.display="none";T()}},on:function(b2,b3){bX();bR(b2,b3)},off:function(b2,b3){bX();ag(b2,b3)},trigger:function(b2,b3){bX();aj(b2,b3)},getHomeCountryCode:function(){bX();if(aw()){return l(aa)}else{return""}},getPreferredLanguage:function(){bX();if(aw()){return l(aP)}else{return""}},getContextId:function(){bX();if(aw()){return l(bu)}else{return""}}}}();
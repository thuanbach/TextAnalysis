/*! For license information please see all.av-prod-build.js.LICENSE.txt */
(()=>{var __webpack_modules__={7228:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},2858:e=>{e.exports=function(e){if(Array.isArray(e))return e}},3646:(e,t,n)=>{var r=n(7228);e.exports=function(e){if(Array.isArray(e))return r(e)}},8926:e=>{function t(e,t,n,r,i,a,o){try{var s=e[a](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(i,a){var o=e.apply(n,r);function s(e){t(o,i,a,s,c,"next",e)}function c(e){t(o,i,a,s,c,"throw",e)}s(void 0)}))}}},4575:e=>{e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},3913:e=>{function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}},9713:e=>{e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},5318:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}}},862:(e,t,n)=>{var r=n(8);function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}},6860:e=>{e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},3884:e=>{e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}},521:e=>{e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},8206:e=>{e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},3038:(e,t,n)=>{var r=n(2858),i=n(3884),a=n(379),o=n(521);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()}},319:(e,t,n)=>{var r=n(3646),i=n(6860),a=n(379),o=n(8206);e.exports=function(e){return r(e)||i(e)||a(e)||o()}},8:e=>{function t(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=t=function(e){return typeof e}:e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(n)}e.exports=t},379:(e,t,n)=>{var r=n(7228);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},1553:e=>{var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),o=new T(r||[]);return a._invoke=function(e,t,n){var r=l;return function(i,a){if(r===p)throw new Error("Generator is already running");if(r===m){if("throw"===i)throw a;return P()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var c=d(e,t,n);if("normal"===c.type){if(r=n.done?m:f,c.arg===g)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=m,n.method="throw",n.arg=c.arg)}}}(e,n,o),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var l="suspendedStart",f="suspendedYield",p="executing",m="completed",g={};function h(){}function b(){}function v(){}var y={};y[a]=function(){return this};var E=Object.getPrototypeOf,O=E&&E(E(j([])));O&&O!==n&&r.call(O,a)&&(y=O);var A=v.prototype=h.prototype=Object.create(y);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(i,a,o,s){var c=d(e[i],e,a);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==typeof l&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(l).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,s)}))}s(c.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function _(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,_(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=d(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function j(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:P}}function P(){return{value:t,done:!0}}return b.prototype=A.constructor=v,v.constructor=b,b.displayName=c(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,s,"GeneratorFunction")),e.prototype=Object.create(A),e},e.awrap=function(e){return{__await:e}},S(w.prototype),w.prototype[o]=function(){return this},e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},S(A),c(A,s,"Generator"),A[a]=function(){return this},A.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=j,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:j(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}},7757:(e,t,n)=>{e.exports=n(1553)},9866:()=>{},7884:(e,t,n)=>{"use strict";var r=n(862),i=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.mapEventsToUrls=void 0;var a=i(n(7757)),o=i(n(8926)),s=i(n(4575)),c=i(n(9713)),u=r(n(6958)),d=n(6781),l=i(n(3883)),f=n(916),p=n(1671),m=n(6182),g=function(e){return e.reduce((function(e,t){var n=t.options.endpoint||"default",r=e[n]||[];return r.push(t.payload),e[n]=r,e}),{})};t.mapEventsToUrls=g;t.default=function e(t){var n=this;(0,s.default)(this,e),(0,c.default)(this,"cheggIdManager",new p.CheggIdManager),(0,c.default)(this,"_eventCache",void 0),(0,c.default)(this,"_runningTimeout",void 0),(0,c.default)(this,"_countdownPromise",void 0),(0,c.default)(this,"client",void 0),(0,c.default)(this,"_readAndEmptyCache",(function(){return n._eventCache.splice(0,n._eventCache.length)})),(0,c.default)(this,"queueEvent",function(){var e=(0,o.default)(a.default.mark((function e(t,r){var i,o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.force,delete r.force,n._eventCache.push({payload:t,options:r}),e.prev=3,o=i?n.flushCachedEvents():n.startCountdown(),e.abrupt("return",o);case 8:return e.prev=8,e.t0=e.catch(3),l.default.error(e.t0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t,n){return e.apply(this,arguments)}}()),(0,c.default)(this,"startCountdown",(function(){(0,m.noWindow)()||(n._countdownPromise=n._countdownPromise||new Promise((function(e,t){n._runningTimeout=window.setTimeout((function(){n.sendCachedEvents().then(e).catch(t)}),n.client.batchInterval)})),n._countdownPromise)})),(0,c.default)(this,"resetCountdown",(function(){n._runningTimeout&&clearTimeout(n._runningTimeout),n._runningTimeout=void 0,n._countdownPromise=void 0})),(0,c.default)(this,"flushCachedEvents",(0,o.default)(a.default.mark((function e(){var t,r,i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n._readAndEmptyCache(),r=[],t.length&&(i=g(t),r=Object.keys(i).map(function(){var e=(0,o.default)(a.default.mark((function e(t){var r,o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i[t],e.next=3,(0,f.enrichEventsWithAdobeData)(r);case 3:return r=e.sent,e.next=6,n.cheggIdManager.enrichEventsWithCheggIds(r);case 6:return r=e.sent,o="default"===t?n.client.endpoint:t,e.next=10,(0,u.sendImmediateRequest)({url:o,data:r});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),e.next=5,Promise.all(r);case 5:case"end":return e.stop()}}),e)})))),(0,c.default)(this,"sendCachedEvents",(0,o.default)(a.default.mark((function e(){var t,r,i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.resetCountdown(),t=n._readAndEmptyCache(),r=[],t.length&&(i=g(t),r=Object.keys(i).map(function(){var e=(0,o.default)(a.default.mark((function e(t){var r,o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i[t],e.next=3,(0,f.enrichEventsWithAdobeData)(r);case 3:return r=e.sent,e.next=6,n.cheggIdManager.enrichEventsWithCheggIds(r);case 6:return r=e.sent,o="default"===t?n.client.endpoint:t,e.abrupt("return",(0,u.default)({url:o,data:r,retries:d.DATA_REQUEST_RETRIES}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),e.abrupt("return",Promise.all(r));case 5:case"end":return e.stop()}}),e)})))),this._eventCache=[],this.client=t}},6471:(e,t,n)=>{"use strict";var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.EventContentCache=void 0;var i=r(n(4575)),a=r(n(9713)),o=function e(){var t=this;(0,i.default)(this,e),(0,a.default)(this,"_cachedContent",void 0),(0,a.default)(this,"clear",(function(){delete t._cachedContent})),(0,a.default)(this,"read",(function(){return t._cachedContent})),(0,a.default)(this,"write",(function(e){t._cachedContent=e})),(0,a.default)(this,"shouldEnrichEventWithCachedContent",(function(e){var n=e.type.includes("clickstream"),r=t._cachedContent,i=!e.data.content;return Boolean(n&&r&&i)})),(0,a.default)(this,"enrichEventData",(function(e){return e.content=t._cachedContent,e}))};t.EventContentCache=o;var s=o;t.default=s},2630:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(6182),i=n(6781);t.default=function(e){var t;return(0,r.noWindow)()||(window._rswClients&&(t=window._rswClients[e||i.DEFAULT_NAMESPACE]),t||(t=function(e){var t,n=(0,r.getCommandKey)(e);return window[n]=window[n]||[],window[n].push((function(e){t=e})),t}(e))),t}},2109:(e,t,n)=>{"use strict";var r=n(862),i=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(4575)),o=i(n(3913)),s=i(n(9713)),c=r(n(7740)),u=n(2461),d=i(n(7042)),l=i(n(9545)),f=i(n(916)),p=i(n(8673)),m=i(n(7884)),g=n(6781),h=n(6182),b=n(144),v=n(6890),y=i(n(3883)),E=i(n(6471)),O=i(n(9537)),A=function(){function e(){var t=this;(0,a.default)(this,e),(0,s.default)(this,"_eventCache",void 0),(0,s.default)(this,"_runningTimeout",void 0),(0,s.default)(this,"_countdownPromise",void 0),(0,s.default)(this,"_readAndEmptyCache",void 0),(0,s.default)(this,"stateManager",void 0),(0,s.default)(this,"batcher",void 0),(0,s.default)(this,"isInit",void 0),(0,s.default)(this,"endpoint",void 0),(0,s.default)(this,"eventGate",void 0),(0,s.default)(this,"batchInterval",void 0),(0,s.default)(this,"eventContentCache",void 0),(0,s.default)(this,"viewPreviousCache",void 0),(0,s.default)(this,"cachedViewPrevious",void 0),(0,s.default)(this,"_sendDoubleInitError",(function(e){var n=JSON.stringify({originalState:t.stateManager.get(),newState:e}),r="init is called twice: ".concat(n);y.default.error(new Error(r))})),(0,s.default)(this,"getAdobeData",c.getAdobeData),(0,s.default)(this,"structureData",(function(e){return(0,f.default)(t,e)})),(0,s.default)(this,"updateState",(function(e){return t.stateManager.update(e)})),(0,s.default)(this,"init",(function(e){var n=e.endpoint,r=e.batchInterval,i=e.useLocalPort,a=e.errorHandler,o=e.analyticsAgent,s=e.appId,u=e.appVer,d=e.authState,l=e.cheggUuid,f=e.clientExperiments,p=e.experiments,m=e.clientIpAddress,E=e.referralUrl,O=e.testCells,A=void 0===O?[]:O,S=e.url,w=e.subscriptions,_=e.uvn,I=e.view,C=e.dfid,T=e.userAgent,j=e.property,P=e.alternateUserId;t.isInit&&(t._sendDoubleInitError(e),t.reset()),(0,v.init)(a),c.init().catch(y.default.error);var k=i?(0,h.getLocalPortFromParam)(i):(0,h.getLocalPortFromUrl)();t.endpoint=k?"http://localhost:".concat(k):n,t.batchInterval=r||g.DEFAULT_BATCH_INTERVAL;var x=(0,h.getUserAgent)(T),N=(0,b.get)(x),D={appId:s,analyticsAgent:o,userAgent:x,url:S,referralUrl:E,rswVersion:"9.6.30",browserName:N.browserName,browserVersion:N.browserVersion,authState:d,cheggUuid:l,clientIpAddress:m,testCells:A,osName:N.osName,osVersion:N.osVersion,platform:N.platform,property:j,appVer:u,clientExperiments:f,experiments:p,uvn:_,view:I,dfid:C,subscriptions:w,alternateUserId:P,viewPrevious:t.cachedViewPrevious};t.stateManager.init(D),t.eventGate.allowSends(),t.eventGate.queuePreloadEvents(),t.batcher.startCountdown(),t.isInit=!0})),(0,s.default)(this,"reset",(function(){t.stateManager.reset(),t.eventGate.blockSends(),t.isInit=!1})),(0,s.default)(this,"sendEvent",(function(e){return(0,u.sendEvent)(t,e)})),(0,s.default)(this,"event",(function(e,n){return(0,l.default)(t,e,n)})),(0,s.default)(this,"_nakedEvent",(function(e,n){return(0,u.nakedEvent)(t,e,n)})),(0,s.default)(this,"writeEventContentCache",(function(e){t.eventContentCache.write(e)})),(0,s.default)(this,"readEventContentCache",(function(){return t.eventContentCache.read()})),(0,s.default)(this,"clearEventContentCache",(function(){t.eventContentCache.clear()})),this.viewPreviousCache=new O.default,this.cachedViewPrevious=this.viewPreviousCache.get(),this.stateManager=new p.default(this),this.eventContentCache=new E.default,this.batcher=new m.default(this),this.eventGate=new d.default(this),(0,h.noWindow)()||this._startInitTimer()}return(0,o.default)(e,[{key:"_startInitTimer",value:function(){var e=this;setTimeout((function(){e.isInit||y.default.warn("Init was not called on client within 7000ms of being created")}),g.INIT_TIMEOUT_THRESHOLD)}}]),e}();t.default=A},8673:(e,t,n)=>{"use strict";var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(4575)),a=r(n(9713)),o=n(7916),s=r(n(979));function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var u=n(9996);t.default=function e(t){var n=this;(0,i.default)(this,e),(0,a.default)(this,"_state",void 0),(0,a.default)(this,"_client",void 0),(0,a.default)(this,"update",(function(e){n._state.view&&e.view&&!(0,o.deepEquals)(e.view,n._state.view)&&(n._state=u(n._state,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({viewPrevious:n._state.view},e),{arrayMerge:function(e,t){return(0,s.default)(e,t)}})),n._state=u(n._state,e,{arrayMerge:function(e,t){return(0,s.default)(e,t)}}),e.view&&n._client.viewPreviousCache.update(n._state.view)})),(0,a.default)(this,"init",this.update),(0,a.default)(this,"get",(function(){return u({},n._state)})),(0,a.default)(this,"reset",(function(){n._state={}})),this._state={},this._client=t}},916:(e,t,n)=>{"use strict";var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.structureTestCells=t.enrichEventsWithAdobeData=t.addAdobeData=void 0;var i=r(n(3038)),a=r(n(8)),o=r(n(7757)),s=r(n(8926)),c=r(n(9713)),u=r(n(2531)),d=n(7740),l=n(6781),f=n(1670),p=n(7280),m=n(8874),g=n(6182);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=function(e,t){var n=t.mcid,r=b(b({},e.extensions.client_common),{},{adobe_mcid:n});return b(b({},e),{},{extensions:{client_common:r}})};t.addAdobeData=v;var y=function(){var e=(0,s.default)(o.default.mark((function e(t){var n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.getAdobeData)();case 2:return n=e.sent,e.abrupt("return",t.map((function(e){return v(e,n)})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.enrichEventsWithAdobeData=y;var E=function(e){return Array.isArray(e)||"object"!==(0,a.default)(e)?e:Object.entries(e).reduce((function(e,t){var n=(0,i.default)(t,2),r=n[0],a=n[1];return e.push({layer:r,cell:a}),e}),[])};t.structureTestCells=E;t.default=function(e,t){var n=t.type,r=t.data,i=t.eventTime,a=t.eventVersion,o=t.options,s=(void 0===o?{}:o).sessionStateOverrides||{},c=b(b({},e.stateManager.get()),s),d=c.analyticsAgent,h=c.appId,v=c.appVer,y=c.cheggUuid,O=c.authState,A=c.clientIpAddress,S=c.clientExperiments,w=c.experiments,_=c.subscriptions,I=c.testCells,C=c.rswVersion,T=c.userAgent,j=c.browserName,P=c.browserVersion,k=c.osName,x=c.osVersion,N=c.platform,D=c.property,R=c.url,M=c.referralUrl,B=c.uvn,U=c.view,L=c.viewPrevious,V=c.dfid,F=c.alternateUserId,q=E(I),G=(0,f.getCurrentUrl)(R),z={url:G,platform:N,analytics_agent:d,user_agent:T,chegg_uuid:y,auth_state:O,client_ip_address:A,test_cells:q,client_experiments:S,experiments:w,referral_url:(0,f.getCurrentReferrer)(M),app_ver:v,browser_name:j,browser_version:P,os:k,os_ver:x,analytics_module_version:C,user_subscription_status:_||[],base_event_type:l.BASE_EVENT_TYPE,base_event_version:l.BASE_EVENT_VERSION,uvn:B,view:U,view_previous:L,dfid:V,window_dimensions:(0,p.getWindowDimensions)(),alternate_user_id:F,browser_language:(0,g.getBrowserLanguage)()},W=(0,m.enrichSessionWithCookies)(z),H=(0,f.getTopLevelDomain)(G),K=r;return e.eventContentCache.shouldEnrichEventWithCachedContent(t)&&(K=e.eventContentCache.enrichEventData(r)),{data:K,event_id:u.default.get(),event_time:i.toISOString(),cloud_events_version:"0.1",event_type:"".concat(H,".").concat(D,".").concat(n),source:"/".concat(l.BASE_EVENT_TYPE,"/").concat(D,"/").concat(h),event_type_version:a&&a.toString(),perimeterx_score:(0,g.getPerimeterxScore)(),content_type:"application/json",extensions:{client_common:W}}}},9537:(e,t,n)=>{"use strict";var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(4575)),a=r(n(3913)),o=r(n(9713)),s=n(6182),c=n(6781);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(e){return!(e.experience||e.property||e.view_name)},f=function(){function e(){var t;if((0,i.default)(this,e),(0,o.default)(this,"_cachedView",void 0),!(0,s.noWindow)())try{var n=window.localStorage.getItem(c.VIEW_PREVIOUS_CACHE_KEY),r=JSON.parse(n),a=parseInt(r.cacheTimestamp);t=a,Date.now()-t>c.VIEW_PREVIOUS_CACHE_TIMEOUT||(this._cachedView=d(d({},r),{},{cacheTimestamp:new Date(a)}))}catch(e){}}return(0,a.default)(e,[{key:"saveToBrowser",value:function(){if(this._cachedView){var e=JSON.stringify(d(d({},this._cachedView),{},{cacheTimestamp:this._cachedView.cacheTimestamp.valueOf()}));window.localStorage.setItem(c.VIEW_PREVIOUS_CACHE_KEY,e)}}},{key:"get",value:function(){if(this._cachedView){var e=d({},this._cachedView);if(delete e.cacheTimestamp,l(e))return;return e}}},{key:"update",value:function(e){if(!(0,s.noWindow)()&&e&&!l(e)){var t=d(d({},e),{},{cacheTimestamp:new Date});delete t.content,this._cachedView=t,this.saveToBrowser()}}}]),e}();t.default=f},6781:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VIEW_PREVIOUS_CACHE_TIMEOUT=t.VIEW_CURRENT_CACHE_KEY=t.VIEW_PREVIOUS_CACHE_KEY=t.DEFAULT_NAMESPACE=t.DEFAULT_COMMAND_KEY=t.LOCAL_ENV_DEFAULT_PORT=t.LOCAL_ENV_QUERY_PARAM=t.EVENTS=t.PLATFORM_WHITELIST=t.DATA_REQUEST_RETRIES=t.CHEGG_ID_REQUEST_RETRIES=t.DELAY_BETWEEN_RETRIES=t.SLOW_RESPONSE_THRESHOLD=t.INIT_TIMEOUT_THRESHOLD=t.DEFAULT_BATCH_INTERVAL=t.LOGGING_NAMESPACE=t.BASE_EVENT_TYPE=t.BASE_EVENT_VERSION=t.ADOBE=void 0,t.ADOBE={demdexUrl:"https://chegginc.demdex.net/id?d_visid_ver=4.2.0&d_fieldgroup=MC&d_rtbd=json&d_ver=2&d_verify=1&d_orgid=3FE7CBC1556605A77F000101%40AdobeOrg&d_nsid=0&ts=",cacheBuster:"cache_buster",cookieName:"AMCV_3FE7CBC1556605A77F000101@AdobeOrg",adobeFallbackCookieName:"s_ecid",legacyCookieName:"mcid",fallbackCookieName:"local_fallback_mcid",responseIndex:"mcid",timeout:5e3},t.BASE_EVENT_VERSION="4",t.BASE_EVENT_TYPE="web",t.LOGGING_NAMESPACE="rio-sdk-web",t.DEFAULT_BATCH_INTERVAL=200,t.INIT_TIMEOUT_THRESHOLD=7e3,t.SLOW_RESPONSE_THRESHOLD=5e3,t.DELAY_BETWEEN_RETRIES=50,t.CHEGG_ID_REQUEST_RETRIES=2,t.DATA_REQUEST_RETRIES=8;t.PLATFORM_WHITELIST=["tablet","mobile","desktop","tv","bot",void 0],t.EVENTS={pageview:{cheggDbEventName:"page_view",version:"4.0.0"},cardEngagement:{cheggDbEventName:"card_engagement",version:"3.0.0"},citationCreated:{cheggDbEventName:"citation_created",version:"2.0.0"},paperUpload:{cheggDbEventName:"paper_upload",version:"3.0.0"},transaction:{cheggDbEventName:"transaction",version:"3.0.0"},slotRender:{cheggDbEventName:"slot_render",version:"1.0.0"},videoEvent:{cheggDbEventName:"video_event",version:"1.0.0"}},t.LOCAL_ENV_QUERY_PARAM="use-local-rsw-port",t.LOCAL_ENV_DEFAULT_PORT=8042,t.DEFAULT_COMMAND_KEY="wtaCmd",t.DEFAULT_NAMESPACE="default",t.VIEW_PREVIOUS_CACHE_KEY="rsw_view_previous_cache",t.VIEW_CURRENT_CACHE_KEY="rsw_view_current_cache",t.VIEW_PREVIOUS_CACHE_TIMEOUT=36e5},7042:(e,t,n)=>{"use strict";var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(4575)),a=r(n(9713)),o=r(n(3883));t.default=function e(t){var n=this;(0,i.default)(this,e),(0,a.default)(this,"_shouldAllowSends",void 0),(0,a.default)(this,"_preloadEvents",void 0),(0,a.default)(this,"_client",void 0),(0,a.default)(this,"pushPreloadEvent",(function(e){return new Promise((function(t){n._preloadEvents.push({specs:e,resolvePromise:t})}))})),(0,a.default)(this,"queuePreloadEvents",(function(){n._preloadEvents.forEach((function(e){var t=n._client.structureData(e.specs);n._client.batcher.queueEvent(t,e.options||{}).then(e.resolvePromise).catch((function(e){return o.default.error(e)}))})),n._preloadEvents=[]})),(0,a.default)(this,"allowSends",(function(){n._shouldAllowSends=!0})),(0,a.default)(this,"blockSends",(function(){n._shouldAllowSends=!1})),(0,a.default)(this,"shouldAllowSends",(function(){return n._shouldAllowSends})),this._client=t,this._shouldAllowSends=!1,this._preloadEvents=[]}},9545:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(6781);t.default=function(e,t){var n=t.type,i=t.meta,a=void 0===i?{}:i,o=t.data,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{force:!1},c=s.force,u=r.EVENTS[n],d=u.version,l=u.cheggDbEventName,f=a.eventTime||new Date,p={eventTime:f,version:d};return e._nakedEvent({data:o||{},type:l,meta:p},{force:c})}},2461:(e,t,n)=>{"use strict";var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.nakedEvent=t.sendEvent=void 0;var i=r(n(9713)),a=r(n(3883));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.sendEvent=function(e,t){var n;t.eventVersion||(t.version?t.eventVersion=t.version:a.default.error(new Error("Either version or eventVersion argument must be passed to sendEvent")));var r=s(s({},t),{},{eventTime:new Date});if(e.eventGate.shouldAllowSends()){var i=e.structureData(r);n=e.batcher.queueEvent(i,r.options||{})}else n=e.eventGate.pushPreloadEvent(r);return n},t.nakedEvent=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{force:!1},i={data:t.data,type:t.type,eventVersion:t.meta.version,eventTime:t.meta.eventTime,options:r};if(e.eventGate.shouldAllowSends()){var a=e.structureData(i);n=e.batcher.queueEvent(a,r)}else n=e.eventGate.pushPreloadEvent(i);return n}},5960:(e,t,n)=>{"use strict";var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(3883)),a=n(6182),o=n(298),s=n(6781);t.default=function(e,t){(0,a.noWindow)()||(function(e,t){var n=function(t){try{t(e)}catch(e){i.default.error(e)}},r=(0,a.getCommandKey)(t),s=window;s[r]=s[r]||[];var c=s[r].rswInitialized;s[r].forEach(n),s[r].push=n,c||(s[r].rswInitialized=!0,window.addEventListener("beforeunload",o.unloadBehavior))}(e,t),window._rswClients=window._rswClients||{},window._rswClients[t||s.DEFAULT_NAMESPACE]=e)}},8605:(e,t,n)=>{"use strict";var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0});var i={getClient:!0,Client:!0,getExistingClient:!0,RswResponse:!0,SessionData:!0,StateUpdateData:!0,getNamespaceKey:!0};Object.defineProperty(t,"Client",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"getExistingClient",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"RswResponse",{enumerable:!0,get:function(){return c.RswResponse}}),Object.defineProperty(t,"SessionData",{enumerable:!0,get:function(){return c.SessionData}}),Object.defineProperty(t,"StateUpdateData",{enumerable:!0,get:function(){return u.StateUpdateData}}),Object.defineProperty(t,"getNamespaceKey",{enumerable:!0,get:function(){return d.getNamespaceKey}}),t.getClient=void 0;var a=r(n(2109)),o=r(n(2630)),s=r(n(5960)),c=n(576),u=n(8673),d=n(6182),l=r(n(3883)),f=n(9866);Object.keys(f).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||e in t&&t[e]===f[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}}))})),t.getClient=function(e){try{var t={};"string"==typeof e?t.namespace=e:void 0!==e&&(t=e);var n=(0,o.default)(t.namespace);if(n)return n;var r=new a.default;return(0,s.default)(r,t.namespace),r}catch(e){return l.default.error(e),null}}},6958:(e,t,n)=>{"use strict";var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.sendImmediateRequest=void 0;var i=r(n(9713)),a=r(n(7757)),o=r(n(8926)),s=r(n(9669)),c=n(6781),u=r(n(3883)),d=n(6182);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(){var e=(0,o.default)(a.default.mark((function e(t){var n,r,i,o,c,u,d,l,f,p;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,r=t.options,i=t.data,o=t.retries,c=t.retriesRemaining,u=t.delay,e.prev=1,l=i?"post":"get",f=!0===r.withCredentials,p=r.headers?r.headers:{},e.next=7,(0,s.default)({method:l,url:n,data:i,withCredentials:f,headers:p});case 7:d=e.sent,e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,b({retries:o,retriesRemaining:c,delay:u,url:n,options:r,data:i,error:e.t0});case 14:d=e.sent;case 15:return e.abrupt("return",d);case 16:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=(0,o.default)(a.default.mark((function e(t){var n,r,i,o,c,u;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,r=t.data,i=t.options,c=f({"content-type":"application/json;charset=UTF-8"},(o=void 0===i?{}:i).headers),u=!0===o.withCredentials,e.prev=3,e.abrupt("return",fetch(n,{method:"POST",headers:c,keepalive:!0,credentials:u?"include":"same-origin",body:JSON.stringify(r)}));case 7:return e.prev=7,e.t0=e.catch(3),e.abrupt("return",(0,s.default)({method:"POST",headers:c,url:n,data:r,withCredentials:!0}));case 10:case"end":return e.stop()}}),e,null,[[3,7]])})));return function(t){return e.apply(this,arguments)}}();t.sendImmediateRequest=m;var g=function(e){return setTimeout((function(){u.default.log(new Error("Request to ".concat(e," took greater than ").concat(c.SLOW_RESPONSE_THRESHOLD," to complete")))}),c.SLOW_RESPONSE_THRESHOLD)},h=function(){var e=(0,o.default)(a.default.mark((function e(t){var n,r,i,o,s,u,d;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,r=t.data,i=t.retries,o=t.options,s=void 0===o?{}:o,u=g(n),e.next=4,p({url:n,data:r,options:s,retries:i,retriesRemaining:i,delay:c.DELAY_BETWEEN_RETRIES});case 4:return d=e.sent,clearTimeout(u),e.abrupt("return",d);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=(0,o.default)(a.default.mark((function e(t){var n,r,i,o,s,c,l,f;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.retries,r=t.retriesRemaining,i=t.delay,o=t.url,s=t.options,c=t.data,l=t.error,r===n&&(l.message="RSW's first request to ".concat(o," failed. Retrying. ").concat(l.message),u.default.log(l)),r===n-1&&0!==r&&(l.message="RSW request to ".concat(o," failed twice in a row. Will continue to retry"),u.default.error(l)),0!==r){e.next=7;break}return l.message="RSW request to ".concat(o," failed all ").concat(n," retries. ").concat(l.message),u.default.error(l),e.abrupt("return",l);case 7:return f=r-1,e.abrupt("return",(0,d.wrapTimeout)((function(){return p({url:o,options:s,data:c,retries:n,delay:i,retriesRemaining:f})}),i));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=h;t.default=v},8874:(e,t,n)=>{"use strict";var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.enrichSessionWithCookies=t.getCookies=void 0;var i=r(n(9713));function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=n(6808),u=[{sessionId:"uvn",cookieName:"V"},{sessionId:"client_experiments",cookieName:"exp"},{sessionId:"dfid",cookieName:"DFID"}],d=function(){var e,t={},n=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw a}}}}(u);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=c.get(r.cookieName);i&&(t[r.sessionId]=i)}}catch(e){n.e(e)}finally{n.f()}return t};t.getCookies=d,t.enrichSessionWithCookies=function(e){var t=d();for(var n in e)void 0===e[n]&&delete e[n];return o(o({},t),e)}},576:()=>{},298:(e,t,n)=>{"use strict";var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.unloadBehavior=void 0;var i=r(n(3883)),a=n(7740),o=n(6182);t.unloadBehavior=function(e){"pending"===(0,a.getAdobeDataStatus)()?i.default.error(new Error("User left page before adobe data was fetched")):!(0,o.noWindow)()&&window._rswClients&&Object.values(window._rswClients).map((function(e){e.batcher.flushCachedEvents()})),delete e.returnValue}},4888:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(){var e,t,n="0123456789",r="",i="",a=10,o=10;for(e=0;19>e;e++)t=Math.floor(Math.random()*a),r+=n.substring(t,t+1),0===e&&9==t?a=3:((1==e||2==e)&&10!=a&&2>t||2<e)&&(a=10),t=Math.floor(Math.random()*o),i+=n.substring(t,t+1),0===e&&9==t?o=3:((1==e||2==e)&&10!=o&&2>t||2<e)&&(o=10);return r+i}},7740:(e,t,n)=>{"use strict";var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.getAdobeDataStatus=t.getAdobeData=t.init=t.parseAdobeCookie=t.getAdobeCookie=t.reset=t.extractCookies=t.getCacheBuster=void 0;var i=r(n(7757)),a=r(n(8926)),o=n(6781),s=r(n(3883)),c=n(6182),u=r(n(4888)),d=n(1670),l=n(375),f=n(6808);t.getCacheBuster=function(e){var t=Math.floor(1e9*Math.random()),n=e.indexOf("?")>-1?"&":"?";return"".concat(n).concat(o.ADOBE.cacheBuster,"=").concat(t)};var p,m=function e(t){var n=t.data;return"data"in n?e(n):"cookies"in n?n.cookies:null};t.extractCookies=m;var g=new Promise((function(e){p=function(t){h="resolved",e(t)}})),h="uninitialized",b=function(){g=new Promise((function(e){p=function(t){e(t)}}))};t.reset=b,t.getAdobeCookie=function(){if(!E()){var e=null;try{e=f.get(o.ADOBE.cookieName)}catch(e){s.default.warn(e)}return v(e)||void 0}};var v=function(e){try{var t=decodeURI(e).split("|"),n=t.indexOf("MCMID");return-1!==n?t[n+1]:null}catch(e){return null}};t.parseAdobeCookie=v;var y=function(e){return e&&"null"!==e},E=function(){try{return!!(0,c.noWindow)()||window.location.href.includes("rsw_disable_adobe_cookie")}catch(e){s.default.warn(e)}},O=function(){var e=(0,a.default)(i.default.mark((function e(){var t,n,r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h="pending",t=null,!(0,c.noWindow)()){e.next=4;break}return e.abrupt("return",{mcid:null});case 4:n=null;try{n=f.get(o.ADOBE.cookieName)}catch(e){s.default.warn(e)}if(n&&(s.default.log("AMCV cookie is present"),t=v(n)),!y(t)){s.default.log("Demdex failed"),t=null;try{t=f.get(o.ADOBE.fallbackCookieName)}catch(e){s.default.warn(e)}!y(t)&&(0,l.consentGrantedFNC)()&&(s.default.log("No local cookie, generating local cookie"),t=(0,u.default)(),f.set(o.ADOBE.fallbackCookieName,t,{domain:".".concat((0,d.getRootDomain)(window.location.href))}),r="MCMID|".concat(t),s.default.log("setting local s_ecid cookie",r,o.ADOBE.adobeFallbackCookieName),f.set(o.ADOBE.adobeFallbackCookieName,r,{domain:".".concat((0,d.getRootDomain)(window.location.href))}),t=t,f.set(o.ADOBE.legacyCookieName,t))}return p({mcid:t}),e.abrupt("return",{mcid:t});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t.init=O;var A=function(){return g};t.getAdobeData=A;var S=function(){return h};t.getAdobeDataStatus=S;var w={getAdobeData:A,getAdobeDataStatus:S,init:O,parseAdobeCookie:v,reset:b,extractCookies:m};t.default=w},1671:(e,t,n)=>{"use strict";var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.CheggIdManager=void 0;var i=r(n(7757)),a=r(n(8926)),o=r(n(4575)),s=r(n(3913)),c=r(n(9713)),u=r(n(9669)),d=r(n(3883)),l=n(7740),f=n(6182),p=r(n(2531)),m=n(1670),g=n(7610);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=n(6808),y="CVID",E="CSID",O=function(e){return Math.random()<e},A=function(){function e(){var t=this;(0,o.default)(this,e),(0,c.default)(this,"isInitialized",void 0),(0,c.default)(this,"env",void 0),(0,c.default)(this,"fetchCvid",function(){var e=(0,a.default)(i.default.mark((function e(t){var n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(){var e=(0,a.default)(i.default.mark((function e(){var n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.default)({url:t,method:"get",withCredentials:!0});case 2:return n=e.sent,e.abrupt("return",n.data.cvid);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.prev=1,e.abrupt("return",n());case 5:e.prev=5,e.t0=e.catch(1),O(.01)&&d.default.error(new Error("RSW request to ".concat(t," failed. ").concat(e.t0.message)));case 8:case"end":return e.stop()}}),e,null,[[1,5]])})));return function(t){return e.apply(this,arguments)}}()),(0,c.default)(this,"determineEnvironment",(function(){try{var e=window.location.href,t=(0,m.getSubdomain)(e);return e.includes("cheggnet")||t&&t.includes("playground")||(0,m.isLocalDomain)(e)||e.includes("playground")||e.includes("outcomesccmdev.wpengine.com")?"test":"prod"}catch(e){return"test"}})),(0,c.default)(this,"addCvidQueryParams",(function(e){var t=v.get(y),n=(0,l.getAdobeCookie)();return t&&!n?"".concat(e,"?domain_cvid=").concat(t):!t&&n?"".concat(e,"?domain_mcid=").concat(n):t&&n?"".concat(e,"?domain_cvid=").concat(t,"&domain_mcid=").concat(n):e})),(0,c.default)(this,"getFallbackCvid",(function(){var e=null;try{e=v.get(y)}catch(e){d.default.warn(e)}var t=(0,l.getAdobeCookie)();return e||(e=t||p.default.get(),(0,f.setCookieOnRootDomain)(y,e),e)})),(0,c.default)(this,"fetchCsid",function(){var e=(0,a.default)(i.default.mark((function e(t,n,r){var o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(){var e=(0,a.default)(i.default.mark((function e(){var a,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.default)({url:t,method:"post",data:{cvid:n,domainCsid:r,data:{client_common:(0,g.getSessionConstants)({chegg_visitor_id:n})}},withCredentials:!0});case 2:return o=e.sent,e.abrupt("return",null==o||null===(a=o.data)||void 0===a?void 0:a.csid);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.prev=1,e.abrupt("return",o());case 5:e.prev=5,e.t0=e.catch(1),O(.01)&&console.error("RSW request to ".concat(t," failed all retries. ").concat(e.t0.message));case 8:case"end":return e.stop()}}),e,null,[[1,5]])})));return function(t,n,r){return e.apply(this,arguments)}}()),(0,c.default)(this,"addIdsToEvent",function(){var e=(0,a.default)(i.default.mark((function e(n){var r,a,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getCvid();case 2:return r=e.sent,e.next=5,t.getCsid();case 5:return a=e.sent,o=b(b({},n.extensions.client_common),{},{chegg_visitor_id:r,chegg_session_id:a}),e.abrupt("return",b(b({},n),{},{extensions:{client_common:o}}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,c.default)(this,"getCheggIds",(0,a.default)(i.default.mark((function e(){var n,r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getCvid();case 2:return n=e.sent,e.next=5,t.getCsid();case 5:return r=e.sent,e.abrupt("return",{chegg_visitor_id:n,chegg_session_id:r});case 7:case"end":return e.stop()}}),e)})))),(0,c.default)(this,"enrichEventsWithCheggIds",function(){var e=(0,a.default)(i.default.mark((function e(n){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(n.map(t.addIdsToEvent)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.isInitialized=this.initializeCheggIds()}return(0,s.default)(e,[{key:"initializeCheggIds",value:function(){var e=this;if((0,f.noWindow)())return Promise.resolve(!0);this.env=this.determineEnvironment();var t=!!v.get(y);return this.initCvid(t).then((function(t){return e.initCsid(t)})).then((function(){return Promise.resolve(!0)}))}},{key:"initCvid",value:function(e){var t=this,n="prod"===this.env?"https://analytics.chegg.com/visitor-session-id-service/web/cvid":"https://analytics.test.cheggnet.com/visitor-session-id-service/web/cvid",r=this.addCvidQueryParams(n);return this.fetchCvid(r).then((function(n){if(n){var r=!!v.get(y);return e==r&&(0,f.setCookieOnRootDomain)(y,n),n}return t.getFallbackCvid()})).catch((function(e){return d.default.error(new Error("Unexpected error fetching cvid ".concat(e.message))),t.getFallbackCvid()}))}},{key:"getCvid",value:function(){var e=this;return(0,f.noWindow)()?Promise.resolve(""):this.isInitialized.then((function(){return e.getFallbackCvid()}))}},{key:"getFallbackCsid",value:function(){var e=null;try{e=v.get(E)}catch(e){d.default.warn(e)}return e||(e=String(Date.now())),(0,f.setCookieOnRootDomain)(E,e,{expires:(0,f.getDateXMinutesFromNow)(30)}),Number(e)}},{key:"initCsid",value:function(e){var t=this,n="prod"===this.env?"https://analytics.chegg.com/visitor-session-id-service/web/csid":"https://analytics.test.cheggnet.com/visitor-session-id-service/web/csid",r=null;try{r=v.get(E)}catch(e){d.default.warn(e)}var i=r?Number(r):Date.now();return r?(this.fetchCsid(n,e,i),Promise.resolve(i)):this.fetchCsid(n,e,i).then((function(e){if(e){var n=(r=v.get(E))||String(e);return(0,f.setCookieOnRootDomain)(E,n,{expires:(0,f.getDateXMinutesFromNow)(30)}),Number(n)}return t.getFallbackCsid()})).catch((function(e){return d.default.error(new Error("Error encountered when fetching csid ".concat(e))),t.getFallbackCsid()}))}},{key:"getCsid",value:function(){var e=this;return(0,f.noWindow)()?Promise.resolve(Date.now()):this.isInitialized.then((function(){return e.getFallbackCsid()}))}}]),e}();t.CheggIdManager=A},979:(e,t,n)=>{"use strict";var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(319)),a=r(n(9713)),o=n(6182);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=[{key:"layer",operation:"useOriginal"},{key:"product",operation:"useNew"}];t.default=function(e,t,n){var r=n||u,a=[].concat((0,i.default)(e),(0,i.default)(t)),s={};return a.map((function(e){if((0,o.isObject)(e)){var t=function(e,t){return t.find((function(t){return t.key in e}))}(e,r);return t?function(e,t,n){var r=c({},e),i=r[t.key];if(!i)return r;var a=n[i];if(!a)return n[i]=r,r;switch(t.operation){case"useOriginal":return r.__rsw_dedup_remove__=!0,r;case"useNew":return a.__rsw_dedup_remove__=!0,n[i]=r,r;case"merge":var o=c(c({},a),r);return a.__rsw_dedup_remove__=!0,n[i]=o,o}}(e,t,s):e}return e})).filter((function(e){return!e.__rsw_dedup_remove__}))}},6890:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.errorEmitter=t.init=t.reset=void 0,t.reset=function(){n=void 0};var r=function(e){n=e||console.error};t.init=r,t.errorEmitter=function(e){n||r(),n(e)}},144:(e,t,n)=>{"use strict";var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.get=void 0;var i=r(n(3883)),a=n(6781),o=n(1206);t.get=function(e){var t,n=o.getParser(e).getResult(),r=n.browser,s=r.name,c=r.version,u=n.os,d=u.name,l=u.version,f=n.platform.type;return a.PLATFORM_WHITELIST.includes(f)?t=f:i.default.error(new Error("Unknown device platform detected.  Expecting ".concat(a.PLATFORM_WHITELIST.join(" | "),". Received instead ").concat(f,". This was parse from the user agent: ").concat(e,"."))),{browserName:s,browserVersion:c,osName:d,osVersion:l,platform:t}}},7610:(e,t,n)=>{"use strict";var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.getSessionConstants=void 0;var i=r(n(9713)),a=n(6182),o=n(144),s=n(6781),c=n(7740);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.getSessionConstants=function(e){var t=(0,a.getUserAgent)(),n=(0,o.get)(t),r=n.browserName,i=n.browserVersion,u=n.osName,l=n.osVersion,f=n.platform;return d(d({},e),{},{analytics_module_version:"9.6.30",adobe_mcid:(0,c.getAdobeCookie)(),base_event_type:s.BASE_EVENT_TYPE,base_event_version:s.BASE_EVENT_VERSION,url:window.location.href,user_agent:t,browser_name:r,browser_version:i,os:u,os_ver:l,platform:f})}},3883:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(6890),i=n(6781),a=n(6182),o={log:function(){if((0,a.noWindow)()||!window.silenceLogging){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).log.apply(e,[i.LOGGING_NAMESPACE].concat(n))}},warn:function(){if((0,a.noWindow)()||!window.silenceLogging){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).warn.apply(e,[i.LOGGING_NAMESPACE].concat(n))}},error:function(e){!(0,a.noWindow)()&&window.silenceLogging||(e.message="".concat(i.LOGGING_NAMESPACE,": ").concat(e.message),(0,r.errorEmitter)(e))}};t.default=o},6182:(e,t,n)=>{"use strict";var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.getBrowserLanguage=t.getPerimeterxScore=t.getDateXMinutesFromNow=t.deepEquals=t.setCookieOnRootDomain=t.getLocalPortFromUrl=t.getLocalPortFromParam=t.getUserAgent=t.noWindow=t.getCommandKey=t.getNamespaceKey=t.isObject=t.wrapTimeout=void 0;var i=r(n(3038)),a=r(n(9713)),o=n(6781),s=r(n(6808)),c=n(1670),u=r(n(3883)),d=n(375);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}t.wrapTimeout=function(e,t){return new Promise((function(n){return setTimeout((function(){return n(e())}),t)}))};var f=function(e){return!!e&&Object.getPrototypeOf(e)===Object.prototype};t.isObject=f,t.getNamespaceKey=function(e){return"".concat(e,"RswCommand")},t.getCommandKey=function(e){return e?"".concat(e,"RswCommand"):o.DEFAULT_COMMAND_KEY};var p=function(){return"undefined"==typeof window};t.noWindow=p,t.getUserAgent=function(e){return e||(p()?"unknown":window.navigator.userAgent)},t.getLocalPortFromParam=function(e){return!0===e?o.LOCAL_ENV_DEFAULT_PORT:Number(e)?Number(e):null},t.getLocalPortFromUrl=function(e){if(p())return null;var t=e||window.location;try{if(t.href.includes(o.LOCAL_ENV_QUERY_PARAM)){var n=new URLSearchParams(t.search).get(o.LOCAL_ENV_QUERY_PARAM);if(Number(n))return Number(n);if("true"===n)return o.LOCAL_ENV_DEFAULT_PORT}}catch(e){return null}return null},t.setCookieOnRootDomain=function(e,t,n){if((0,d.consentGrantedFNC)())try{var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({domain:(0,c.isLocalDomain)(window.location.href)?void 0:(0,c.getRootDomain)(window.location.href),secure:!0,SameSite:"None"},n);s.default.set(e,t,r)}catch(e){u.default.error(e)}},t.deepEquals=function e(t,n){if(t===n)return!0;if(f(t)){if(f(n)){var r=Object.entries(t);return r.length===Object.keys(n).length&&r.reduce((function(t,r){var a=(0,i.default)(r,2),o=a[0],s=a[1];if(!1===t)return t;var c=n[o];return e(s,c)}),!0)}return!1}if(Array.isArray(t)){if(Array.isArray(n)&&t.length===n.length){var a=n.sort((function(e,t){return e<t?-1:1}));return!t.sort((function(e,t){return e<t?-1:1})).some((function(t,n){var r=a[n];return!1===e(t,r)}))}return!1}return!1},t.getDateXMinutesFromNow=function(e){return new Date(Date.now()+6e4*e)},t.getPerimeterxScore=function(){var e,t,n=void 0;return p()||void 0===(null===(e=window.digitalData)||void 0===e?void 0:e.perimeterxScore)||(n=null===(t=window.digitalData)||void 0===t?void 0:t.perimeterxScore),n},t.getBrowserLanguage=function(){return p()?"":window.navigator.language}},375:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.consentGrantedFNC=t.consentGranted=void 0;var r=n(6182),i=function(e){var t;return!(0,r.noWindow)()&&!!(null===(t=window.OnetrustActiveGroups)||void 0===t?void 0:t.includes(e))};t.consentGranted=i,t.consentGrantedFNC=function(){return i("fnc")}},7916:(e,t,n)=>{"use strict";var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.deepEquals=void 0;var i=r(n(3038)),a=n(6182);t.deepEquals=function e(t,n){if(t===n)return!0;if((0,a.isObject)(t)){if((0,a.isObject)(n)){var r=Object.entries(t);return r.length===Object.keys(n).length&&r.reduce((function(t,r){var a=(0,i.default)(r,2),o=a[0],s=a[1];if(!1===t)return t;var c=n[o];return e(s,c)}),!0)}return!1}if(Array.isArray(t)){if(Array.isArray(n)&&t.length===n.length){var o=n.sort((function(e,t){return e<t?-1:1}));return!t.sort((function(e,t){return e<t?-1:1})).some((function(t,n){var r=o[n];return!1===e(t,r)}))}return!1}return!1}},1670:(e,t,n)=>{"use strict";var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrentUrl=t.getCurrentReferrer=t.getTopLevelDomain=t.getSubdomain=t.getLocalDomain=t.isLocalDomain=t.getRootDomain=void 0;var i=n(6182),a=r(n(3883)),o=n(4564);t.getRootDomain=function(e){var t=new o(e).hostname.split(".");return t.slice(t.length-2,t.length).join(".")},t.isLocalDomain=function(e){var t=new o(e).hostname.split(".");return!isNaN(Number(t[0]))},t.getLocalDomain=function(e){return new o(e).hostname.split(".")[0]},t.getSubdomain=function(e){var t=new o(e).hostname.split(".");return t.length>=3?t[0]:void 0},t.getTopLevelDomain=function(e){var t=new o(e).hostname.split("."),n=t[t.length-1];return isNaN(Number(n))?n:"tst"},t.getCurrentReferrer=function(e){return(0,i.noWindow)()?e||"":e===window.document.referrer?"www.chegg.com":window.document.referrer},t.getCurrentUrl=function(e){var t;return(0,i.noWindow)()?e?t=e:(a.default.error(new Error("No url passed into state")),t=""):t=window.location.href,t}},2531:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;for(var n=[],r=0;r<256;r++)n[r]=(r<16?"0":"")+r.toString(16);var i={get:function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,r=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return"".concat(n[255&e]+n[e>>8&255]+n[e>>16&255]+n[e>>24&255],"-").concat(n[255&t]).concat(n[t>>8&255],"-").concat(n[t>>16&15|64]).concat(n[t>>24&255],"-").concat(n[63&r|128]).concat(n[r>>8&255],"-").concat(n[r>>16&255]).concat(n[r>>24&255]).concat(n[255&i]).concat(n[i>>8&255]).concat(n[i>>16&255]).concat(n[i>>24&255])}};t.default=i},7280:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWindowDimensions=void 0,t.getWindowDimensions=function(){return window.innerHeight&&window.innerWidth?{px_width:Math.round(window.innerWidth),px_height:Math.round(window.innerHeight)}:void 0}},9669:(e,t,n)=>{e.exports=n(1609)},5448:(e,t,n)=>{"use strict";var r=n(4867),i=n(6026),a=n(4372),o=n(5327),s=n(4097),c=n(4109),u=n(7985),d=n(5061);e.exports=function(e){return new Promise((function(t,n){var l=e.data,f=e.headers;r.isFormData(l)&&delete f["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var m=e.auth.username||"",g=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";f.Authorization="Basic "+btoa(m+":"+g)}var h=s(e.baseURL,e.url);if(p.open(e.method.toUpperCase(),o(h,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in p?c(p.getAllResponseHeaders()):null,a={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:e,request:p};i(t,n,a),p=null}},p.onabort=function(){p&&(n(d("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){n(d("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(d(t,e,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var b=(e.withCredentials||u(h))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;b&&(f[e.xsrfHeaderName]=b)}if("setRequestHeader"in p&&r.forEach(f,(function(e,t){void 0===l&&"content-type"===t.toLowerCase()?delete f[t]:p.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),n(e),p=null)})),l||(l=null),p.send(l)}))}},1609:(e,t,n)=>{"use strict";var r=n(4867),i=n(1849),a=n(321),o=n(7185);function s(e){var t=new a(e),n=i(a.prototype.request,t);return r.extend(n,a.prototype,t),r.extend(n,t),n}var c=s(n(5655));c.Axios=a,c.create=function(e){return s(o(c.defaults,e))},c.Cancel=n(5263),c.CancelToken=n(4972),c.isCancel=n(6502),c.all=function(e){return Promise.all(e)},c.spread=n(8713),c.isAxiosError=n(6268),e.exports=c,e.exports.default=c},5263:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},4972:(e,t,n)=>{"use strict";var r=n(5263);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},6502:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},321:(e,t,n)=>{"use strict";var r=n(4867),i=n(5327),a=n(782),o=n(3572),s=n(7185);function c(e){this.defaults=e,this.interceptors={request:new a,response:new a}}c.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[o,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},c.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=c},782:(e,t,n)=>{"use strict";var r=n(4867);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},4097:(e,t,n)=>{"use strict";var r=n(1793),i=n(7303);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},5061:(e,t,n)=>{"use strict";var r=n(481);e.exports=function(e,t,n,i,a){var o=new Error(e);return r(o,t,n,i,a)}},3572:(e,t,n)=>{"use strict";var r=n(4867),i=n(8527),a=n(6502),o=n(5655);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return s(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(s(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},481:e=>{"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},7185:(e,t,n)=>{"use strict";var r=n(4867);e.exports=function(e,t){t=t||{};var n={},i=["url","method","data"],a=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function c(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function u(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=c(void 0,e[i])):n[i]=c(e[i],t[i])}r.forEach(i,(function(e){r.isUndefined(t[e])||(n[e]=c(void 0,t[e]))})),r.forEach(a,u),r.forEach(o,(function(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=c(void 0,e[i])):n[i]=c(void 0,t[i])})),r.forEach(s,(function(r){r in t?n[r]=c(e[r],t[r]):r in e&&(n[r]=c(void 0,e[r]))}));var d=i.concat(a).concat(o).concat(s),l=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===d.indexOf(e)}));return r.forEach(l,u),n}},6026:(e,t,n)=>{"use strict";var r=n(5061);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},8527:(e,t,n)=>{"use strict";var r=n(4867);e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},5655:(e,t,n)=>{"use strict";var r=n(4867),i=n(6016),a={"Content-Type":"application/x-www-form-urlencoded"};function o(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s,c={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(s=n(5448)),s),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(o(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(o(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){c.headers[e]=r.merge(a)})),e.exports=c},1849:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},5327:(e,t,n)=>{"use strict";var r=n(4867);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(r.isURLSearchParams(t))a=t.toString();else{var o=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),a=o.join("&")}if(a){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},7303:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4372:(e,t,n)=>{"use strict";var r=n(4867);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,a,o){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1793:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},6268:e=>{"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},7985:(e,t,n)=>{"use strict";var r=n(4867);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},6016:(e,t,n)=>{"use strict";var r=n(4867);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},4109:(e,t,n)=>{"use strict";var r=n(4867),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,a,o={};return e?(r.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=r.trim(e.substr(0,a)).toLowerCase(),n=r.trim(e.substr(a+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}},8713:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},4867:(e,t,n)=>{"use strict";var r=n(1849),i=Object.prototype.toString;function a(e){return"[object Array]"===i.call(e)}function o(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function u(e){return"[object Function]"===i.call(e)}function d(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isPlainObject:c,isUndefined:o,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:u,isStream:function(e){return s(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:d,merge:function e(){var t={};function n(n,r){c(t[r])&&c(n)?t[r]=e(t[r],n):c(n)?t[r]=e({},n):a(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)d(arguments[r],n);return t},extend:function(e,t,n){return d(t,(function(t,i){e[i]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},4034:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5432),i=n(4502),a={isLaunched:!1,config:{},launch:function(e){a.config=e;var t=e.identityHub||{};if(t.enabled&&t.pubid&&t.profileid&&!a.isLaunched){var n=e.consentScripts&&e.consentScripts.identity&&e.consentScripts.identity.attributes||{},o=window.location.href,s="//ads.pubmatic.com/AdServer/js/pwt/".concat(t.pubid,"/").concat(t.profileid),c="";if(o.indexOf("pwtv=")>0){var u=/pwtv=(.*?)(&|$)/g.exec(o);u.length>=2&&u[1].length>0&&(c="/"+u[1])}s+="".concat(c,"/pwt.js"),r.default.launchScript(s,(function(){r.default.log("Pubmatic Identity Hub script succesfully loaded",i.default.LOG_NAMESPACE.ID_SOLUTIONS),a.isLaunched=!0}),(function(){return r.default.log("Failed to launch Pubmatic Identity Hub script",i.default.LOG_NAMESPACE.ID_SOLUTIONS)}),{},n)}},fetchUserIds:function(){var e=window.PWT.getUserIds(),t=window.owpbjs.getUserIdsAsEids(),n=[],r=[];a.config.identityHub.allowedUserIds.forEach((function(t){e.hasOwnProperty(t)&&(n[t]=e[t],e[t].hasOwnProperty("uid")?r.push(e[t].uid):r.push(n[t]))}));var i=t.filter((function(e){return r.some((function(t){return e.uids[0].id===t}))}));return{wtUserIds:n,wtUserIdsAsEids:i}}};t.default=a},2311:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4502),a=n(1310),o=n(5432),s=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.user=t,this.config=n;var i=function(){r.checkAds(t)};o.default.launchScript("//media.studybreakmedia.com/doubleclick/ads2.js",i,i)}var t,n;return t=e,(n=[{key:"checkAds",value:function(e){var t=this;void 0===e.canRunAds&&(e.canRunAds=!!window.canRunAds,e.canRunAdsCheckAds=!!window.canRunAds),this.config.enableLeftRail&&e.canRunAds&&o.default.onDocReady((function(){o.default.tryCallback(e,"leftRail")})),this.config.adBlockBlock.run&&(!0!==e.canRunAds||!a.default.beenThanked()&&a.default.getAdBlockDetected())&&o.default.launchScript(this.config.adBlockBlock.endpoint,(function(){t.abbLaunchOnLoad()}))}},{key:"abbLaunchOnLoad",value:function(){a.default.setAdBlockDetected(),a.default.setAdBlockWhitelistedTrue();try{window.SBMGlobal.run.launchAdBlockBlock({util:o.default,user:this.user,config:this.config,cookies:a.default,C:i.default})}catch(e){o.default.throw("Failed to launch ad-block-block",e)}}},{key:"reload",value:function(e){if(this.config.adBlockBlock.run&&(!0!==e.canRunAds||!a.default.beenThanked()&&a.default.getAdBlockDetected()))try{window.SBMGlobal.run.reloadAdBlockBlock(e)}catch(e){o.default.log("Failed to reload ad-block-block: ".concat(e),i.default.LOG_NAMESPACE.WARNING)}}}])&&r(t.prototype,n),e}();t.default=s},912:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ArchieRadar=void 0;var i=n(5432),a=n(1310),o="archie-radar-anchor",s="archie-radar-button",c="archie-radar-current",u="\n\t#".concat(o," {\n\t\tz-index: 10000;\n\t\tposition: fixed;\n\t\twidth: 50%;\n\t\tleft: 50%;\n\t\tmargin-left: -25%;\n\t\tbackground: white;\n\t\ttext-align: center;\n\t\tborder: 3px solid black;\n\t\tborder-radius: 3px;\n\t\tmax-height: 500px;\n\t\toverflow: scroll;\n\t}\n\t.").concat(s," {\n\t\tpadding: 2px 0 2px 10px;\n\t\tcursor: pointer;\n\t\tborder: 1px solid transparent;\n\t}\n\t.").concat(c," {\n\t\tcolor: blue;\n\t}\n\t.").concat(s,":hover {\n\t\tborder: 1px solid black;\n\t}\n"),d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"launch",value:function(e,t,n){return r=this,o=void 0,s=void 0,c=regeneratorRuntime.mark((function r(){var o,s,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=this,t.archieRadar&&t.archieRadar.queryParam&&(this.forceVersionQueryParam=t.archieRadar.queryParam),!("radar"in(s=i.default.getUrlParams()))){r.next=6;break}return r.next=6,a.default.archieRadar(s.radar||"on");case 6:return r.next=8,a.default.archieRadar();case 8:if((c=r.sent)&&"off"!==c){r.next=11;break}return r.abrupt("return");case 11:i.default.onDocReady((function(){o.insertRadarCss(),o.insertRadarAnchorHtml(),o.insertRadarVersionsHtml(e,n.versionName),o.insertCloseHtml()}));case 12:case"end":return r.stop()}}),r,this)})),new(s||(s=Promise))((function(e,t){function n(e){try{a(c.next(e))}catch(e){t(e)}}function i(e){try{a(c.throw(e))}catch(e){t(e)}}function a(t){var r;t.done?e(t.value):(r=t.value,r instanceof s?r:new s((function(e){e(r)}))).then(n,i)}a((c=c.apply(r,o||[])).next())}));var r,o,s,c}},{key:"handleVersionClick",value:function(e){var t="".concat(location.protocol,"//").concat(location.host).concat(location.pathname,"?").concat(this.forceVersionQueryParam,"=").concat(e.target.innerHTML);window.location.assign(t)}},{key:"handleCloseClick",value:function(e){a.default.archieRadar("off"),this.removeRadar()}},{key:"insertRadarCss",value:function(){var e=document.createElement("style");e.type="text/css",e.textContent=u,document.head.appendChild(e)}},{key:"insertRadarAnchorHtml",value:function(){var e=document.createElement("div");e.setAttribute("id",o),document.body.insertBefore(e,document.body.firstChild)}},{key:"insertRadarVersionsHtml",value:function(e,t){var n=this;e.forEach((function(e){var r=document.createElement("div");r.className="".concat("archie-radar-version"," ").concat(s),t===e.name&&(r.className+=" ".concat(c)),r.addEventListener("click",n.handleVersionClick.bind(n)),r.innerHTML=e.name,document.getElementById(o).appendChild(r)}))}},{key:"insertCloseHtml",value:function(){var e=document.createElement("div");e.className="".concat("archie-radar-close"," ").concat(s),e.addEventListener("click",this.handleCloseClick.bind(this)),e.innerHTML="X   Close",document.getElementById(o).appendChild(e)}},{key:"removeRadar",value:function(){var e=document.getElementById(o);e.parentNode.removeChild(e)}}],null&&r(t.prototype,null),n&&r(t,n),e}();t.ArchieRadar=d,d.forceVersionQueryParam="al_cell",t.default=d},7180:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5432),a=n(4502),o=n(4145),s=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isLaunched=!1;var r=t.confiant||{};this.propertyId=r.propertyId;var s=r.run,c=r.endpoint;(0,o.userAllowsPersonalAds)().then((function(e){s&&c&&e&&!n.isLaunched&&(n.setCallback(),i.default.launchScript(c,(function(){n.isLaunched=!0}),(function(){return i.default.log("Failed to launch confiant prebid wrapper",a.default.LOG_NAMESPACE.WARNING)})))}))}var t,n;return t=e,n=[{key:"setCallback",value:function(){window.confiant=window.confiant||{},window.confiant[this.propertyId]=window.confiant[this.propertyId]||{clientSettings:{}},window.confiant[this.propertyId].clientSettings={callback:function(){if(arguments&&arguments[5]){var e,t=arguments[5];t.dfp&&"string"==typeof t.dfp.A&&(e=this.getPlacementName(t.dfp.A)),t.prebid&&t.prebid.adId&&(e=this.getPlacementFromAuctionWinners(t.prebid.adId)),e&&window.SBMGlobal.run.confiantCallback(e)}}.bind(this)}}},{key:"getPlacementName",value:function(e){var t=e.split("_");return"".concat(t[1],"_").concat(t[3])}},{key:"getPlacementFromAuctionWinners",value:function(e){var t=this.auction.getWinningBids();return Object.keys(t).find((function(n){if(t[n])return t[n].id===e}))}}],n&&r(t.prototype,n),e}();t.default=s},5581:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5432),i=n(4502);t.default=function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isLaunched=!1;var a=t.fundingChoices||{};a.enabled&&a.host&&!this.isLaunched&&r.default.launchScript(a.host,(function(){r.default.launchScript(a.endpoint,(function(){r.default.log("Funding Choices host and script succesfully loaded",i.default.LOG_NAMESPACE.FUNDING_CHOICES),n.isLaunched=!0}),(function(){return r.default.log("Failed to launch fundingChoices raw script",i.default.LOG_NAMESPACE.FUNDING_CHOICES)}))}),(function(){return r.default.log("Failed to launch host for fundingChoices",i.default.LOG_NAMESPACE.FUNDING_CHOICES)}))}},3784:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5432),i=n(4145),a={launchScript:function(e){return t=this,n=void 0,a=void 0,o=regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.userAllowsAnalytics();case 2:if(t.sent){t.next=5;break}return t.abrupt("return");case 5:n=function(){r.default.onDocReady((function(){window._satellite&&window._satellite.pageBottom&&window._satellite.pageBottom()}))},"string"==typeof e&&r.default.launchScript(e,n,void 0);case 7:case"end":return t.stop()}}),t)})),new(a||(a=Promise))((function(e,r){function i(e){try{c(o.next(e))}catch(e){r(e)}}function s(e){try{c(o.throw(e))}catch(e){r(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(i,s)}c((o=o.apply(t,n||[])).next())}));var t,n,a,o}};t.default=a},1235:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5432),i=n(1310);t.default=function(){var e=r.default.getUrlParams(),t=i.default.nsDebug();if("debug"in e)window.DEV_MODE="warn",window.DEBUG_MODE="verbose";else if("ns_debug"in e||t){var n=e.ns_debug||t;n=n.toLowerCase(),i.default.nsDebug(n),window.DEV_MODE="warn",window.NS_DEBUG=n}else"min_debug"in e?(window.DEV_MODE="warn",window.DEBUG_MODE="minimal"):"strict_debug"in e?(window.DEV_MODE="strict",window.DEBUG_MODE="verbose"):"static_debug"in e&&(window.DEV_MODE="strict",window.DEBUG_MODE="static");"EBTEST"in e&&(window.EBTEST=e.EBTEST),"BMTEST"in e&&(window.BMTEST=e.BMTEST),"CMTEST"in e&&(window.CMTEST=e.CMTEST),"TEST"in e&&(window.DFPTEST=e.TEST)}},5980:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1310),i=n(5432),a=n(4502),o=n(4145),s=n(1206);t.default=function(e,t){var n=window._sbm?window._sbm.user:{};!0===t.suppress&&(t.suppress=a.default.SUPPRESS_TYPES.BY_APPLICATION),e.user&&!0===e.user.suppress&&(e.user.suppress=a.default.SUPPRESS_TYPES.BY_CONFIG),n&&!0===n.suppress&&(n.suppress=a.default.SUPPRESS_TYPES.BY_WINDOW);var c=e.user?e.user:{};t=Object.assign({},t,c,n),window._sbm&&delete window._sbm,t.citationCount||(t.citationCount=0),t.page=t.page?t.page.replace(/index/i,"homepage"):"ros",t.pageCount=i.default.getPageCountNumber(null==t?void 0:t.pageCount),t.initialAuctionId=i.default.genUUID(),t.isInitialAuction=!0,t.realDevice=t.device,t.device=t.device===a.default.MOBILE?a.default.MOBILE:a.default.DESKTOP,r.default.verifyTestGroup(e.tests),t.testGroup=r.default.setTestGroup(e.tests,e.version),t.testGroup&&(t.tg=t.testGroup.replace(/(\w|\d{1,3})-(\w)\w*/,"$1-$2")),e.experiment&&(t.experiment=e.experiment);var u=r.default.docCookies.getItem(a.default.COOKIE.SBM_ID);if(u&&(t.sbmId=u),t.suppress=function(){for(var e,t=i.default.getUrlParams(),n=0,o=[a.default.ALLOWED_PARAMS_ADFREE.ARCHIE_SUPPRESS,a.default.ALLOWED_PARAMS_ADFREE.EDU_MODE];n<o.length;n++){var s=o[n];if(s in t){e=t[s],r.default.bypassAdsCookie(t[s]),s===a.default.ALLOWED_PARAMS_ADFREE.EDU_MODE&&(i.default.removeParamFromQueryString(s,!0),i.default.throw("EDU_MODE enabled"));break}}return(e=e||r.default.bypassAdsCookie())===a.default.TARGETING.ON&&a.default.SUPPRESS_TYPES.BY_COOKIE}()||t.suppress,t.country)r.default.setCountry(t.country);else{var d=r.default.getCountry();d?t.country=d:window.__sbmCountryCode&&(t.country=window.__sbmCountryCode,r.default.setCountry(t.country))}var l=r.default.getDma();l&&(t.dma=l);var f=e.video&&e.video.partner?e.video.partner:"not set";i.default.updateDataLayer({archieLeagueAdVersion:t.versionName,adVantageTestGroup:t.testGroup,adVantagePage:t.page,adVantageAuctionId:t.initialAuctionId,videoPartner:f}),t&&t.setGaTestGroup&&i.default.tryCallback(t,"setGaTestGroup",[t.testGroup,t.versionName,t.page,t.initialAuctionId]),t.metadata=t.metadata||{},t.ua=t.ua||{},t.refreshCount=0,i.default.recordEventTime("initUser"),o.getGdprApplies()?o.getConsentString().then((function(e){return t.gdprApplies=e.gdprApplies})):t.gdprApplies=!1,t.ccpaApplies=o.getCcpaApplies();try{window.screen&&(window.screen.width&&(t.resolution=[window.screen.width,window.screen.height],t.ua.screenWidth=window.screen.width,t.ua.screenHeight=window.screen.height),t.ua.colorDepth=window.screen.colorDepth),window.innerWidth&&window.innerHeight&&(t.ua.viewportWidth=window.innerWidth,t.ua.viewportHeight=window.innerHeight),window.navigator&&(window.navigator.javaEnabled&&(t.ua.javaEnabled=window.navigator.javaEnabled()),t.ua.platform=window.navigator.platform,t.ua.lang=window.navigator.language,t.ua.name=s.parse(window.navigator.userAgent).browser.name)}catch(e){}return t.time={local:(new Date).getHours(),utc:(new Date).getUTCHours()},t}},4732:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8161),i=n(5432),a=n(4502);t.default={launch:function(e){var t=e.auction,n=e.config,o=e.device,s=e.headerPlacements;return new Promise((function(e){var c=new r.default({auction:t,config:n,partnerConfig:n.partners[a.default.CHANNEL_NAMES.NILE],bidsBackHandler:e});try{c.shouldRun(o,t.mode)?(c.useRenderFunction=!1,Object.keys(s).forEach((function(e){var t=s[e];c.formBidRequest(t)})),c.launch(),t.addPartner(a.default.CHANNEL_NAMES.NILE,c)):e()}catch(t){i.default.throw("Failed to launch nile",t),e()}}))}}},4425:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5432),i=n(4502).default.SITE.PREFIX.split("_")[0],a=function(e){return"\n\t\t<div class='native-title ".concat(i,"'>\n\t\t\t<a class='title-link ").concat(i,"' href='").concat(e.clickUrl,"' target='_blank'>\n\t\t\t\t").concat(e.title,"\n\t\t\t</a>\n\t\t</div>\n\t")},o=function(e,t){return"\n\t\t<div class='native-image ".concat(i," s").concat(t[0],"'>\n\t\t\t<a class='image-link ").concat(i,"' href='").concat(e.clickUrl,"' target='_blank'>\n\t\t\t\t<img src='").concat(e.image.url,"'>\n\t\t\t</a>\n\t\t</div>\n\t")},s=function(e){return"\n\t\t<div class='native-body ".concat(i,"'>\n\t\t\t<a class='body-link ").concat(i,"' href='").concat(e.clickUrl,"' target='_blank'>\n\t\t\t\t").concat(e.body,"\n\t\t\t</a>\n\t\t</div>\n\t")},c=function(e){return"\n\t\t<div class='native-logo ".concat(i,"'>\n\t\t\t<a class='logo-link ").concat(i,"' href='").concat(e.clickUrl,"' target='_blank'>\n\t\t\t\t<img src='").concat(e.icon.url,"'>\n\t\t\t</a>\n\t\t</div>\n\t")},u=function(e){return"\n\t\t<div class='native-advertiser ".concat(i,"'>\n\t\t\t<a class='advertiser-link ").concat(i,"' href='").concat(e.clickUrl,"' target='_blank'>\n\t\t\t\t").concat(e.sponsoredBy,"\n\t\t\t</a>\n\t\t</div>\n\t")},d=function(e){return"\n\t\t<div class='native-call-to-action ".concat(i,"'>\n\t\t\t<a class='call-to-action-link ").concat(i,"' href='").concat(e.clickUrl,"' target='_blank'>\n\t\t\t\t").concat(e.cta,"\n\t\t\t</a>\n\t\t</div>\n\t")},l=function(){return"<div class='attribution ".concat(i,"'>Ad</div>")},f=function(e){return"<img src='".concat(e.impressionTrackers[0],"' style='display:none'>")};t.default=function(e,t){r.default.onDocReady((function(){if(e.$ad){var n=document.createElement("iframe"),p=e.placementConfig.sizes[0];n.setAttribute("style","height: ".concat(p[1],"px; width: ").concat(p[0],"px; margin: 0 auto; padding: 0;")),n.setAttribute("frameborder","0"),n.srcdoc=function(e,t){return'\n\t\t<html>\n\t\t\t<head>\n\t\t\t\t<link rel="stylesheet" type="text/css" href="//atc.studybreakmedia.com/native/style.css">\n\t\t\t</head>\n\t\t\t<body class=\'native-ad '.concat(i," s").concat(t[0],"' ").concat(function(e,t){return 300===t[0]?"style=\"background-image: url('".concat(e.image.url,"'); background-repeat: no-repeat; background-size: cover;\""):""}(e,t),">\n\t\t\t\t").concat(function(e,t){return 728===t[0]?function(e,t){return"\n\t\t".concat(l(),"\n\t\t").concat(e.impressionTrackers?f(e):"","\n\t\t").concat(o(e,t),"\n\t\t<div class='s728-content'>\n\t\t\t").concat(a(e),"\n\t\t\t").concat(e.body?s(e):"","\n\t\t\t").concat(e.icon?c(e):"","\n\t\t\t<div class='s728-cta-sponsor'>\n\t\t\t\t").concat(e.cta?d(e):"","\n\t\t\t\t").concat(e.sponsoredBy?u(e):"","\n\t\t\t</div>\n\t\t</div>\n\t")}(e,t):300===t[0]?function(e,t){return"\n\t\t".concat(l(),"\n\t\t").concat(e.impressionTrackers?f(e):"","\n\t\t").concat(a(e),"\n\t\t").concat(e.body?s(e):"","\n\t\t").concat(e.icon?c(e):"","\n\t\t").concat(e.cta?d(e):"","\n\t\t").concat(e.sponsoredBy?u(e):"","\n\t")}(e):160===t[0]?function(e,t){return"\n\t\t".concat(l(),"\n\t\t").concat(e.impressionTrackers?f(e):"","\n\t\t").concat(a(e),"\n\t\t").concat(o(e,t),"\n\t\t").concat(e.body?s(e):"","\n\t\t").concat(e.icon?c(e):"","\n\t\t").concat(e.sponsoredBy?u(e):"","\n\t\t").concat(e.cta?d(e):"","\n\t")}(e,t):void 0}(e,t),"\n\t\t\t</body>\n\t\t</html>\n\t")}(t,p),e.$ad.appendChild(n)}else r.default.throw("$ad is not define in Native ad")}))}},6014:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5432);t.default=function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isLaunched=!1;var i=t.prebid.analytics.rivr||{};i.enabled&&!this.isLaunched&&r.default.launchScript(i.endpoint,(function(){try{n.isLaunched=!0,window.rivraddon.configGetter.getRivrConfiguration(i.clientId)}catch(e){r.default.throw("Failed to launch rivrScript",e)}}))}},8984:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(4502),o=n(1310),s=n(5432),c=n(4145),u=n(9301),d=n(2008),l=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.fillPromises={},this.kvpResolve=function(){},this.isLaunched=!1,this.isParticipating=!1,r.adsModal&&(this.adsModalConfig=r.adsModal);var i=r.video&&r.adsModal&&r.adsModal.partners&&r.adsModal.partners.custom?Object.assign({},r.video[a.default.VIDEO_PARTNERS.CUSTOM],r.adsModal.partners.custom.videoConfig):null;Object.assign(this,{backendOpts:t,unlockVideoConfig:i,user:n})}var t,n;return t=e,(n=[{key:"launch",value:function(e){if(this.advPage=e,this.canPartipate()){this.setFillPromises();var t=this.genActivityConfig();return this.launchUnlockScript(t),this.fillPromises}}},{key:"canPartipate",value:function(){return this.canRunInGeo()&&this.adsModalConfig&&(a.default.UNLOCK_PLACEMENT_NAME in this.advPage.dfpPlacements||a.default.UNLOCK_MOBILE_PLACEMENT_NAME in this.advPage.dfpPlacements||a.default.SURVEY_UNLOCK_PLACEMENT_NAME in this.advPage.dfpPlacements)&&!o.default.checkAdBlockWhiteListed()}},{key:"canRunInGeo",value:function(){if(this.adsModalConfig){if(this.adsModalConfig.runInternational)return!0;if(this.adsModalConfig.runUsOnly)return"US"===this.user.country}return!c.getGdprApplies()}},{key:"setFillPromises",value:function(){this.fillPromises.prebid=this.genPrebidFillPromise(),this.fillPromises.vast=this.genVastPromise(),this.fillPromises.survey=this.genSurveyPromise()}},{key:"genActivityConfig",value:function(){var e=this.genOnModalShownCallBack(),t=this.advPage.placements[this.getPlacementName()],n=t.getVideoHeight(),r=t.getVideoWidth();return t.name===a.default.UNLOCK_MOBILE_PLACEMENT_NAME&&(r=t.getMobileVideoWidth(),n=t.getMobileVideoHeight()),Object.assign({fillPromises:this.fillPromises,site:a.default.SITE.NAME,sitePrefix:a.default.SITE.PREFIX,Util:s.default,cookies:o.default,height:n,width:r,onModalShown:e,sbm_id:this.user.sbmId,backendOpts:this.backendOpts,custom:this.unlockVideoConfig?new u.default({config:this.unlockVideoConfig,user:this.user,placement:t}):null},this.adsModalConfig)}},{key:"genOnModalShownCallBack",value:function(){var e=this;return function(){for(var t in window.SBMGlobal.run.disableRefresh(null,{disableAll:!0}),e.advPage.placements[a.default.VID_PLACEMENT_NAME]&&e.advPage.placements[a.default.VID_PLACEMENT_NAME].clearPasture(),e.advPage.headerPlacements)e.advPage.headerPlacements.hasOwnProperty(t)&&e.advPage.headerPlacements[t].clearPasture()}}},{key:"genPrebidFillPromise",value:function(){var e=this;return new Promise((function(t,n){e.kvpResolve=t})).catch((function(e){s.default.throw("Problems filling Prebid demand",e)}))}},{key:"genVastPromise",value:function(){var e=this;return new Promise((function(t,n){var r=s.default.getUrlParams().vast_override;if("string"==typeof r)e.adsModalConfig.runVast=!0,t(r);else if(e.adsModalConfig.runVast){var i="".concat(window.location.protocol,"//").concat(window.location.host);window.addEventListener("message",(function e(n){try{var r=JSON.parse(n.data);n.origin===i&&!0===r.vastCreative&&(window.removeEventListener("message",e),t(r))}catch(e){}}),!1)}else t(null)})).catch((function(e){s.default.throw("Problems filling VAST demand",e)}))}},{key:"genSurveyPromise",value:function(){return new Promise((function(e,t){var n="".concat(window.location.protocol,"//").concat(window.location.host);window.addEventListener("message",(function t(i){if((i||{}).data)try{var a=JSON.parse(i.data);if(i.origin===n&&"surveyActivity"===a.type&&("object"===r(a.questions)||"object"===r(a.question))){var o=a.questions||[a.question];window.removeEventListener("message",t),e(o)}}catch(e){}}))})).catch((function(e){s.default.throw("Problems filling survey demand",e)}))}},{key:"launchUnlockScript",value:function(e){var t=this;if(this.isLaunched)try{window.SBMGlobal.run.reloadActivity(e)}catch(e){s.default.throw("Failed to reload adsModal",e)}else s.default.launchScript(this.adsModalConfig.endpoint,(function(){try{t.isLaunched=!0,t.user.ranUnlock=!0,window.SBMGlobal.run.launchActivity(e,d.default.sendUnlockEvent)}catch(e){s.default.throw("Failed to launch adsModal",e)}}))}},{key:"participateAndSetKvps",value:function(e){var t=this.getPlacementName();this.canPartipate()?(this.isParticipating=!0,this.setPrebidKvps(e.getWinningBid(t))):this.isParticipating=!1}},{key:"setPrebidKvps",value:function(e){var t;if(this.isParticipating)if(e&&e.prebidBidResponse){var n=e.prebidBidResponse.adserverTargeting;t=[["hb_bidder",n.hb_bidder],["hb_adid",n.hb_adid],["hb_pb",n.hb_pb],["hb_size",n.hb_size],["hb_uuid",e.prebidBidResponse.videoCacheKey]],this.kvpResolve(t)}else this.kvpResolve(null)}},{key:"getPlacementName",value:function(){return a.default.UNLOCK_MOBILE_PLACEMENT_NAME in this.advPage.dfpPlacements?a.default.UNLOCK_MOBILE_PLACEMENT_NAME:a.default.UNLOCK_PLACEMENT_NAME}}])&&i(t.prototype,n),e}();t.default=l},6799:(e,t)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function i(e){var t="function"==typeof Map?new Map:void 0;return i=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return a(e,arguments,c(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),s(r,e)},i(e)}function a(e,t,n){return a=o()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&s(i,n.prototype),i},a.apply(null,arguments)}function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(a,e);var t,n,i=(t=a,n=o(),function(){var e,i=c(t);if(n){var a=c(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return r(this,e)});function a(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this,"AdBlockEnabled")}return a}(i(Error));t.default=u},7005:(e,t)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function i(e){var t="function"==typeof Map?new Map:void 0;return i=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return a(e,arguments,c(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),s(r,e)},i(e)}function a(e,t,n){return a=o()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&s(i,n.prototype),i},a.apply(null,arguments)}function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(a,e);var t,n,i=(t=a,n=o(),function(){var e,i=c(t);if(n){var a=c(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return r(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e)).fingerprint=t||["FingerprintError"],n}return a}(i(Error));t.default=u},6159:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var o=n(5432),s=n(4502),c=n(8977),u=n(7900),d=n(9034),l=n(4732),f=n(1299),p=n(4145),m=n(7312),g=n(4034),h=n(7570),b=function(){function e(t){var n=this,r=t.config,i=t.user,a=t.isRefresh,c=t.isReload,u=t.bidFlooring;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.winners={},this.used=!1,this.expired=!1,this.config=r,this.user=i,this.isRefresh=a,this.isReload=c,this.shouldSendResourceData=Math.random()<.0100000001,this.refreshCount=i.refreshCount,this.refreshType=i.refreshType,this.partners={},this.placements={},this.bidIdMap={},this.cpcPartnerName=r.cpcPartner?r.cpcPartner.name:null,this.id=this.isRefresh||!i.isInitialAuction?o.default.genUUID():i.initialAuctionId,this.initTime=o.default.getTime(),this.mode=this.isRefresh?s.default.MODE.R:s.default.MODE.S,this.videoAdLoadedCount=0,this.bidFlooring=u,o.default.onDocReady((function(){n.docReadyTime=o.default.getTime()}))}var t,n;return t=e,(n=[{key:"forceComplete",value:function(){for(var e in this.placements)this.placements.hasOwnProperty(e)&&(this.placements[e].isComplete=!0);this.isComplete=!0}},{key:"setTimeout",value:function(e){this.auctionTimeout=window.setTimeout(this.forceComplete.bind(this),e)}},{key:"addPlacement",value:function(e){this.placements[e.name]=e,e.count={partnerResponses:{},expectedResponses:0,responsesRemaining:0,bidResponsesSoFar:0}}},{key:"addPartner",value:function(e,t){this.partners[e]=t}},{key:"getPartner",value:function(e){return"indexExchange"===e&&(e="index"),this.partners[e]}},{key:"getPartners",value:function(){return this.partners}},{key:"getPlacement",value:function(e){return this.placements[e]}},{key:"getPlacements",value:function(){return this.placements}},{key:"setWinner",value:function(e,t,n){var r,i,a;this.winners[e]?this.winners[e][t]=n:this.winners[e]=(a=n,(i=t)in(r={})?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a,r)}},{key:"getWinner",value:function(e,t){if(this.winners[e])return this.winners[e][t]}},{key:"getWinningNileBid",value:function(e){var t=this,n=e.nileBids,r=e.placementConfig,i=this.config.partners[s.default.CHANNEL_NAMES.NILE];return n.filter((function(e){return e.auctionId===t.id||!e.dfpWinner&&i.allowBidCache&&Date.now()-e.timeStamp<(i.bidTimeout||3e4)&&r.sizes.find((function(t){return e.width===t[0]&&e.height===t[1]}))}))[0]}},{key:"getWinningBid",value:function(e){var t=this.placements[e];if(!t)return o.default.log("No placement found when fetching winning bid for ".concat(e,"."),s.default.LOG_NAMESPACE.BIDS),null;var n=window.pbjs.getHighestUnusedBidResponseForAdUnitCode(t.divId);return n&&n.bidder?this.convertPrebidResponseToBid(n,this.bidFlooring):(o.default.log("No winning bid found for ".concat(e,"."),s.default.LOG_NAMESPACE.BIDS),null)}},{key:"setWinningBids",value:function(){var e=this;Object.keys(this.placements).forEach((function(t){var n=e.getWinningBid(t);e.setWinner(t,s.default.CHANNEL_NAMES.PREBID,n)}))}},{key:"getWinningBids",value:function(){var e=this;return Object.keys(this.winners).reduce((function(t,n){return t[n]=e.winners[n][s.default.CHANNEL_NAMES.PREBID],t}),{})}},{key:"blockAndGetWinner",value:function(e){var t=this.getWinner(e,s.default.CHANNEL_NAMES.PREBID);return t.blocked=!0,t}},{key:"convertPrebidResponseToBid",value:function(e,t){var n="D_UNLOCK"===e.adUnitCode?this.placements.D_UNLOCK:this.getPlacementByDivId(e.adUnitCode),r="indexExchange"===e.bidder?"index":e.bidder,i=this.mode.toUpperCase(),a=t&&t.floors&&t.floors[i][n.name]?t.floors[i][n.name]:null,o=new h.default({id:e.adId,partnerName:r,partnerAlias:r.substring(0,3),placementName:n.name,status:s.default.BID_STATUS.SUCCESS,cpm:e.cpm,launchOrder:0,launchTime:e.requestTimestamp,bidAdjustment:this.config.partners[r].bidAdjustment||{},useRenderFunction:!0,auctionId:e.auctionId,format:e.adserverTargeting.hb_format,prebidBidResponse:e,floor:a});return o.setHeight(e.height),o.setWidth(e.width),o}},{key:"getPlacementByDivId",value:function(e){for(var t=0,n=Object.keys(this.placements);t<n.length;t++){var r=n[t];if(this.placements[r].divId===e)return this.placements[r]}return null}},{key:"getAuctionTimeout",value:function(){var e=this.config.auctionTimeout,t=e.desktopMs,n=e.desktopRefreshMs,r=e.desktopReloadMs,i=e.mobileMs,a=e.mobileRefreshMs,o=e.mobileReloadMs,c=this.user.device===s.default.MOBILE,u=c?i:t,d=c?a:n,l=c?o:r;return this.isReload?u=l:this.isRefresh&&(u=d),u}},{key:"getRemainingTimeout",value:function(){return Math.max(this.getAuctionTimeout()-(o.default.getTime(!0)-this.initTime),0)}},{key:"getTopBidReduceFunction",value:function(e){return-1===["cents","netCents","rawCents"].indexOf(e)&&(e="cents"),function(t,n){return n.useRenderFunction&&n[e]>0&&(null===t||t[e]<n[e])?n:t}}},{key:"runAuction",value:function(e){var t=e.user,n=e.config,i=e.dfp,o=e.unlockLauncher,p=e.bidFlooring;return a(this,void 0,void 0,regeneratorRuntime.mark((function e(){var a,g,h,b,v,y,E,O,A,S,w,_,I,C,T,j,P=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.botTrafficPagecountThreshold||500,this.cpcPartnerName===s.default.PARTNER_NAMES.CPC.PAPERCHECKER&&(h=new c.default({auction:this,config:n,dfp:i,partnerConfig:n.cpcPartner,user:t})),v=this.advPage.headerPlacements,Object.keys(v).forEach((function(e){P.addPlacement(v[e])})),b=(0,f.default)({partners:n.partners,placements:v,advPlacements:this.advPage.advPlacements,device:t.device,mode:this.mode,bidFlooring:p}),m.default.isWaitingEnabled()?g=m.default.performRequest(b,this):(m.default.performRequest(b,this),g=Promise.resolve(!0)),!h){e.next=13;break}if(this.addPartner(h.name,h),!(t.pageCount>a)){e.next=13;break}return h.launchScript(),h.renderAllAds(),e.abrupt("return",!1);case 13:if(this.addPartner(s.default.CHANNEL_NAMES.ADX,new u.default({auction:this,config:n})),this.addPartner(s.default.CHANNEL_NAMES.MD,new d.default({auction:this,config:n,partnerConfig:{}})),y=n.partners[s.default.CHANNEL_NAMES.NILE]?l.default.launch({auction:this,config:n,device:t.device,headerPlacements:v}):Promise.resolve(!0),E=this.getAuctionTimeout(),O=n.prebidConfig||{},A=n.prebid.analytics||{},S=n.prebid.consentManagement||{},w=this.initPrebid({prebidConfig:O,prebidAdUnits:b,timeout:E,unlockLauncher:o,consentManagementConfig:S,analyticsConfig:A}),_=this.getTimeoutPromise(E+50),x=2,I=function(e){if(Array.isArray(e))return e}(k=_)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(k,x)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(k,x)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),C=I[0],T=I[1],0!==Object.keys(b).length){e.next=27;break}return this.forceComplete(),e.abrupt("return",Promise.resolve());case 27:this.setTimeout(this.getAuctionTimeout());case 28:return h&&"function"==typeof h.launchScript&&h.launchScript(),e.next=31,Promise.race([Promise.all([y,w,g]),C]);case 31:return j=e.sent,T&&clearTimeout(T),e.abrupt("return",j);case 34:case"end":return e.stop()}var k,x}),e,this)})))}},{key:"initPrebid",value:function(e){var t=this,n=e.prebidConfig,r=e.prebidAdUnits,i=e.timeout,c=(e.unlockLauncher,e.consentManagementConfig),u=e.analyticsConfig;return new Promise((function(e){return a(t,void 0,void 0,regeneratorRuntime.mark((function t(){var a,d,l,f,m=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=this,d=window.pbjs,l=u&&u.rivr&&window.rivraddon.configGetter,f=u&&u.ats&&u.ats.enabled&&window.ats,d.cmd.push((function(){if(o.default.log("Running Prebid",s.default.LOG_NAMESPACE.PREBID),d.bidderSettings={standard:{bidCpmAdjustment:function(e,t){var n;if(t.mediaType===s.default.MEDIA_TYPES.BANNER)try{n=m.config.partners[t.bidderCode].bidAdjustment}catch(e){o.default.log("No bid adjustment found for display bidder: ".concat(t.bidderCode),s.default.LOG_NAMESPACE.PREBID)}else if(t.mediaType===s.default.MEDIA_TYPES.VIDEO)try{n=m.config.video[m.config.video.player].partners[t.bidderCode].bidAdjustment}catch(e){o.default.log("No bid adjustment found for video bidder: ".concat(t.bidderCode),s.default.LOG_NAMESPACE.PREBID)}return n&&n.discrepancy&&(e*=1-n.discrepancy),n&&n.revShare&&(e*=1-n.revShare),e}}},d.setConfig({bidderSequence:"fixed",bidderTimeout:i,priceGranularity:{buckets:[{min:0,max:20,increment:.5}]},publisherPage:window.location.pathname,publisherHost:s.default.SITE.DOMAIN,enableSendAllBids:!1}),window.PWT&&"function"==typeof window.PWT.getUserIds){var e=g.default.fetchUserIds(),t=e.wtUserIds,h=e.wtUserIdsAsEids;r.forEach((function(e){e.bids.forEach((function(e){e.userId=Object.assign({},t),e.userIdAsEids=h}))}))}if(n.userSync&&n.userSync.userIds){var b=n.userSync.userIds.find((function(e){return"id5Id"===e.name})),v=o.default.getUserEmail(m.config.prefix);if(b&&b.params&&v){var y=o.default.getUrlSafeHashedEmail(v);y&&(b.params.pd=y)}var E=n.userSync.userIds.find((function(e){return"connectId"===e.name})),O=n.userSync.userIds;if(E)if(v){var A=o.default.getConnectIdHashedEmail(v);A&&(E.params.he=A)}else O=n.userSync.userIds.filter((function(e){return"connectId"!==e.name}));n.userSync.userIds=O}if(m.config.floors){var S=m.config.floors;S.additionalSchemaFields={countryCode:function(){return m.user.country||"*"},placementName:function(e,t){var n=m.getPlacementByDivId(e.adUnitCode);return n&&n.name||"*"}},d.setConfig({floors:S})}d.setConfig(n),c&&c.enabled&&d.setConfig(p.createPrebidConsentManagementConfig(c,i)),l&&d.enableAnalytics({provider:"rivr",options:{clientID:u.rivr.clientId,authToken:u.rivr.authToken,bannersIds:a.getBannerIds()}}),f&&d.enableAnalytics({provider:"atsAnalytics",options:u.ats.options})})),d.cmd.push((function(){var t=m.id;d.aliasBidder("appnexusAst","districtm"),d.aliasBidder("appnexusAst","appnexus"),d.aliasBidder("appnexusAst","brealtime"),d.aliasBidder("ix","index"),d.aliasBidder("rubicon","shemedia"),d.requestBids({adUnits:r,auctionId:t,bidsBackHandler:function(t){o.default.log("Prebid auction done",s.default.LOG_NAMESPACE.PREBID),e(!0)}})}));case 6:case"end":return t.stop()}}),t,this)})))}))}},{key:"getBannerIds",value:function(){var e=[];for(var t in this.placements){var n=this.placements[t];e.push("google_ads_iframe_".concat(n.slotPath))}return e}},{key:"getTimeoutPromise",value:function(e){var t,n=this;return[new Promise((function(r){t=setTimeout((function(){return n.expired=!0,r(!0)}),e)})),t]}},{key:"markUsed",value:function(){this.used=!0}}])&&i(t.prototype,n),e}();t.default=b},8482:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5432),a=n(4502),o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.retry=!1,this.count=0,this.config=n,this.user=t,this.performRequest()}var t,n;return t=e,(n=[{key:"isEnabled",value:function(){return this.config.bidFlooring&&this.config.bidFlooring.enabled&&this.config.bidFlooring.host}},{key:"getVideoFloor",value:function(e,t){var n,r=this.user.country,i=a.default.FLOOR_TIERS.GB_AU_CA.split("_");r===a.default.FLOOR_TIERS.US&&(n=a.default.FLOOR_TIERS.US),i.indexOf(r)>-1&&(n=a.default.FLOOR_TIERS.GB_AU_CA);var o=e[n]?e[n]:e[a.default.FLOOR_TIERS.ROW];return"rounded_number"===t?Math.ceil(o):"string"===t?"".concat(o):"rounded_string"===t?"".concat(Math.ceil(o)):o}},{key:"performRequest",value:function(){if(this.isEnabled())try{this.placement_bidders||this.requestFlooring()}catch(e){i.default.throw("Floord Failed")}}},{key:"requestFlooring",value:function(){return e=this,t=void 0,n=void 0,r=regeneratorRuntime.mark((function e(){var t,n,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isEnabled()){e.next=2;break}return e.abrupt("return");case 2:return t={site:this.config.site,user:this.user},i.default.recordEventTime("floordInit"),e.next=6,fetch(this.config.bidFlooring.host,{method:"post",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 6:return n=e.sent,e.next=9,n.json().then((function(e){i.default.recordEventTime("floordEnded"),e?(i.default.log("Retrieving bidFlooring data succesfully",a.default.LOG_NAMESPACE.FLOORD),r.floors=e.floors,r.placement_bidders=e.placement_bidders,r.retry=!1):(i.default.log("Failed to get new data from bidFlooring",a.default.LOG_NAMESPACE.FLOORD),i.default.throw("Failed to get new data from bidFlooring"))})).catch((function(e){r.count++,r.count>3?r.retry=!1:r.retry=!0,i.default.log("Failed to get bidFlooring",a.default.LOG_NAMESPACE.FLOORD),i.default.throw("Failed to get bidFlooring",e)}));case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e,this)})),new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}));var e,t,n,r}}])&&r(t.prototype,n),e}();t.default=o},7312:(e,t,n)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});var i=n(5432),a=n(4502),o=n(8687),s=n(2008),c={user:{},config:{},cpmsByPlacement:{},success:!1,initTime:0,response_time:0,eventSent:!1,currentAuction:"",init:function(e,t){c.user=e,c.config=t},isWaitingEnabled:function(){return c.isEnabled()&&c.config.cheggBidder.waitingEnabled},isEnabled:function(){return c.config.cheggBidder&&c.config.cheggBidder.enabled&&c.config.cheggBidder.host},trainingEnabled:function(){return c.config.cheggBidder&&c.config.cheggBidder.enableTraining&&c.config.cheggBidder.trainingRate&&c.config.cheggBidder.trainingKvp},resetProps:function(){c.cpmsByPlacement={},c.success=!1,c.initTime=0,c.response_time=0,c.eventSent=!1},performRequest:function(e,t){return n=void 0,u=void 0,d=void 0,l=regeneratorRuntime.mark((function n(){var u,d,l,f,p,m,g,h,b;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c.isEnabled()){n.next=2;break}return n.abrupt("return");case 2:if(c.resetProps(),c.currentAuction=t.id,u={"Content-Type":"application/json"},d=c.config.cheggBidder.host,l=(0,o.gql)(r||(v=["\n\t\t\tquery GetCpmsPrediction(\n\t\t\t\t$campaign: String!\n\t\t\t\t$site: String!\n\t\t\t\t$mode: String!\n\t\t\t\t$user: CpmUser!\n\t\t\t\t$adUnits: [CpmAdUnit!]!\n\t\t\t\t$auctionId: String!\n\t\t\t\t$version: String\n\t\t\t) {\n\t\t\t\tcpmsPrediction(\n\t\t\t\tcampaign: $campaign\n\t\t\t\tsite: $site\n\t\t\t\tmode: $mode\n\t\t\t\tuser: $user\n\t\t\t\tadUnits: $adUnits\n\t\t\t\tauctionId: $auctionId\n\t\t\t\tversion: $version\n\t\t\t\t) {\n\t\t\t\t\tid\n\t\t\t\t\tdata {\n\t\t\t\t\t\tname\n\t\t\t\t\t\tcpc\n\t\t\t\t\t\tctr\n\t\t\t\t\t\tcpm\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t"],(y=void 0)||(y=v.slice(0)),r=Object.freeze(Object.defineProperties(v,{raw:{value:Object.freeze(y)}})))),f=c.config.cheggBidder.delay||0,p={country:c.user.country,layout:c.user.layout,page:c.user.page,ua:{name:c.user.ua.name,platform:c.user.ua.platform||s.default.getPlatform(),os:s.default.getOsName()},delay:f,time_on_site:i.default.getTime(),hit_count:i.default.getGaHitCount()||-1,subscription_status:s.default.getSubscriptionsStatus(),pageCount:c.user.pageCount},m=e.map((function(e){return{name:e.name,mediaTypes:e.mediaTypes}})),g="mw"===c.config.site?"mathway":i.default.transformSiteName(c.config.site),h={campaign:c.config.cheggBidder.campaign,site:g,mode:t.mode.toUpperCase(),user:p,adUnits:m,auctionId:t.id,version:c.config.cheggBidder.version},0!==e.length){n.next=15;break}return i.default.log("CheggBidder: Empty adUnits in page: ".concat(p.page,", layout: ").concat(p.layout),a.default.LOG_NAMESPACE.CHEGG_BIDDER),n.abrupt("return");case 15:b={query:l,variables:h},c.config.cheggBidder.skipAuth&&(b=Object.assign({},b,{operationName:"GetCpmsPrediction"})),i.default.recordEventTime("cheggBidderInit"),c.initTime=i.default.getTime(),fetch(d,{method:"POST",headers:u,body:JSON.stringify(b)}).then((function(e){return e.json()})).then((function(e){!e||e.errors?(i.default.log("No data was returned",a.default.LOG_NAMESPACE.CHEGG_BIDDER),i.default.throw("Chegg Bidder returned with no data with request: ".concat(JSON.stringify(h)))):(i.default.log("Succesfully got cpmsPrediction",a.default.LOG_NAMESPACE.CHEGG_BIDDER),c.response_time=i.default.getTime()-c.initTime,c.success=!0,c.setCpmsByPlacement(e.data.cpmsPrediction.data))})).catch((function(e){i.default.log("Failed to get cheggBidder",a.default.LOG_NAMESPACE.CHEGG_BIDDER),i.default.throw("Failed to get cheggBidder with request: ".concat(JSON.stringify(h)),e)}));case 21:case"end":return n.stop()}var v,y}),n)})),new(d||(d=Promise))((function(e,t){function r(e){try{a(l.next(e))}catch(e){t(e)}}function i(e){try{a(l.throw(e))}catch(e){t(e)}}function a(t){var n;t.done?e(t.value):(n=t.value,n instanceof d?n:new d((function(e){e(n)}))).then(r,i)}a((l=l.apply(n,u||[])).next())}));var n,u,d,l},setCpmsByPlacement:function(e){e&&e.forEach((function(e){i.default.log("Setting new cpm prediction for ".concat(e.name,": ").concat(c.format(e.cpm)),a.default.LOG_NAMESPACE.CHEGG_BIDDER),c.cpmsByPlacement[e.name]=c.format(e.cpm)}))},format:function(e){return Math.min(Number.parseFloat(e),c.config.cheggBidder.maxCpm).toFixed(2)},getCpm:function(e){return c.trainingEnabled()&&Math.random()<c.config.cheggBidder.trainingRate?c.config.cheggBidder.trainingKvp:c.isEnabled()?(c.cpmsByPlacement[e]||i.default.log("Chegg Bidder failed to return cpm for placement: ".concat(e),a.default.LOG_NAMESPACE.CHEGG_BIDDER),c.cpmsByPlacement[e]):void 0},sendCheggBidderEvent:function(e,t){if(!c.eventSent&&t===c.currentAuction){var n={event_name:"chegg_bidder_response",response_time:c.response_time,late_response:e,country:c.user.country};s.default.send({type:a.default.SBM.EVENT_TYPES.AD_VARIOUS.NAME,data:n}),c.eventSent=!0}}};t.default=c},4663:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var a=n(4502),o=n(1310),s=n(5432),c=n(7570),u=n(4145),d=n(2008),l=n(7005),f=n(7312),p=function(){function e(t){var n=this,r=t.user,i=t.pageManager,o=t.config;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.gptSlots={},this.slotRenderEndedCmd=[],this.scriptLaunched=!1,this.slotRenderEndedInit=function(){n.googletag.pubads().addEventListener("slotRenderEnded",(function(e){n.slotRenderEndedCmd.forEach((function(t){try{t.call(n,e)}catch(e){s.default.throw("Error in slotRenderEnded handler",e)}}))}))},this.slotRenderEndedAdd=function(e){n.slotRenderEndedCmd.push(e)},this.getWinnerAndUpsertBid=function(e){var t,r,i,o,u,d=n.auction,f=n.auction.advPage,p=e.slot.getTargeting("pl")[0],m=e.size||[],g=m[0],h=m[1],b=n.pageManager.getPlacements()[p];if(p in f.headerPlacements){try{i=parseInt(e.sourceAgnosticLineItemId,10),r=parseInt(e.sourceAgnosticCreativeId,10),(t=d.getWinner(p,a.default.CHANNEL_NAMES.PREBID))&&!e.isEmpty?t.headerWinner=!0:t=d.getWinner(p,a.default.CHANNEL_NAMES.CPC);var v=n.getChannelAndPartnerName(e,t);switch(o=v.partnerName,u=v.channel,o){case a.default.CHANNEL_NAMES.NILE:var y=t;t=d.getWinner(p,a.default.CHANNEL_NAMES.NILE),y&&(t.nextBidPartner=y.partnerName,t.nextBidCpm=y.cents/100);break;case a.default.CHANNEL_NAMES.ADX:t=n.auction.getPartner(o).createAdxBid({placementName:p,bid:t,auction:d,width:g,height:h}),s.default.log("".concat(o," ").concat(p," bid: ").concat(t.status),a.default.LOG_NAMESPACE.BIDS);break;case a.default.CHANNEL_NAMES.MD:var E=d.getPartner(o);t=E.getBid({placementName:p,auctionId:d.id,dfpWidth:g,dfpHeight:h,headerBid:t}),E.addClickEventListener(b,!1,e.creativeId,n.user);break;case a.default.CHANNEL_NAMES.EBDA:var O=t&&t.cents?isNaN(t.cents)?0:parseFloat(String(t.cents/100)):0;t=new c.default({id:s.default.genUUID(),partnerName:a.default.CHANNEL_NAMES.EBDA,partnerAlias:a.default.CHANNEL_NAMES.EBDA,placementName:p,status:a.default.BID_STATUS.SUCCESS,cpm:O,launchOrder:-1,launchTime:1/0,bidAdjustment:{revShare:0,discrepancy:0},useRenderFunction:!0,format:a.default.MEDIA_TYPES.BANNER,auctionId:d.id}),s.default.log("".concat(o," ").concat(p," bid: ").concat(t.status),a.default.LOG_NAMESPACE.BIDS);break;case n.config.cpcPartner.name:var A=d.getPartner(d.cpcPartnerName);A&&(b.clearPasture(),A.renderAd(b)),b.iabViewable=!0,"google_norender"in n.urlParams||b.skipLoggingFailures||s.default.throw("empty creative returned by DFP",new l.default("".concat(f.page,"/").concat(p),["empty creative"]))}}catch(e){s.default.throw("slotRenderEnded event [".concat(p,"][").concat(o,"]"),e)}e.isEmpty||n.numImpressions++}else p===a.default.VID_PLACEMENT_NAME&&(i=parseInt(e.sourceAgnosticLineItemId,10),r=parseInt(e.sourceAgnosticCreativeId,10),u=a.default.CHANNEL.NONE,t=new c.default({id:s.default.genUUID(),partnerName:a.default.VIDEO_PARTNERS.PRIMIS,partnerAlias:a.default.VIDEO_PARTNERS.PRIMIS,placementName:p,status:a.default.BID_STATUS.SUCCESS,cpm:0,launchOrder:-1,launchTime:1/0,bidAdjustment:{revShare:0,discrepancy:0},useRenderFunction:!1,format:a.default.MEDIA_TYPES.VIDEO,auctionId:d.id}));return t&&(t.channel=u,t.lineItemId=i,t.creativeId=r,t.dfpWinner=!0,s.default.log("slotRenderEnded: ".concat(p," ").concat(o," -- ").concat(isNaN(i)?"no line item ID":i),a.default.LOG_NAMESPACE.BIDS),t.renderEnd=s.default.getTime()),t},this.getChannelAndPartnerName=function(e,t){var r,i,o;if(i=parseInt(e.sourceAgnosticLineItemId,10),parseInt(e.sourceAgnosticCreativeId,10),i){if(e.advertiserId===a.default.HEADER_ADVERTISER_ID)return{partnerName:t.partnerName,channel:a.default.CHANNEL.HEADER};e.advertiserId===a.default.NILE_ADVERTISER_ID?(o=a.default.CHANNEL_NAMES.NILE,r=a.default.CHANNEL.HEADER):e.isEmpty||e.creativeId?(r=a.default.CHANNEL.MD,o=a.default.CHANNEL_NAMES.MD):(o=a.default.CHANNEL_NAMES.ADX,r=a.default.CHANNEL.ADX)}else!e.isEmpty&&e.advertiserId?(o=a.default.CHANNEL_NAMES.ADX,r=a.default.CHANNEL.ADX):e.isEmpty?e.isEmpty&&(o=n.config.cpcPartner.name,r=a.default.CHANNEL.CPC):(o=a.default.CHANNEL_NAMES.EBDA,r=a.default.CHANNEL.EBDA);return{partnerName:o,channel:r}},this.slotRenderEndedListener=function(e){var t=e.slot.getTargeting("aid")[0],r=e.slot.getTargeting("pl")[0],i=e.slot.getTargeting("md")[0],o=n.pageManager.getPlacements()[r],c=n.getWinnerAndUpsertBid(e);s.default.recordEventTime("dfpAuctionEnd",n.auction.id);var u=s.default.calculatedEventTimes(n.auction.id,!0);if(c&&(r!==a.default.UNLOCK_PLACEMENT_NAME||r!==a.default.UNLOCK_MOBILE_PLACEMENT_NAME)){var l;if(c.partnerName===a.default.VIDEO_PARTNERS.PRIMIS)l=[c];else{var f;l=pbjs.getBidResponsesForAdUnitCode(o.divId).bids.filter((function(e){return e.auctionId===n.auction.id&&e.adId!==c.id})).map((function(e){return n.auction.convertPrebidResponseToBid(e,n.auction.bidFlooring)}));var p=pbjs.getHighestUnusedBidResponseForAdUnitCode(o.divId);if(p&&p.bidder&&(f=n.auction.convertPrebidResponseToBid(p,n.auction.bidFlooring))&&(c.nextBidCpm=f.cents/100,c.nextBidPartner=f.partnerName),c.partnerName!==a.default.CHANNEL_NAMES.NILE){var m=n.auction.getWinner(c.placementName,a.default.CHANNEL_NAMES.NILE);m&&m.nil&&"2"!==m.nil&&(c.nil=m.nil)}l.push(c)}l.forEach((function(t){var r=d.default.generateClickStreamEvent({bid:t,placement:o,auction:n.auction,advertiserId:e.advertiserId,eventTimes:u,cheggBidderCpmSource:i});d.default.send({type:a.default.RIO.EVENT_TYPES.CLICKSTREAM_AD_IMPRESSION.NAME,data:r})}))}if(o){var g=c&&c.partnerName||"Unknown";o.slotRendered(t,g)}else s.default.throw("Error in slotRenderEndedListener - no placement ".concat(r," found in pageManager"))},this.registerSlots=function(e){Object.keys(e).forEach((function(t){var r=e[t];try{n.gptSlots[t]=n.googletag.defineSlot(r.slotPath,r.placementConfig.sizes,r.divId).addService(n.googletag.pubads())}catch(e){s.default.throw("Failed to define slot",e)}}))},this.pageManager=i,this.user=r,this.config=o,this.pageRequestErrorCallback=this.pageRequestErrorCallback.bind(this),this.launchScript()}var t,n;return t=e,n=[{key:"launchScript",value:function(){var e=this,t=this.config.consentScripts&&this.config.consentScripts.dfp&&this.config.consentScripts.dfp.attributes||{};this.scriptLaunched||s.default.launchScript("https://securepubads.g.doubleclick.net/tag/js/gpt.js",(function(){e.scriptLaunched=!0}),this.pageRequestErrorCallback,{},t)}},{key:"init",value:function(e){var t=e.auction,n=e.config;return i(this,void 0,void 0,regeneratorRuntime.mark((function e(){var r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config=n,this.auction=t,this.refreshCount=this.user.refreshCount,this.refreshType=this.user.refreshType,this.isRefresh=this.user.refreshCount>0,this.urlParams=s.default.getUrlParams(),this.numImpressions=0,this.googletag=window.googletag,this.googletag.adv||(this.listenForGptFireError(),this.googletag.adv=!0,this.queue((function(){r.slotRenderEndedInit(),r.slotRenderEndedAdd(r.slotRenderEndedListener),r.impressionViewableListener()}))),this.queue((function(){var e=r.getGptSlots(),t=r.auction.advPage.dfpPlacements;r.destroySlots(e,r.auction.advPage.destroyPlacements),r.registerSlots(t)})),!u.getGdprApplies()){e.next=13;break}return e.next=13,this.settingRequestTypeAds();case 13:this.queue((function(){r.googletag.pubads().enableSingleRequest(),r.googletag.pubads().disableInitialLoad(),r.googletag.enableServices()}));case 14:case"end":return e.stop()}}),e,this)})))}},{key:"settingRequestTypeAds",value:function(){return i(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.consentSignalForGooglePersonalizedAds();case 2:return t=e.sent,e.next=5,u.consentSignalForGoogleNonPersonalizedAds();case 5:n=e.sent,t?(this.user.gdprConsented=!0,this.queue((function(){r.googletag.pubads().setRequestNonPersonalizedAds(0)}))):n&&(this.user.gdprConsented=!1,this.queue((function(){r.googletag.pubads().setRequestNonPersonalizedAds(1)})));case 7:case"end":return e.stop()}}),e,this)})))}},{key:"queue",value:function(e){this.googletag.cmd.push(e)}},{key:"getGptSlots",value:function(){return this.gptSlots}},{key:"setGlobalTargeting",value:function(){var e=this.isRefresh?"yes":"no",t=this.googletag.pubads(),n=o.default.getViewedUnlock()?"yes":"no";if(s.default.getOptimizelyKvps().forEach((function(e){var n=e.experiment,r=e.variation;t.setTargeting(n,r)})),t.setTargeting("refresh",e),t.setTargeting("a_b_test",this.user.testGroup),t.setTargeting("tg",this.user.tg),t.setTargeting("page_count",String(this.user.pageCount||0)),t.setTargeting("citation_count",String(this.user.citationCount||0)),t.setTargeting("refresh_count",String(this.refreshCount||0)),t.setTargeting("redesign",String(-1!==this.user.page.indexOf("_redesign"))),t.setTargeting("viewed_unlock_modal",n),t.setTargeting("layout",this.auction.advPage.layout),t.setTargeting("page",this.user.page),window.EBTEST&&t.setTargeting("EBTEST",window.EBTEST),window.BMTEST&&t.setTargeting("BMTEST",window.BMTEST),window.CMTEST&&t.setTargeting("CMTEST",window.CMTEST),window.DFPTEST&&t.setTargeting("TEST",window.DFPTEST),this.user.suppress){var r=String(this.user.suppress);t.setTargeting("user_suppress",[r])}this.config.experiment&&t.setTargeting("experiment",this.config.experiment),this.config.grammarlyOff&&t.setTargeting("disable_grammarly","true")}},{key:"setPlacementTargeting",value:function(e,t){var n=e.ibv?"yes":"no";t.setTargeting("placement",e.name),t.setTargeting("pl",e.name),t.setTargeting("ibv",n),t.setTargeting("aid",this.auction.id)}},{key:"setHeaderPlacementTargeting",value:function(e,t){var n=t.partnerAlias,r=t.partnerName,i=this.user.tg,a=this.isRefresh?"yes":"no",o="".concat(t.width,"x").concat(t.height),s=this.user.time.utc;e.setTargeting("adv_bid",t.cpm),e.setTargeting("adv_testgroup","".concat(this.user.testGroup,":").concat(r)),e.setTargeting("adv_refresh","".concat(a,":").concat(r)),e.setTargeting("bd",t.cpm),e.setTargeting("ry",n),e.setTargeting("adv_bidder",r),e.setTargeting("ry_sz","".concat(n,"_").concat(o)),e.setTargeting("ry_sz_hr","".concat(n,"_").concat(o,"_").concat(s)),e.setTargeting("tg_ry","".concat(i,"_").concat(n)),e.setTargeting("tg_ry_sz","".concat(i,"_").concat(n,"_").concat(o)),e.setTargeting("tg_ry_sz_hr","".concat(i,"_").concat(n,"_").concat(o,"_").concat(s))}},{key:"getKvps",value:function(){var e=this,t=this.getGptSlots(),n={};try{if(Object.keys(t).forEach((function(e){var r=t[e],i=r.getTargetingKeys();n[e]={},i.forEach((function(t){n[e][t]=r.getTargeting(t)}))})),this.googletag.pubadsReady){var r=this.googletag.pubads().getTargetingKeys();n.global={},r.forEach((function(t){n.global[t]=e.googletag.pubads().getTargeting(t)}))}}catch(e){s.default.throw("Failed to get KVPs",e)}return n}},{key:"fire",value:function(e,t){var n,r=this;if(!(null===(n=null==this?void 0:this.user)||void 0===n?void 0:n.page)||this.user.page===t.page){var i=[];return Object.keys(e).forEach((function(n){var a=e[n],o=t.dfpPlacements[n],c=r.googletag;o.$ad?c.display(o.divId):s.default.onDocReady((function(){o.$ad?c.display(o.divId):s.default.throw("$ad not defined when displaying google",new l.default("".concat(t.page,"/").concat(o.name),["no $ad"]))})),i.push(a)})),this.googletag.pubads().refresh(i),i.length>0}}},{key:"listenForGptFireError",value:function(){var e=this,t={send:XMLHttpRequest.prototype.send};XMLHttpRequest.prototype.send=function(n){if(this.onerror&&"string"==typeof n&&-1!==n.indexOf("googletag.impl.pubads")){var r=this.onerror;this.onerror=function(){return e.pageRequestErrorCallback(),r.apply(this,arguments)}}return t.send.apply(this,arguments)};var n=document.head.insertBefore;document.head.insertBefore.sbmModified||(document.head.insertBefore=function(t){return t&&t.src&&-1!==t.src.indexOf("https://securepubads.g.doubleclick.net/gampad/ads")&&(t.onerror=e.pageRequestErrorCallback),n.apply(this,arguments)},document.head.insertBefore.sbmModified=!0)}},{key:"pageRequestErrorCallback",value:function(){this.user.canRunAds=!1,this.user.canRunAdsDFPFail=!1;try{var e=this.auction.getPartner(this.auction.cpcPartnerName);e&&(e.renderAllAds(),s.default.log("googletag.display() failed. Calling cpcPartner.",a.default.LOG_NAMESPACE.BIDS))}catch(e){}}},{key:"destroySlots",value:function(e,t){var n=Object.keys(e).filter((function(e){return t[e]})).map((function(t){return e[t]}));return this.googletag.destroySlots(n),n}},{key:"impressionViewableListener",value:function(){var e=this;this.googletag.pubads().addEventListener("impressionViewable",(function(t){if(0!==t.slot.getTargetingKeys().length){var n=t.slot.getTargeting("aid")[0],r=t.slot.getTargeting("pl")[0],i=e.pageManager.getPlacements()[r];if(!r&&!n){var a=e.getGptSlots();if(0===Object.keys(a).filter((function(e){return a[e].getAdUnitPath()===t.slot.getAdUnitPath()})).length)return}i?i.markViewable(n):s.default.throw("Error in impressionViewableListener: no placement ".concat(r," found in pageManager: ").concat(e.user.page,"/").concat(e.user.layout))}}))}},{key:"runTargeting",value:function(e){var t=this,n=this.auction.getWinningBids(),r=e&&e.takeover,i=this.config.takeover&&this.config.takeover.disablePlacements?this.config.takeover.disablePlacements:[];return new Promise((function(o,c){t.queue((function(){s.default.recordEventTime("dfpInit",t.auction.id);var c=t.getGptSlots(),u={};t.setGlobalTargeting(),r?t.googletag.pubads().setTargeting("takeover",e.takeover):t.googletag.pubads().clearTargeting("takeover"),t.auction.getPartner(a.default.CHANNEL_NAMES.NILE)&&t.auction.getPartner(a.default.CHANNEL_NAMES.NILE).setTargeting(),Object.keys(t.auction.advPage.dfpPlacements).forEach((function(e){var o=c[e],d=t.auction.advPage.dfpPlacements[e],l=n[e];if(!r||!i.includes(e)){t.setPlacementTargeting(d,o),l&&t.setHeaderPlacementTargeting(o,l);var p=l?l.cents:0,m=t.auction.getPartner(t.auction.cpcPartnerName),g=f.default.getCpm(e);g&&(s.default.log("Setting disable_md to true and new md targeting",a.default.LOG_NAMESPACE.CHEGG_BIDDER),o.setTargeting("disable_md","true"),o.setTargeting("md",g)),d.skipDfpForViewability(p)&&m?m.renderAd(d):u[e]=o,s.default.log("Set targeting for ".concat(e),a.default.LOG_NAMESPACE.BIDS)}})),t.fire(u,t.auction.advPage),o()}))}))}},{key:"getTakeoverDemand",value:function(e,t){var n=this;return new Promise((function(r,o){return i(n,void 0,void 0,regeneratorRuntime.mark((function n(){var i,o,c,d=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.googletag=window.googletag,this.queue((function(){return d.registerSlots({D_MISC:e})})),!u.getGdprApplies()){n.next=5;break}return n.next=5,this.settingRequestTypeAds();case 5:this.queue((function(){d.googletag.pubads().enableSingleRequest(),d.googletag.pubads().disableInitialLoad(),d.googletag.enableServices()})),this.queue((function(){i=d.gptSlots[e.name],d.googletag.pubads().setTargeting("takeover",t),i.setTargeting("pl",e.name),e.$ad?d.googletag.display(e.divId):s.default.log("Issues displaying D_MISC takeover",a.default.LOG_NAMESPACE.STATE)})),o="".concat(window.location.protocol,"//").concat(window.location.host),c=function e(t){try{var n=JSON.parse(t.data);t.origin===o&&(window.removeEventListener("message",e),r(n))}catch(e){}},window.addEventListener("message",c,!1),this.queue((function(){d.googletag.pubads().refresh([i])}));case 11:case"end":return n.stop()}}),n,this)})))}))}}],n&&r(t.prototype,n),e}();t.default=p},380:(e,t,n)=>{"use strict";function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw o}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5432),s=n(4502),c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t}var t,n;return t=e,(n=[{key:"setLinksTextAndBasicStyles",value:function(e){var t=[],n="",r=e.$ad,i=e.$pasture;if(i&&r){if(e.placementConfig.skipUpgradeLink)return;var a=o.default.genRandomString();t.push([a,this.maxWidthForPlacement(e)]);var s=this.createLinks(a,e,this.config.upgradeLink);i.appendChild(s)}n+=this.styleForLinkContainers(t),o.default.dynamicStyle(n)}},{key:"clearOldLinks",value:function(e){var t=this;Object.keys(e).forEach((function(n){var r=e[n];t.clearOldLink(r)}))}},{key:"clearOldLink",value:function(e){var t=e.$pasture;t&&Array.from(t.getElementsByClassName(s.default.CLASS_NAMES.LINK)).forEach((function(e){e.parentNode.removeChild(e)}))}},{key:"maxWidthForPlacement",value:function(e){var t,n=160,i=r(e.placementConfig.sizes);try{for(i.s();!(t=i.n()).done;){var a=t.value;a[0]>n&&(n=a[0])}}catch(e){i.e(e)}finally{i.f()}return n>420?420:n}},{key:"createUpgradeLink",value:function(e,t){var n=document.createElement("a");return n.style.color="darkgray",n.setAttribute("data-type","ads-keep-us-free"),n.setAttribute("data-link-location",e),n.textContent="Upgrade",n.href=t,n}},{key:"createLinks",value:function(e,t,n){var r=document.createElement("div");r.setAttribute("id",e),r.className=s.default.CLASS_NAMES.LINK;var i=this.createUpgradeLink(t.name,n);return t.placementConfig.skipUpgradeLink||r.appendChild(i),r}},{key:"styleForLinkContainers",value:function(e){var t="";window.AD_VANTAGE_STAGING&&(t+="\n/* ==== style for link containers ==== */\n");var n,i=r(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;t+="#".concat(a[0],",")}}catch(e){i.e(e)}finally{i.f()}return t=t.substring(0,t.length-1),t+=[" {","font-size: 12px;","min-height: 20px;","text-align: center;","align-content: center;","margin: 0px auto;","margin-bottom: 8px;","position: relative;","top: 3px;","font-weight: normal;","color: gray;","max-width: 160px;","}"].join("\n    "),"".concat(t)}}])&&a(t.prototype,n),e}();t.default=c},9598:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(8954),a=n(5432),o=n(4502),s=n(1310),c=n(6159),u=n(7005),d=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.placements={},this.auctionHistory={},this.user=t,this.config=n,this.makeLayoutReplacements()}var t,n;return t=e,(n=[{key:"genAuction",value:function(e){var t=e.isRefresh,n=e.isReload,r=e.bidFlooring,i=e.layout,o=e.page,s=new c.default({user:this.user,config:this.config,isRefresh:t,isReload:n,bidFlooring:r});this.auction=s;var u=this,d=window.pbjs;return d.cmd.push((function(){d.onEvent("auctionInit",(function e(t){t.adUnits.length&&!t.adUnits[0].mediaTypes.video&&(a.default.recordEventTime("prebidAuctionInit",u.auction.id),d.offEvent("auctionInit",e))})),d.onEvent("auctionEnd",(function e(t){t.adUnits.length&&!t.adUnits[0].mediaTypes.video&&(a.default.recordEventTime("prebidAuctionEnd",u.auction.id),d.offEvent("auctionEnd",e))}))})),this.auctionHistory["".concat(o,"_").concat(i)]=s,s}},{key:"makeLayoutReplacements",value:function(){var e=this;this.config.placements&&Object.keys(this.config.placements).forEach((function(t){window.sbmCmd.push((function(n){n.updateLayouts(t,e.config.placements[t].replacements)}))}))}},{key:"genAdvPage",value:function(e){var t=this,n=e.mode,r=e.pagetype,c=e.user,u=e.links,d=e.page,l=e.layout,f=e.advPlacements,p=e.union,m=n===o.default.MODE.R,g=!m&&!c.isInitialAuction,h={page:d,layout:l,advPlacements:f,destroyPlacements:{},headerPlacements:{},dfpPlacements:{},placements:{},placementCount:0,headerPlacementCount:0,placementsRemaining:0},b=this.config.adsModal||{};return Object.keys(f).forEach((function(e){var s=t.genMergedPlacementConfig(e,f);if(f[e].placementConfig=s,t.placements[e])if(e===o.default.VID_PLACEMENT_NAME){var l=t.placements[e].videoPlayer;l.player&&l.player.updateSizes&&s.sizes&&l.player.updateSizes(s.sizes)}else t.placements[e].updateSlotPath({page:d,placementName:e,mode:n,placementConfig:s});else{var p=new i.default({config:t.config,user:c,placementName:e,placementConfig:s,divId:a.default.genRandomString(),dfpSiteId:t.config.dfpSiteId,page:r,mode:n,links:u});t.placements[e]=p}})),Object.keys(this.placements).forEach((function(e){var n=t.placements[e],r=s.default.getPreviousTruexGcs(),i=t.genMergedPlacementConfig(e,f),a=!1;try{a=JSON.stringify(n.placementConfig.sizes)===JSON.stringify(i.sizes)}catch(e){}var o=n.shouldParticipate({isRefresh:m,isReload:g,advPlacements:f,adsModalConfig:b,hasSeenVideoModalRecently:r,union:p,sizeMatch:a});if(n.shouldDestroy({isReload:g,isRefresh:m,shouldParticipate:o,advPlacements:f,union:p,sizeMatch:a})&&(h.destroyPlacements[e]=n),f[e]&&o){var c=t.genMergedPlacementConfig(e,f);!1!==c.headerUnit&&(h.headerPlacements[e]=n,h.headerPlacementCount++),!1!==c.dfpUnit&&(h.dfpPlacements[e]=n),h.placements[e]=n,h.placementCount++,h.placementsRemaining++}})),this.advPage=h,this.advPage}},{key:"getPlacementByDivId",value:function(e){for(var t=0,n=Object.keys(this.placements);t<n.length;t++){var r=n[t];if(this.placements[r].divId===e)return this.placements[r]}return null}},{key:"genAdvPlacements",value:function(e,t,n){var r=t,i="default",o={};if(e.layout)if(n.layouts&&n.layouts[t]&&n.layouts[t][e.layout])i=e.layout,o=n.layouts[t][e.layout];else{var s="Tried to genAdvPage with layout; layout not found: ".concat(t);a.default.throw(s,new u.default(s,["no layout"])),r="ros",o=n.pages[r]||{}}else if(n.pages&&n.pages[t])o=n.pages[t];else{var c="Tried to genAdvPage with page type not in config: ".concat(t);a.default.throw(c,new u.default(c,["no page"])),r="ros",o=n.pages[r]||{}}return{advPlacements:o,layout:i,page:r}}},{key:"genMergedPlacementConfig",value:function(e,t){var n=a.default.copy(this.config.placements[e]||{});return t[e]&&Object.keys(t[e]).forEach((function(r){n[r]=t[e][r]})),n}},{key:"destroyAndInitPlacements",value:function(e,t){var n=this;Object.keys(t.advPage.destroyPlacements).forEach((function(e){t.advPage.destroyPlacements[e].destroy(!t.advPage.placements[e])})),Object.keys(t.advPage.placements).forEach((function(r){var i=n.genMergedPlacementConfig(r,t.advPage.advPlacements);t.advPage.placements[r].init({placementConfig:i,auction:t,page:e.page})}))}},{key:"setAuction",value:function(e){this.auction=e}},{key:"getPreauction",value:function(e,t){var n=this.auctionHistory["".concat(e,"_").concat(t)];if(n&&!n.used)return n}},{key:"getAuction",value:function(){return this.auction}},{key:"getAdvPage",value:function(){return this.advPage}},{key:"getPlacements",value:function(){return this.placements}}])&&r(t.prototype,n),e}();t.default=d},6650:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(){return o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=s(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},o.apply(this,arguments)}function s(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function u(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(4502),f=n(6414),p=n(5432),m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(m,e);var t,n,r,s,f=(r=m,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(r);if(s){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u(this,e)});function m(e){var t,n=e.auction,r=e.config,i=e.dfp,a=e.partnerConfig,o=e.partnerName,s=e.user;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),(t=f.call(this,{auction:n,config:r,partnerName:o,partnerConfig:a})).dfp=i,t.user=s,t.$adMap={},t.renderQueue=[],t.CPC_PARTNER_CONVERTED_CPM=1e3*(a.convertedCpm||.7),t.responseReceived=!1,t.endpoint=a.endpoint||"//dtakdb1z5gq7e.cloudfront.net/login.js",t}return t=m,(n=[{key:"renderAd",value:function(e){this.responseReceived?this._renderAd(e,!1):this.renderQueue.push(e)}},{key:"renderAllAds",value:function(){var e=this.auction.advPage.headerPlacements;for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];this.renderAd(n)}}},{key:"cpcPartnerCallback",value:function(e){for(var t=this,n=this.auction.advPage.headerPlacements,r=0,a=["header-bartner","nantage-header","vantage_lboard","vantage_wrap"];r<a.length;r++){var o=a[r];"citethisforme"===l.default.SITE.NAME&&"sidebar"===o||this.obfuscate(o)}var s=function(r){if(!n.hasOwnProperty(r))return"continue";var i,a,o,s=t.createBid(r),c=n[r].placementConfig.sizes.reduce((function(n,r){if(n||!Array.isArray(r))return n;var i=r.join("x");return i in e?(s.setWidth(r[0]),s.setHeight(r[1]),s.trackingUrl=t.partnerConfig.ads[i].linkUrl,s.status=l.default.BID_STATUS.SUCCESS,e[i]):void 0}),null);c||(s.status=l.default.BID_STATUS.ERROR),s.ad=c,s.channel=l.default.CHANNEL.CPC,t.addBidResponse(r,s,!1),t.auction.setWinner(r,l.default.CHANNEL_NAMES.CPC,s),p.default.log(["".concat(t.name," ").concat(r," bid:"),(i={},a=s.status,o=s,a in i?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,i),e],l.default.LOG_NAMESPACE.BIDS)};for(var c in n)s(c);this.responseReceived=!0;var u,d=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw o}}}}(this.renderQueue);try{for(d.s();!(u=d.n()).done;){var f=u.value;this.renderAd(f)}}catch(e){d.e(e)}finally{d.f()}}},{key:"getResponseCss",value:function(e,t,n){return{img:e,width:"".concat(t,"px"),height:"".concat(n,"px")}}},{key:"obfuscate",value:function(e){var t="",n=!0,r=document.getElementById(e);if(r||(r=document.getElementsByClassName(e)[0],n=!1),r){window.AD_VANTAGE_STAGING&&(t+="\n/* ==== obfuscate ".concat(e," ==== */\n")),p.default.removeClass(r,e);var i=p.default.genRandomString();p.default.addClass(r,i),n&&r.setAttribute("id",i),"sidebar"===e&&p.default.removeClass(r,"homepage_sidebar")}return t}},{key:"_renderAd",value:function(e,t){var n=this,r=(this.auction,e.name);if(!this.$adMap[r]){var i=document.getElementById(e.divId),a=this.response[r];if(i&&a&&a.ad){var o=p.default.genRandomString(),s=document.createElement("div");p.default.addClass(s,"cpc-partner");var c=this.getResponseCss(a.ad,a.width,a.height);s.setAttribute("id",o),s.style.cssText="display: block!important;visibility: visible!important;",i.appendChild(s),this.$adMap[r]={$ad:s,bid:a};var u=["\n#".concat(o," {"),"margin: 4px auto;","background-image: ".concat(c.img,";"),"background-size: contain;","cursor: pointer;","height: ".concat(c.height,";"),"width: ".concat(c.width,";"),"}","\n#".concat(e.placementConfig.divId," {"),"padding: 0;","}\n"].join("\n    ");p.default.dynamicStyle(u),this.addClickEventListener(e,null,this.user)}else t||p.default.onDocReady((function(){n._renderAd(e,!0)}))}}},{key:"clickCallback",value:function(e,t,n){try{var r=this.response[e.name];this.updateCpm(e.name,this.CPC_PARTNER_CONVERTED_CPM),window.open(r.trackingUrl,"_blank")}catch(e){p.default.throw("Failed to update CPC data and open tracking url on click",e)}o(d(m.prototype),"clickCallback",this).call(this,e,t,n)}}])&&a(t.prototype,n),m}(f.default);t.default=m},2517:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(){return o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=s(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},o.apply(this,arguments)}function s(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function u(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}Object.defineProperty(t,"__esModule",{value:!0});var f=n(4502),p=n(9301),m=n(2008),g=n(5432),h=n(3460),b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(v,e);var t,n,s,p,b=(s=v,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(s);if(p){var n=l(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u(this,e)});function v(e){var t,n=e.config,r=e.user,a=e.placement,o=e.clearReloadTimeoutOnBlur,s=e.getVideoStateByType,c=e.increaseVideoCountByType,u=e.resetVideoCountByType,l=e.setFrequencyCapReached,f=e.setReloadTimeout,p=e.setTrackingPixel,m=e.setManualPauseState,h=e.setManualMuteState,y=e.setContentVideoTrackingPixel,E=e.insertNativeVideoTrackingPixel;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v),(t=b.call(this,{config:n,user:r,placement:a,getVideoStateByType:s,setManualPauseState:m,setManualMuteState:h,setContentVideoTrackingPixel:y,insertNativeVideoTrackingPixel:E})).requestCount=0;var O=n.targetBlurredAds,A="object"===i(n.unfilledRequestCap)?g.default.getMatchingFieldValue(n.unfilledRequestCap,t.fieldMatchingFunctions,"unfilledRequestCap")||n.unfilledRequestCap.default:n.unfilledRequestCap;return Object.assign(d(t),{clearReloadTimeoutOnBlur:o,increaseVideoCountByType:c,resetVideoCountByType:u,setFrequencyCapReached:l,setReloadTimeout:f,setTrackingPixel:p,targetBlurredAds:O,unfilledRequestCap:A,config:n}),n.playOnClick&&(t.playOnClick=t.playOnClick.bind(d(t)),window.SBMGlobal.run.subscribe(t.playOnClick)),t}return t=v,(n=[{key:"adsErrorHandler",value:function(e){var t=this;this.shouldRequest=!0,this.setReloadTimeout();var n=e.data.AdError.getErrorCode(),r=e.data.AdError.getMessage(),i=f.default.VJS.FATAL_ERRS.indexOf(n)>-1,a=this.auctionWinners[this.auctionId],s=a&&a.pbBid?a&&a.pbBid:null,c=a&&a[f.default.CHANNEL_NAMES.NILE]?a&&a[f.default.CHANNEL_NAMES.NILE]:null,u=m.default.generateVideoEvent({eventName:f.default.VIDEO_EVENTS.ERROR,errorCode:n,errorMessage:r,player:f.default.VIDEO_PARTNERS.CUSTOM,playerId:this.vidElemId,auctionId:this.auctionId,auctionType:this.auctionType,fatal:i,pbBidAvailable:!!s,nileBidAvailable:!!c});if(s&&(u=Object.assign(Object.assign({},u),{pbPartner:s.bidder,cached:s.auctionId===this.auctionId,cpm:s.cpm,videoCreativeId:g.default.convertElementToString(s.creativeId)})),c&&(u=Object.assign(Object.assign({},u),{nileBidCached:c.auctionId===this.auctionId,encodedCpm:c.amznp})),m.default.send({type:f.default.SBM.EVENT_TYPES.VIDEO_EVENT.NAME,data:u}),i)if(s&&(s.errored=!0),c&&(c.errored=!0),this.params.adOnError&&this.params.adOnError>this.adErrorCount&&(this.getWinningBid()||this.getNileBid())){this.adErrorCount++;var d=this.getVideoAdUnit();this.handleVideoBids(d)}else this.adErrorCount=0,setTimeout((function(){t.player.paused()&&(t.contentVideoPlaying=!0,t.play())}),2e3);o(l(v.prototype),"adsErrorHandler",this).call(this,e)}},{key:"adsReadyHandler",value:function(){var e=this,t=document.getElementById(f.default.VID_PLACEMENT_NAME).firstChild;this.viewableObserver.observer.observe(t),this.setReloadTimeout(),f.default.VJS.EVENTS.IMA.forEach((function(n){e.player.ima.addEventListener(n,(function(r){var i;if(e.setReloadTimeout(),"start"===n&&(e.setAdVolume(!0),g.default.recordEventTime("videoAdStarted",e.auctionId),i=g.default.getVideoStartTime(e.auctionId),e.contentVideoPlaying=!1,e.targetBlurredAds&&e.getVideoStateByType(f.default.VIDEO_SESSION_STATE.BLURRED_AD)<=e.targetBlurredAds&&!e.inFocus&&e.increaseVideoCountByType(f.default.VIDEO_SESSION_STATE.BLURRED_AD)),"loaded"===n&&(e.setAdVolume(!0),g.default.recordEventTime("videoAdLoaded",e.auctionId),i=g.default.getVideoLoadTime(e.auctionId)),"adProgress"!==n||e.auctionWinners[e.auctionId].completed||(e.contentVideoPlaying=!1,e.inFocus||!e.pauseOnAd&&!e.pauseOnBlur||e.pause(),e.params.maxAdDuration&&r.getAdData&&r.getAdData()&&e.params.maxAdDuration<r.getAdData().currentTime&&e.interruptAd()),"impression"===n){e.contentVideoPlaying=!1,e.setAdVolume(!0);var a=30;if(r.getAd&&r.getAd()&&r.getAd().getDuration){var o=r.getAd().getDuration();"number"==typeof o&&o>0&&o<30&&(a=Math.floor(o))}e.adTimePerContentVid+=a,e.viewableObserver&&(e.viewableObserver.shouldSendViewableEvent=!0),e.viewableObserver&&!document.hidden&&e.inFocus&&e.viewableObserver.setViewableTimeout(),e.resetVideoCountByType(f.default.VIDEO_SESSION_STATE.UNFILLED_REQUEST)}if("complete"===n&&(e.viewableObserver&&e.viewableObserver.clearViewableTimeout(),e.contentVideoPlaying=!0,e.auctionWinners[e.auctionId].completed=!0),f.default.VJS.EVENTS.SKIP.indexOf(n)<0){var s=e.getEventName(n),c=m.default.generateVideoEvent(Object.assign(e.getEventData(r),{eventName:s,player:f.default.VIDEO_PARTNERS.CUSTOM,playerId:e.vidElemId,cuePoint:e.currentCuePoint,auctionType:e.auctionType,auctionId:e.auctionId,location:e.user.country,count:e.requestCount,cuepoint:e.currentCuePoint}));if(i&&(c["".concat(n,"Time")]=i),s&&m.default.send({type:f.default.SBM.EVENT_TYPES.VIDEO_EVENT.NAME,data:c}),s&&s===f.default.VIDEO_EVENTS.IMPRESSION){c=Object.assign({},c,{placement:e.placement.name,wonImpression:!0,bidId:g.default.genUUID(),isInitialAuction:e.user.isInitialAuction,mode:e.placement.auction.mode,cached:!1});var u=m.default.transformImpressionData(c),d=m.default.generateVideoClickStreamEvent(u);m.default.send({type:f.default.RIO.EVENT_TYPES.CLICKSTREAM_AD_IMPRESSION.NAME,data:d})}g.default.log(["Video event ".concat(n," occurred in Custom Player."),c],f.default.LOG_NAMESPACE.VIDEO)}n===window.google.ima.AdEvent.Type.ALL_ADS_COMPLETED&&(e.shouldRequest=!0,e.contentVideoPlaying=!0,e.viewableObserver.observer.unobserve(t),setTimeout((function(){e.player.ads.isAdPlaying()||e.play()}),2e3))}))}))}},{key:"createPlayer",value:function(e,t){var n,r,i,a,s=this,c=Object.create(null,{createPlayer:{get:function(){return o(l(v.prototype),"createPlayer",s)}}});return n=this,r=void 0,i=void 0,a=regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.createPlayer.call(this,e,t);case 2:return r=n.sent,this.viewableObserver=new h.ViewableObserver(this),n.abrupt("return",r);case 5:case"end":return n.stop()}}),n,this)})),new(i||(i=Promise))((function(e,t){function o(e){try{c(a.next(e))}catch(e){t(e)}}function s(e){try{c(a.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(o,s)}c((a=a.apply(n,r||[])).next())}))}},{key:"handleVideoBids",value:function(e){var t,n,i=(t=this.getVideoUrl(e),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],o=i[1];this.sendRequestToWta(o),this.invokeVideoPlayer(a)}},{key:"getEventName",value:function(e){var t={start:f.default.VIDEO_EVENTS.START,complete:f.default.VIDEO_EVENTS.COMPLETE,pause:f.default.VIDEO_EVENTS.PAUSE,click:f.default.VIDEO_EVENTS.CLICK,impression:f.default.VIDEO_EVENTS.IMPRESSION,viewable_impression:f.default.VIDEO_EVENTS.VIEWABLE,error:f.default.VIDEO_EVENTS.ERROR,loaded:f.default.VIDEO_EVENTS.LOADED};return!!t[e]&&t[e]}},{key:"sendRequestToWta",value:function(e){var t={};e&&(t=m.default.generateVideoEvent({eventName:f.default.VIDEO_EVENTS.REQUEST,player:f.default.VIDEO_PARTNERS.CUSTOM,playerId:this.vidElemId,partner:e.bidderCode||null,cpm:e.cpm||null,filled:!0,cached:e.auctionId!==this.auctionId,count:++this.requestCount,cuepoint:this.currentCuePoint}),g.default.log("Prebid high bid: ".concat(e.bidder,", at: ").concat(e.cpm,", cached: ").concat(e.cached),f.default.LOG_NAMESPACE.VIDEO)),this.nileVideoBids&&this.nileVideoBids.length>0&&(t.encodedCpm=this.nileVideoBids[0].targeting.amznbid||this.nileVideoBids[0].targeting.amznbid_sp),this.setTrackingPixel(f.default.VIDEO_EVENTS.REQUEST),m.default.send({type:f.default.SBM.EVENT_TYPES.VIDEO_EVENT.NAME,data:t})}},{key:"interruptAd",value:function(){this.player.ima.getAdsManager().destroy(),this.contentVideoPlaying=!0,this.play(),this.setTrackingPixel(f.default.VIDEO_EVENTS.INTERRUPT)}},{key:"pause",value:function(){var e=!!this.config.continueOnViewable&&this.viewableObserver&&!this.viewableObserver.shouldSendViewableEvent,t=this.getVideoStateByType(f.default.VIDEO_SESSION_STATE.BLURRED_AD);(this.pauseOnAd||this.pauseOnBlur)&&(!this.inFocus&&this.targetBlurredAds&&t<=this.targetBlurredAds||e||(g.default.log("Pause called in video player. Focus: ".concat(this.inFocus,", Blurred ads: ").concat(t,"/").concat(this.targetBlurredAds,"  Checking adAlreadyViewable: ").concat(e),f.default.LOG_NAMESPACE.VIDEO),this.pauseOnBlur?(this.contentVideoPlaying?this.player.pause():!e&&this.player.ima&&this.player.ima.getAdsManager()&&this.player.ima.pauseAd(),this.clearReloadTimeoutOnBlur()):this.pauseOnAd&&(this.contentVideoPlaying||(!e&&this.player.ima&&this.player.ima.getAdsManager()&&this.player.ima.pauseAd(),this.clearReloadTimeoutOnBlur()))))}},{key:"shouldRunAuction",value:function(){return!(this.unfilledRequestCap&&this.getVideoStateByType(f.default.VIDEO_SESSION_STATE.UNFILLED_REQUEST)>=this.unfilledRequestCap&&(this.getVideoStateByType(f.default.VIDEO_SESSION_STATE.FCAP_REACHED)||(g.default.log("Unfilled impression streak frequency cap hit",f.default.LOG_NAMESPACE.VIDEO),this.setTrackingPixel(f.default.VIDEO_EVENTS.FCAP),this.setFrequencyCapReached(),window.SBMGlobal.run.updateLayouts(this.placement.name,this.placement.placementConfig.replacements),window.SBMGlobal.run.refresh()),1))}},{key:"runAuction",value:function(){this.shouldRunAuction()&&(this.increaseVideoCountByType(f.default.VIDEO_SESSION_STATE.UNFILLED_REQUEST),o(l(v.prototype),"runAuction",this).call(this))}},{key:"updateSizes",value:function(e){if(this.player&&e[0]){var t=e[0][0],n=e[0][1];this.isDocked||(this.player.width(t),this.player.height(n)),this.sizes=e}}},{key:"videoEventHandler",value:function(e,t){if(this.setReloadTimeout(),f.default.VJS.EVENTS.SKIP.indexOf(e)<0){var n=this.getEventName(e);n&&m.default.send({type:f.default.SBM.EVENT_TYPES.VIDEO_EVENT.NAME,data:m.default.generateVideoEvent({eventName:n,player:f.default.VIDEO_PARTNERS.CUSTOM,playerId:this.vidElemId})})}o(l(v.prototype),"videoEventHandler",this).call(this,e,t)}},{key:"playOnClick",value:function(e){e===f.default.DOM_EVENTS.CLICK&&this.player&&this.player.paused()&&this.play()}}])&&a(t.prototype,n),v}(p.default);t.default=b},3249:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4502),a=n(5432),o=n(2008),s="custom_playlist",c="playlist_header",u="header_text_container",d="playlist_container",l="d_vid_playlist",f="playlist_entry",p="play_icon",m="video_icon",g="active_entry",h="rand_left",b=function(){function e(t){var n=t.placement,r=t.config,i=t.contentUrls,a=t.updateCurrentContent;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.placement=n,this.config=r,this.contentUrls=i,this.updateCurrentContent=a}var t,n;return t=e,(n=[{key:"createVideoPlaylist",value:function(){a.default.embedCss(this.config.cssUrl);var e=document.getElementById(this.placement.placementConfig.divId);e.style.display="flex",a.default.addClass(e,l);var t=document.createElement("div");t.id=s,this.createHeader(t),this.createPlaylistEntries(t),e.appendChild(t),document.getElementById(i.default.VID_PLACEMENT_NAME).firstChild.classList.add(h)}},{key:"createHeader",value:function(e){var t=document.createElement("div");t.id=c;var n=document.createElement("img");n.src=this.config.headerImg,t.appendChild(n);var r=document.createElement("div");r.id=u,t.appendChild(r);var i=document.createElement("p");i.innerHTML="Writing tips and tricks",r.appendChild(i);var a=document.createElement("p");a.innerHTML="from ".concat(this.config.siteDisplayName),r.appendChild(a),e.appendChild(t)}},{key:"createPlaylistEntries",value:function(e){var t=this,n=document.createElement("div");n.id=d,e.appendChild(n),this.contentUrls.forEach((function(e,r){var s=document.createElement("div");a.default.addClass(s,f),s.addEventListener("click",(function(){t.updateActiveEntry(r),t.updateCurrentContent(r);var n={text:"click on playlist",name:"click on playlist",region_name:i.default.LARGE_VIDEO_PLAYER,value:e.title},a=o.default.getClickstreamInteractionData(n);o.default.send({type:i.default.RIO.EVENT_TYPES.CLICKSTREAM_INTERACTION.NAME,data:a})}));var c=document.createElement("img");c.src="https://atc.studybreakmedia.com/assets/av/Play+16.svg",a.default.addClass(c,p),s.appendChild(c),0===r&&(a.default.addClass(s,g),a.default.addClass(c,g));var u=document.createElement("img");u.src=e.icon,a.default.addClass(u,m),s.appendChild(u);var d=document.createElement("p");d.innerHTML=e.title,s.appendChild(d),n.appendChild(s)}))}},{key:"updateActiveEntry",value:function(e){var t=document.getElementsByClassName(g)[0],n=t.children.item(0);a.default.removeClass(t,g),a.default.removeClass(n,g);var r=document.getElementById(d).children.item(e),i=r.children.item(0);a.default.addClass(r,g),a.default.addClass(i,g)}}])&&r(t.prototype,n),e}();t.default=b},8977:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return o(e)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}Object.defineProperty(t,"__esModule",{value:!0});var c=n(4502),u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,n,r=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=s(t);if(n){var i=s(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return a(this,e)});function u(e){var t,n=e.auction,i=e.config,a=e.dfp,s=e.partnerConfig,d=e.user,l=e.partnerName,f=void 0===l?c.default.PARTNER_NAMES.CPC.PAPERCHECKER:l;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),t=r.call(this,{auction:n,config:i,dfp:a,partnerName:f,partnerConfig:s,user:d}),window.SBMGlobal.run.pcCallback=t.cpcPartnerCallback.bind(o(t)),t}return u}(n(6650).default);t.default=u},9143:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4502),a=n(5432),o=n(2008),s=["adStarted","adCompleted","adPause","adClickthrough"],c=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.setReloadTimeout=t,this.playerId=this.playerId="".concat(i.default.VIDEO_PARTNERS.PRIMIS,"-").concat(a.default.genUUID()),a.default.onDocReady((function(){window.addEventListener("primisPlayerInit",(function(e){return n.addVideoEventListeners(e)}))}))}var t,n;return t=e,(n=[{key:"getEventName",value:function(e){var t={adStarted:i.default.VIDEO_EVENTS.START,adCompleted:i.default.VIDEO_EVENTS.COMPLETE,adPause:i.default.VIDEO_EVENTS.PAUSE,adClickthrough:i.default.VIDEO_EVENTS.CLICK};return!!t[e]&&t[e]}},{key:"addVideoEventListeners",value:function(e){var t=this,n=e.detail;s.forEach((function(e){t.setReloadTimeout(),n.addEventListener(e,(function(){var n=t.getEventName(e);n&&o.default.send({type:i.default.SBM.EVENT_TYPES.VIDEO_EVENT.NAME,data:{eventName:n,player:i.default.VIDEO_PARTNERS.PRIMIS,playerId:t.playerId}})}))}))}}])&&r(t.prototype,n),e}();t.default=c},4264:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4502),a=n(5432),o=n(2517),s=n(9143),c=n(2008),u=function(){function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.unfilledRequestCount=0,this.allowPlayerReload=!0,this.setTrackingPixel=this.setTrackingPixel.bind(this),this.setReloadTimeout=this.setReloadTimeout.bind(this),this.clearReloadTimeoutOnBlur=this.clearReloadTimeoutOnBlur.bind(this),this.handlePlayerEvent=this.handlePlayerEvent.bind(this),this.increaseVideoCountByType=this.increaseVideoCountByType.bind(this),this.getVideoStateByType=this.getVideoStateByType.bind(this),this.resetVideoCountByType=this.resetVideoCountByType.bind(this),this.setFrequencyCapReached=this.setFrequencyCapReached.bind(this),this.setManualPauseState=this.setManualPauseState.bind(this),this.setManualMuteState=this.setManualMuteState.bind(this),this.setContentVideoTrackingPixel=this.setContentVideoTrackingPixel.bind(this),this.insertNativeVideoTrackingPixel=this.insertNativeVideoTrackingPixel.bind(this),this.user=t,this.dfpSiteId=n.dfpSiteId,this.VideoState={blurredAdCount:0,unfilledRequestCount:0,fCapReached:!1,manuallyPaused:!1,manuallyMuted:!0},n.video&&n.video.player)try{this.name=n.video.player,this.config=n.video[this.name],this.params=this.config.params||{}}catch(e){a.default.throw("Video player ".concat(n.video.player," failed to initialize."),e)}}var t,n;return t=e,(n=[{key:"shouldRun",value:function(e){return!!(this.user&&e&&(e=e.toLowerCase(),this.config&&this.params&&this.config.run[this.user.device][e]))}},{key:"expand",value:function(e){var t=this;a.default.onDocReady((function(){try{t.placement.placementConfig.sizes&&(document.getElementById(e.divId).style.width="".concat(t.placement.placementConfig.sizes[0][0],"px"),document.getElementById(e.divId).style.height="".concat(t.placement.placementConfig.sizes[0][1],"px"))}catch(e){a.default.throw("Video partner ".concat(t.name," failed to expand"),e)}}))}},{key:"collapse",value:function(e){var t=this;a.default.onDocReady((function(){try{document.getElementById(e.divId).style.width="",document.getElementById(e.divId).style.height=""}catch(e){a.default.throw("Video partner ".concat(t.name," failed to collapse"),e)}}))}},{key:"create",value:function(e){var t=this;if(this.name===i.default.VIDEO_PARTNERS.CUSTOM)try{this.player=new o.default({config:this.config,user:this.user,placement:e,setTrackingPixel:this.setTrackingPixel,setReloadTimeout:this.setReloadTimeout,clearReloadTimeoutOnBlur:this.clearReloadTimeoutOnBlur,increaseVideoCountByType:this.increaseVideoCountByType,resetVideoCountByType:this.resetVideoCountByType,getVideoStateByType:this.getVideoStateByType,setFrequencyCapReached:this.setFrequencyCapReached,setManualPauseState:this.setManualPauseState,setManualMuteState:this.setManualMuteState,setContentVideoTrackingPixel:this.setContentVideoTrackingPixel,insertNativeVideoTrackingPixel:this.insertNativeVideoTrackingPixel}),this.player.createCustomPlayer()}catch(e){a.default.throw("Video partner ".concat(this.name," failed to create"),e)}else this.name===i.default.VIDEO_PARTNERS.PRIMIS&&(this.player=new s.default(this.setReloadTimeout));a.default.onDocReady((function(){window.SBMGlobal.run.subscribe(t.handlePlayerEvent)})),this.params.trackingUnit&&this.setTrackingPixel(i.default.VIDEO_EVENTS.PLAYER_LOAD),c.default.send({type:i.default.SBM.EVENT_TYPES.VIDEO_EVENT.NAME,data:{eventName:"player-load",player:this.name,playerId:this.player.playerId}})}},{key:"destroy",value:function(){if(clearTimeout(this.reloadTimeout),window.SBMGlobal.run.unsubscribe(this.handlePlayerEvent),this.player)try{this.player.destroy&&this.player.destroy(),this.player=null,this.collapse(this.placement),this.setTrackingPixel(i.default.VIDEO_EVENTS.PLAYER_RESET)}catch(e){a.default.throw("Video partner ".concat(this.name," failed to destroy"),e)}}},{key:"play",value:function(e){this.player||(this.placement=e,this.create(this.placement)),this.name!==i.default.VIDEO_PARTNERS.PRIMIS&&(this.expand(this.placement),this.setReloadTimeout())}},{key:"setTrackingPixel",value:function(e){var t=this;a.default.onDocReady((function(){var n={tracking:e,tg:t.user.tg,page:t.user.page,layout:t.user.layout},r=encodeURIComponent(Object.keys(n).map((function(e){return"".concat(e,"=").concat(n[e])})).join("&")),o="".concat(i.default.GAM_URL).concat(t.dfpSiteId,"/").concat(t.params.trackingUnit,"&sz=1x1&c=").concat(a.default.genUUID(),"&t=").concat(r),s=document.createElement("iFrame");s.setAttribute("src",o),s.id="tracking-".concat(e),s.style.width="1px",s.style.height="1px",s.style.borderWidth="0px",document.body.appendChild(s)}))}},{key:"insertNativeVideoTrackingPixel",value:function(e,t){e&&a.default.onDocReady((function(){var n=document.createElement("iFrame");n.setAttribute("src",e),n.id="tracking-3PA-".concat(t.split(" ").join("-")),n.style.width="1px",n.style.height="1px",n.style.borderWidth="0px",document.body.appendChild(n)}))}},{key:"setContentVideoTrackingPixel",value:function(e,t){var n=this;e&&a.default.onDocReady((function(){var r="".concat(i.default.GAM_URL).concat(n.dfpSiteId,"/").concat(e,"&sz=1x1&c=").concat(a.default.genUUID()),o=document.createElement("iFrame");o.setAttribute("src",r),o.id="tracking-".concat(t.split(" ").join("-")),o.style.width="1px",o.style.height="1px",o.style.borderWidth="0px",document.body.appendChild(o)}))}},{key:"setReloadTimeout",value:function(){clearTimeout(this.reloadTimeout),this.config&&this.config.reloadPlayerTimeout&&this.player&&this.allowPlayerReload&&(this.reloadTimeout=window.setTimeout(function(){a.default.log("Destroying and recreating ".concat(this.name," player after no events in ").concat(this.config.reloadPlayerTimeout," milliseconds"),i.default.LOG_NAMESPACE.VIDEO),this.name!==i.default.VIDEO_PARTNERS.CUSTOM||this.player.contentVideoPlaying?(this.destroy(),this.play(this.placement)):this.player.interruptAd()}.bind(this),this.config.reloadPlayerTimeout))}},{key:"clearReloadTimeoutOnBlur",value:function(){this.allowPlayerReload=!1,clearTimeout(this.reloadTimeout)}},{key:"handlePlayerEvent",value:function(e){switch(e){case i.default.DOM_EVENTS.FOCUS||i.default.DOM_EVENTS.SCROLL:this.player.inFocus=!0,this.player.play&&this.player.play(),this.allowPlayerReload=!0,this.player.viewableObserver&&!this.player.contentVideoPlaying&&this.player.viewableObserver.setViewableTimeout(),this.setReloadTimeout();break;case i.default.DOM_EVENTS.BLUR:this.player.inFocus=!1,this.player.pause&&this.player.pause(),this.player.viewableObserver&&!this.player.contentVideoPlaying&&this.player.viewableObserver.clearViewableTimeout()}}},{key:"increaseVideoCountByType",value:function(e){this.VideoState[e]++}},{key:"resetVideoCountByType",value:function(e){this.VideoState[e]=0}},{key:"getVideoStateByType",value:function(e){return this.VideoState[e]}},{key:"setFrequencyCapReached",value:function(){this.VideoState[i.default.VIDEO_SESSION_STATE.FCAP_REACHED]=!0}},{key:"setManualPauseState",value:function(e){this.VideoState[i.default.VIDEO_SESSION_STATE.MANUAL_PAUSE]=e}},{key:"setManualMuteState",value:function(e){this.VideoState[i.default.VIDEO_SESSION_STATE.MANUAL_MUTE]=e}}])&&r(t.prototype,n),e}();t.default=u},7900:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function o(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}Object.defineProperty(t,"__esModule",{value:!0});var c=n(6414),u=n(5432),d=n(4502),l=n(7570),f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(p,e);var t,n,r,c,f=(r=p,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(r);if(c){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return o(this,e)});function p(e){var t=e.auction,n=e.config,r=e.partnerName,i=void 0===r?d.default.CHANNEL_NAMES.ADX:r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),f.call(this,{auction:t,config:n,partnerName:i})}return t=p,(n=[{key:"createAdxBid",value:function(e){var t=e.placementName,n=e.bid,r=e.auction,i=e.width,a=void 0===i?0:i,o=e.height,s=void 0===o?0:o,c=new l.default({id:u.default.genUUID(),partnerName:d.default.CHANNEL_NAMES.ADX,partnerAlias:d.default.CHANNEL_NAMES.ADX,placementName:t,status:d.default.BID_STATUS.SUCCESS,cpm:n&&n.cents?isNaN(n.cents)?0:parseFloat(String(n.cents/100)):0,launchOrder:-1,launchTime:1/0,bidAdjustment:{revShare:0,discrepancy:0},useRenderFunction:!0,auctionId:r.id,format:d.default.MEDIA_TYPES.BANNER});return c.status=d.default.BID_STATUS.SUCCESS,c.dfpWinner=!0,c.setWidth(a),c.setHeight(s),c}}])&&i(t.prototype,n),p}(c.default);t.default=f},9034:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(){return a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=o(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},a.apply(this,arguments)}function o(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}Object.defineProperty(t,"__esModule",{value:!0});var d=n(6414),l=n(4502),f=n(7570),p=n(5432),m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(m,e);var t,n,r,o,d=(r=m,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=u(r);if(o){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return c(this,e)});function m(e){var t=e.auction,n=e.config,r=e.partnerConfig,i=e.partnerName,a=void 0===i?l.default.CHANNEL_NAMES.MD:i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),d.call(this,{auction:t,config:n,partnerName:a,partnerConfig:r})}return t=m,(n=[{key:"getBid",value:function(e){var t=e.placementName,n=e.auctionId,r=e.dfpWidth,i=e.dfpHeight,a=e.headerBid,o=new f.default({id:p.default.genUUID(),partnerName:l.default.CHANNEL_NAMES.MD,partnerAlias:l.default.CHANNEL_NAMES.MD,placementName:t,status:l.default.BID_STATUS.SUCCESS,cpm:0,launchOrder:-1,launchTime:1/0,bidAdjustment:{},useRenderFunction:!0,auctionId:n,format:l.default.MEDIA_TYPES.BANNER});return o.dfpWinner=!0,o.setWidth(r),o.setHeight(i),a&&(o.nextBidPartner=a.partnerName,o.nextBidCpm=a.cents/100),o}},{key:"clickCallback",value:function(e,t,n){a(u(m.prototype),"clickCallback",this).call(this,e,t,n)}},{key:"addClickEventListener",value:function(e,t,n){if(n&&n.sbmId&&parseInt(n.sbmId,36)%1e3==0)try{var r=JSON.stringify({partnerName:this.partnerName,creativeId:t,placementName:e.name,layout:n?n.layout:void 0,mode:this.auction.mode,size:e.placementConfig.sizes[0]});p.default.sendDataLayerEvent({eventAction:"Rendered",eventLabel:r})}catch(e){p.default.throw("Failed to send sbmMdAds dataLayer event for partner: ".concat(this.partnerName),e)}a(u(m.prototype),"addClickEventListener",this).call(this,e,t,n)}}])&&i(t.prototype,n),m}(d.default);t.default=m},8161:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=u(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},c.apply(this,arguments)}function u(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function l(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var p=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var m=n(6414),g=n(5432),h=n(4502),b=n(4145),v=n(1310),y=!1,E=/[a-z0-9E+]{4,7}/,O="//c.amazon-adsystem.com/aax2/apstag.js",A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(A,e);var t,n,o,u,m=(o=A,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(o);if(u){var n=f(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return l(this,e)});function A(e){var t,n=e.auction,r=e.config,i=e.partnerConfig,a=e.bidsBackHandler,o=e.partnerName,s=void 0===o?h.default.CHANNEL_NAMES.NILE:o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,A),(t=m.call(this,{auction:n,config:r,partnerName:s,partnerConfig:i})).placementMap={},t.bidsBackHandler=a,t.endpoint=O,t.user=n.user,t.setAmznToken=i.shouldSetToken,t}return t=A,n=[{key:"formatForPlacement",value:function(e,t,n){n.divId&&n.slotPath||g.default.throw("Missing property for apstag request for placement ".concat(e,".  divId: ").concat(n.divId," , slotName: ").concat(n.slotPath)),this.request[e]=[{divId:n.divId,slotName:n.slotPath,sizes:i(new Set((t||[]).reduce((function(e,t){return t.sizes?e=[].concat(i(e),i(t.sizes)):t.size&&e.push(t.size),e}),[])))}],this.placementMap[n.divId]=e}},{key:"filterBidRequests",value:function(e,t,n){return this.shouldRequestSize(n.size,e.placementConfig.sizes,t)}},{key:"requestAds",value:function(){var e=this,t=[];for(var n in this.request)if(this.request.hasOwnProperty(n)){var i=this.request[n][0];i.sizes.length>0&&t.push({slotID:i.divId,slotName:i.slotName||"DEFAULT_SLOT_NAME",sizes:i.sizes})}0!==t.length&&(g.default.recordEventTime("nileAuctionInit",this.auction.id),window.apstag.fetchBids({slots:t,timeout:Math.floor(this.auction.getRemainingTimeout())},(function(t){g.default.recordEventTime("nileAuctionEnd",e.auction.id);var n,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw o}}}}(t);try{var o=function(){var t=n.value,i=void 0,a=e.placementMap[t.slotID];i=e.response[a];var o=t.targeting.amznbid||t.targeting.amznbid_sp;if(o&&o.match(E)){var s=e.auction.getPlacement(a);i=Object.assign(i,t),s&&s.nileBids.push(i)}if("string"==typeof t.size){var c=t.size.split("x");i.setWidth(c[0]),i.setHeight(c[1])}"object"===r(t.targeting)&&Object.keys(t.targeting).forEach((function(e){i[e]=t.targeting[e]})),i.status=h.default.BID_STATUS.SUCCESS,o&&(i.nil=o)};for(i.s();!(n=i.n()).done;)o()}catch(e){i.e(e)}finally{i.f()}e.bidsBackHandler&&e.bidsBackHandler()})))}},{key:"setTargeting",value:function(){var e=this;try{Object.keys(this.auction.advPage.dfpPlacements).forEach((function(t){var n=e.auction.advPage.dfpPlacements[t],r=window.googletag.pubads().getSlots().find((function(e){return e.getSlotId().getName()===n.slotPath})),i=e.auction.getWinningNileBid(n);i&&r&&(e.auction.setWinner(n.name,h.default.CHANNEL_NAMES.NILE,i),Object.keys(i).forEach((function(e){e.indexOf("amzn")>-1&&r.setTargeting(e,i[e])})))}))}catch(e){g.default.log("Failed to set nile targeting: ".concat(e),h.default.LOG_NAMESPACE.WARNING)}}},{key:"launch",value:function(){if(!y){var e=document.createElement("link");e.href="https://c.amazon-adsystem.com",e.rel="dns-prefetch";var t=document.createElement("link");t.href="https://c.amazon-adsystem.com",t.rel="preconnect",t.crossOrigin="anonymous";var n=document.createElement("script");n.src=O,n.async=!0;var r=this.config.consentScripts&&this.config.consentScripts.amazon&&this.config.consentScripts.amazon.attributes;for(var i in r)n.setAttribute(i,r[i]);var a=document.createElement("script");a.text='!function(a9,a,p,s,t,A,g){if(a[a9])return;function q(c,r){a[a9]._Q.push([c,r])}a[a9]={init:function(){q("i",arguments)},fetchBids:function(){q("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},dpa:function(){q("di",arguments)},rpa:function(){q("ri",arguments)},upa:function(){q("ui",arguments)},_Q:[]};}("apstag",window);',[e,t,n,a].forEach((function(e){return document.head.appendChild(e)})),y=!0}this.setAmznToken&&this.handleToken(),this.init(),c(f(A.prototype),"launch",this).call(this)}},{key:"handleToken",value:function(){return p(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getTokenConfig();case 2:(t=e.sent)?this.getToken()?this.renewToken(t):this.generateToken(t):this.deleteToken();case 4:case"end":return e.stop()}}),e,this)})))}},{key:"getToken",value:function(){return v.default.docCookies.getItem("AMZN-Token",!1)}},{key:"getTokenConfig",value:function(){return p(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=g.default.getUserEmail(this.config.prefix))&&(n=g.default.getHashedEmail(r)),!n){e.next=10;break}return t={hashedRecords:[{type:"email",record:n}],optOut:!1},e.next=6,(0,b.consentSignalForGooglePersonalizedAds)();case 6:if(i=e.sent,!(this.user.gdprApplies&&!i||this.user.ccpaApplies&&!this.user.ccpaConsented)){e.next=10;break}return t.optOut=!0,e.abrupt("return",t);case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e,this)})))}},{key:"renewToken",value:function(e){window.apstag&&"function"==typeof window.apstag.rpa&&(g.default.log("Calling apstag rpa to renew token with value: ".concat(JSON.stringify(e,null,2)),h.default.LOG_NAMESPACE.STATE),window.apstag.rpa(e))}},{key:"generateToken",value:function(e){window.apstag&&"function"==typeof window.apstag.upa&&(g.default.log("Calling apstag upa to generate token with value: ".concat(JSON.stringify(e,null,2)),h.default.LOG_NAMESPACE.STATE),window.apstag.upa(e))}},{key:"deleteToken",value:function(){window.apstag&&"function"==typeof window.apstag.dpa&&(g.default.log("Calling apstag dpa to delete token",h.default.LOG_NAMESPACE.STATE),window.apstag.dpa())}},{key:"init",value:function(){var e=this;window.apstag=window.apstag||(window.apstag={init:function(){e.q("i",arguments)},fetchBids:function(){e.q("f",arguments)},_Q:[]}),window.apstag.init({pubID:3094,adServer:"googletag",videoAdServer:"DFP",blockedBidders:this.config.tamBlockedBidders||[],deals:!0})}},{key:"q",value:function(e,t){window.apstag._Q.push([e,t])}}],n&&s(t.prototype,n),A}(m.default);t.default=A},6414:(e,t,n)=>{"use strict";function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw o}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4502),s=n(7570),c=n(5432),u=function(){function e(t){var n=t.auction,r=t.config,i=t.partnerName,a=t.partnerConfig;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.auction=n,this.config=r,this.partnerConfig=a,this.partnerName=i,this.name=i,this.alias=i.substring(0,3),this.request={},this.response={},this.allBidPredictions={},this.bidPrediction={},this.bidFloor={},this.minBidFloor={},this.launchTime=c.default.getTime(),this.duration=1/0,this.responseTime=1/0,this.expectedResponseCount={},this.launchOrder=-1,this.useRenderFunction=!1,this.skipWaiting=!1}var t,n;return t=e,(n=[{key:"shouldRun",value:function(e,t){return t=t.toLowerCase(),this.partnerConfig.run[e][t]}},{key:"setBidFloor",value:function(e,t){var n=t||{dollars:.1};return this.partnerConfig.bidAdjustment&&(this.partnerConfig.bidAdjustment.revShare&&(n.dollars=n.dollars/(1-this.partnerConfig.bidAdjustment.revShare)),this.partnerConfig.bidAdjustment.discrepancy&&(n.dollars=n.dollars/(1-this.partnerConfig.bidAdjustment.discrepancy))),n.cents=this.convertCpmToCents(n.dollars),n.dollars=n.cents/100,this.bidFloor[e]=n}},{key:"setMinBidFloor",value:function(){var e=this,t=Object.keys(this.bidFloor);if(t.length>0){var n=t.sort((function(t,n){var r=e.bidFloor[t].dollars,i=e.bidFloor[n].dollars;return null===r||isNaN(r)||0===r?1:null===i||isNaN(i)||0===i?-1:r-i}))[0],r=this.bidFloor[n];for(var i in this.minBidFloor=c.default.copy(r),this.minBidFloor.algorithm=o.default.NO_DATA,this.minBidFloor.type="min_bid_floor",this.minBidFloor.partnerSource=r.partnerSource||o.default.NO_DATA,this.minBidFloor.placementSource=r.placementSource||n,this.bidFloor)this.bidFloor.hasOwnProperty(i)&&0===this.bidFloor[i].dollars&&(this.bidFloor[i]=this.minBidFloor)}else this.minBidFloor={dollars:0,algorithm:o.default.NO_DATA,partnerSource:o.default.NO_DATA,placementSource:o.default.NO_DATA,type:o.default.NO_DATA};return this.minBidFloor}},{key:"formBidRequest",value:function(e){var t=e.getViewportWidth(),n=e.name;if(n in this.partnerConfig.placements&&Array.isArray(this.partnerConfig.placements[n])){var r=this.partnerConfig.placements[n].filter(this.filterBidRequests.bind(this,e,t));this.formatForPlacement(n,r,e),this.expectedResponseCount[n]=(this.request[n]||[]).length,this.response[n]=this.createBid(n)}}},{key:"filterBidRequests",value:function(e,t,n){return null!==this.getRequestId(n)&&this.shouldRequestSize(n.size,e.placementConfig.sizes,t)}},{key:"addBidResponse",value:function(e,t,n){var r=parseFloat((c.default.getTime()-this.launchTime).toFixed(3)),i="boolean"==typeof n?n:this.auction.getPlacement(e).isComplete;t.responseTime=r,t.lateResponse=i;var a=this.response[e];(!a||a.status===o.default.BID_STATUS.WAITING||a.dollars<t.dollars)&&(this.response[e]=t)}},{key:"updateCpm",value:function(e,t){this.response[e].updateCpm(t)}},{key:"createBid",value:function(e,t){return t=isNaN(t)?0:parseFloat(t),new s.default({id:c.default.genUUID(),partnerName:this.name,partnerAlias:this.alias,placementName:e,status:o.default.BID_STATUS.WAITING,cpm:t,launchOrder:this.launchOrder,launchTime:this.launchTime,bidAdjustment:this.partnerConfig.bidAdjustment||{},useRenderFunction:this.useRenderFunction,auctionId:this.auction.id})}},{key:"shouldRequestSize",value:function(e,t,n){if(!e)return!0;if(e[0]<=n){var i,a=r(t);try{for(a.s();!(i=a.n()).done;){var o=i.value;if(e[0]===o[0]&&e[1]===o[1])return!0}}catch(e){a.e(e)}finally{a.f()}}return!1}},{key:"shouldRequestSizes",value:function(e,t,n){var i,a=r(e);try{for(a.s();!(i=a.n()).done;){var o=i.value;if(!this.shouldRequestSize(o,t,n))return!1}}catch(e){a.e(e)}finally{a.f()}return!0}},{key:"getRequestId",value:function(e){return this.auction.isRefresh&&e.rid?e.rid:!this.auction.isRefresh&&e.sid?e.sid:null}},{key:"getTrackingPixel",value:function(e){if(!e)return"";var t=encodeURI(e);return'<div style="position:absolute;left:0;top:0;visibility:hidden;">'+'<img src="'.concat(t,'"></div>')}},{key:"checkAdapterFailed",value:function(e){if(e){var t=new Error("".concat(this.name," got borked"));c.default.throw("Partner launch error",t)}return e}},{key:"formatForPlacement",value:function(e,t,n){}},{key:"requestAds",value:function(){}},{key:"launchScript",value:function(){var e=this;this.endpoint?c.default.launchScript(this.endpoint,(function(){return e.launch()}),(function(){})):this.launch()}},{key:"launch",value:function(){this.requestAds()}},{key:"convertCpmToCents",value:function(e){return Math.floor(100*e+1e-11)}},{key:"addClickEventListener",value:function(e,t,n){var r=this;try{var i=this;e.$ad?i.addEventListener({placement:e,partner:i,eventCreativeId:t,user:n}):c.default.onDocReady((function(){e.$ad?i.addEventListener({placement:e,partner:i,eventCreativeId:t,user:n}):c.default.log("Click Event for ".concat(r.partnerName," ads failed because $ad was not defined"),o.default.LOG_NAMESPACE.WARNING)}))}catch(e){c.default.log("Click Event for ".concat(this.partnerName," ads failed because ").concat(e.message),o.default.LOG_NAMESPACE.WARNING)}}},{key:"addEventListener",value:function(e){var t=e.placement,n=e.partner,r=e.eventCreativeId,i=e.user,a=t.$ad;if(n.name===o.default.CHANNEL_NAMES.MD)try{a=t.$ad.getElementsByTagName("iframe")[0].contentWindow.document.body}catch(e){a=t.$ad,c.default.log("Getting the div from iframe failed for MD partners: ".concat(e),o.default.LOG_NAMESPACE.WARNING)}a.addEventListener("click",(function(){n.clickCallback(t,r,i)}))}},{key:"clickCallback",value:function(e,t,n){try{var r=JSON.stringify({partnerName:this.partnerName,creativeId:t,placementName:e.name,layout:n?n.layout:void 0,mode:this.auction.mode,size:e.placementConfig.sizes[0]});c.default.sendDataLayerEvent({eventAction:"Click",eventLabel:r})}catch(e){c.default.throw("Failed to send dataLayer and clickstream event for partner: ".concat(this.partnerName),e)}}}])&&a(t.prototype,n),e}();t.default=u},9301:(e,t,n)=>{"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var d=n(4034),l=n(4502),f=n(5432),p=n(2008),m="vjs-ad-loading",g="AdX",h="AdSense",b=[400,300],v=[640,480],y=[500,300],E=n(3249),O=function(){function e(t){var n=this,r=t.config,i=t.placement,a=t.user,o=t.getVideoStateByType,s=t.setManualPauseState,c=t.setManualMuteState,u=t.setContentVideoTrackingPixel,d=t.insertNativeVideoTrackingPixel;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.adErrorCount=0,this.adTimePerContentVid=0,this.auctionType="preroll",this.auctionWinners={},this.contentLoading=!1,this.contentInitTracked=!1,this.inFocus=window.document.hasFocus(),this.nileVideoBids=[],this.pbVideoBids=[],this.timerRequestMultiplier=0,this.shouldRequest=!0,this.fieldMatchingFunctions={geo:function(){return n.user.country||"*"},browser:function(){return n.user.ua.name||"*"}},this.updateContent=function(e){if(e!==n.contentIdx){n.contentIdx=e;var t="".concat(n.contentUrls[n.contentIdx].src);if(n.showCaptions){var r=n.contentUrls[n.contentIdx].captionSrc;r&&n.setTextTrack(r)}n.contentInitTracked=!1,n.player.src({type:"video/mp4",src:t})}},this.adsErrorHandler=this.adsErrorHandler.bind(this),this.adsReadyHandler=this.adsReadyHandler.bind(this),this.adTagIdx=0,this.showCaptions=r.showCaptions,this.containerId=i.name===l.default.UNLOCK_PLACEMENT_NAME||i.name===l.default.UNLOCK_MOBILE_PLACEMENT_NAME?"custom_container":i.divId,this.contentIdx=0,this.contentUrls=r.contentUrls,this.descriptionUrl=r.descriptionUrl,this.params=r.params,this.partners=r.partners,this.pauseOnBlur=r.pauseOnBlur,this.pauseOnAd=r.pauseOnAd,this.placement=i,this.playlistConfig=r.playlistConfig,this.requestTimer=this.params.requestTimer,this.shouldRespectAdsRatio=r.shouldRespectAdsRatio,this.user=a,this.vidElemId="vjs-".concat(f.default.genUUID()),this.videoEventHandler=this.videoEventHandler.bind(this),this.getVideoStateByType=o,this.setManualPauseState=s,this.setManualMuteState=c,this.setContentVideoTrackingPixel=u,this.insertNativeVideoTrackingPixel=d}var t,n;return t=e,n=[{key:"adsErrorHandler",value:function(e){var t=e.data.AdError.getErrorCode();f.default.log("VAST adserror ".concat(t," occurred in Custom Player."),l.default.LOG_NAMESPACE.VIDEO)}},{key:"adsReadyHandler",value:function(){var e=this;l.default.VJS.EVENTS.IMA.forEach((function(t){e.player.ima.addEventListener(t,(function(n){"start"!==t&&"loaded"!==t&&"impression"!==t||e.setAdVolume(!0),"adProgress"===t&&(e.contentVideoPlaying=!1,e.inFocus||!e.pauseOnAd&&!e.pauseOnBlur||e.pause()),l.default.VJS.EVENTS.SKIP.indexOf(t)<0&&f.default.log("Ima event ".concat(t," occurred in Video JS Player."),l.default.LOG_NAMESPACE.VIDEO),t===window.google.ima.AdEvent.Type.ALL_ADS_COMPLETED&&setTimeout((function(){e.player.paused()&&(e.contentVideoPlaying=!0,e.play())}),2e3)}))}))}},{key:"annotateNileBids",value:function(e,t){var n=this;f.default.log("Received ".concat(e.length," nile video bids"),l.default.LOG_NAMESPACE.VIDEO),e.forEach((function(e){e.responseTimestamp=Date.now(),e.auctionType=n.auctionType,e.auctionId=n.auctionId,e.ttl=600,n.nileVideoBids.push(e)})),t()}},{key:"annotatePbBids",value:function(e,t,n){return u(this,void 0,void 0,regeneratorRuntime.mark((function r(){var i=this;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(f.default.log("Prebid video auction done",l.default.LOG_NAMESPACE.VIDEO),e&&e[this.placement.divId]&&e[this.placement.divId].bids.length&&(f.default.log("Received ".concat(e[this.placement.divId].bids.length," video bids"),l.default.LOG_NAMESPACE.VIDEO),this.pbVideoBids=this.pbVideoBids.concat(e[this.placement.divId].bids.map((function(e){return e.auctionId=i.auctionId,e.cuePoint=i.currentCuePoint,e.auctionType=i.auctionType,e})))),!(this.pbVideoBids.length>0&&n)){r.next=5;break}return r.next=5,this.cacheOustreamBids().then((function(e){for(var t in i.pbVideoBids)i.pbVideoBids[t].vastUrl=i.buildCachedBidUrl(e[t].uuid),i.pbVideoBids[t].videoCacheKey=e[t].uuid}));case 5:t();case 6:case"end":return r.stop()}}),r,this)})))}},{key:"cacheOustreamBids",value:function(){return u(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this,n=[],this.pbVideoBids.forEach((function(e){var r={type:"xml",value:e.vastXml?e.vastXml:t.wrapURI(e.vastUrl,e.vastImpUrl),ttlseconds:e.ttl};n.push(r)})),r={puts:n},i=JSON.stringify(r),(a=new XMLHttpRequest).open("POST","https://prebid.adnxs.com/pbc/v1/cache",!1),a.setRequestHeader("Content-Type","text/plain"),a.withCredentials=!0,a.send(i),200!==a.status){e.next=18;break}return e.prev=11,e.abrupt("return",JSON.parse(a.response).responses);case 15:e.prev=15,e.t0=e.catch(11),f.default.log("Failed to cache vast response",l.default.LOG_NAMESPACE.VIDEO);case 18:case"end":return e.stop()}}),e,this,[[11,15]])})))}},{key:"wrapURI",value:function(e,t){var n=t?"<![CDATA[".concat(t,"]]>"):"";return'<VAST version="3.0">\n\t\t  <Ad>\n\t\t\t<Wrapper>\n\t\t\t  <AdSystem>prebid.org wrapper</AdSystem>\n\t\t\t  <VASTAdTagURI><![CDATA['.concat(e,"]]></VASTAdTagURI>\n\t\t\t  <Impression>").concat(n,"</Impression>\n\t\t\t  <Creatives></Creatives>\n\t\t\t</Wrapper>\n\t\t  </Ad>\n\t\t</VAST>")}},{key:"buildCachedBidUrl",value:function(e){return"https://prebid.adnxs.com/pbc/v1/cache?uuid=".concat(e)}},{key:"createCustomPlayer",value:function(){return u(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loadCssFiles(),e.next=3,this.loadPlayerFiles(this.params);case 3:return this.playlistConfig&&this.playlistConfig.shouldShow&&(this.playlist=new E.default({placement:this.placement,config:this.playlistConfig,contentUrls:this.contentUrls,updateCurrentContent:this.updateContent}),this.playlist.createVideoPlaylist()),e.next=6,this.createPlayer(this.params,this.user);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})))}},{key:"createPlayer",value:function(e,t){return u(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,i,a,o,s,c,u,d,p,m=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.videoParams,i=e.imaParams,a=e.kvps,o=e.pixel,s=Array.isArray(e.cuePoints)?e.cuePoints:f.default.getMatchingFieldValue(e.cuePoints,this.fieldMatchingFunctions,"cuePoints")||e.cuePoints.default,c=a?"&".concat(a,"&tg=").concat(t.tg):"&tg=".concat(t.tg),this.contentUrls){n.next=5;break}return n.abrupt("return");case 5:return u=this.contentUrls[this.contentIdx],d=u.src,p=u.captionSrc,f.default.log("Initial load with (content, ad tag): ".concat(d,", ").concat(""),l.default.LOG_NAMESPACE.VIDEO),n.abrupt("return",new Promise((function(e){f.default.onDocReady((function(){try{var t=document.createElement(l.default.MEDIA_TYPES.VIDEO);t.className="video-js vjs-default-skin",t.muted=!0,t.id=m.vidElemId,t.setAttribute("playsInline","playsInline"),m.showCaptions&&(t.crossOrigin="anonymous"),m.playlistConfig&&m.playlistConfig.shouldShow&&(t.style.order="1"),o&&m.setPixel(o,c),m.createVideoPlayer({divId:m.containerId,videoElem:t,src:d,videoParams:r,captionSrc:p}),m.observeVjs(),m.placement.name!==l.default.UNLOCK_PLACEMENT_NAME&&m.createDockedButtonContainer(m.isLvp()),m.setPlayPauseStateListeners(),m.setMuteEventsHandler(),m.initializeVideoAds(m.vidElemId,"",i),m.placement.name!==l.default.UNLOCK_PLACEMENT_NAME&&m.placement.name!==l.default.UNLOCK_MOBILE_PLACEMENT_NAME&&(m.setVideoEventHandler(s,t,m.videoEventHandler),m.setAdsEventHandler(m.adsErrorHandler,m.adsReadyHandler)),e(t)}catch(t){f.default.throw("Video partner custom failed to create",t),e(null)}}))})));case 9:case"end":return n.stop()}}),n,this)})))}},{key:"getEventData",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={};try{if(e.getAd){var r=e.getAd(),i=r.getAdSystem();n.adSystem=i;var a,o,s,c,u,d=r.getWrapperAdSystems();r&&r.getCreativeId()&&(a=r.getCreativeId()),t&&(s=(o=this.auctionWinners[this.auctionId])&&o[l.default.CHANNEL_NAMES.NILE]?o[l.default.CHANNEL_NAMES.NILE]:{},c=o&&o.pbBid?o.pbBid:{},s&&s.targeting&&(u=s.targeting.amznbid||s.targeting.amznbid_sp)),"Amazon"===i?(n.partner=l.default.CHANNEL_NAMES.NILE,s.dfpWinner=!0,c&&c.nextBid&&(n.nextBidCpm=c.nextBid.cpm,n.nextBidPartner=c.nextBid.bidder),u&&(n.encodedCpm=u)):i&&(i.indexOf(h)>-1||i.indexOf(g)>-1)||d&&d.some((function(e){return e.indexOf(h)>-1||e.indexOf(g)>-1}))?(!a&&r&&r.getAdId()&&(a=r.getAdId()),n.partner=l.default.CHANNEL_NAMES.ADX,c&&(n.cpm=c.cpm,n.nextBidCpm=c.cpm,n.nextBidPartner=c.bidder),u&&(n.encodedCpm=u)):o&&o.pbBid?(n.partner=c.bidder,n.cpm=c.cpm,n.cached=c.cached,c.dfpWinner=!0,c.nextBid&&(n.nextBidCpm=c.nextBid.cpm,n.nextBidPartner=c.nextBid.bidder),u&&(n.encodedCpm=u)):n.partner=l.default.CHANNEL_NAMES.NONE,n.videoCreativeId=f.default.convertElementToString(a)}}catch(e){f.default.log("Trying to get winner from ad: ",l.default.LOG_NAMESPACE.VIDEO)}return n}},{key:"observeVjs",value:function(){var e=this,t=document.getElementById(this.vidElemId),n=t?a(t.classList):[];new MutationObserver((function(r){r.forEach((function(r){if("class"===r.attributeName){var i=a(t.classList).filter((function(e){return-1===n.indexOf(e)})),o=n.filter((function(e){return-1===a(t.classList).indexOf(e)}));i.indexOf(m)>-1&&(e.contentLoading=!0),o.indexOf(m)>-1&&(e.contentLoading=!1),n=a(t.classList)}}))})).observe(t,{attributes:!0})}},{key:"createVideoPlayer",value:function(e){var t=this,n=e.divId,r=e.videoElem,i=e.src,a=e.videoParams,o=e.captionSrc;document.getElementById(n).appendChild(r);var s=this.placement.placementConfig.sizes,c=this.placement.getVideoWidth(),u=this.placement.getVideoHeight();this.sizes=s,this.size=b,this.placement.name===l.default.UNLOCK_PLACEMENT_NAME||this.placement.name===l.default.UNLOCK_MOBILE_PLACEMENT_NAME?this.size=v:this.isLvp()&&(this.size=y),this.placement.name===l.default.UNLOCK_MOBILE_PLACEMENT_NAME&&(c=this.placement.getMobileVideoWidth(),u=this.placement.getMobileVideoHeight());var d=window.videojs(r.id,Object.assign({width:c,height:u,controls:!1,autoplay:!0,muted:!0},a));d.src({type:"video/mp4",src:i}),this.placement.name===l.default.UNLOCK_PLACEMENT_NAME&&this.placement.name===l.default.UNLOCK_MOBILE_PLACEMENT_NAME||d.src({type:"video/mp4",src:i}),this.showCaptions&&o&&window.videojs(this.vidElemId).ready((function(){t.setTextTrack(o),d.textTracks()[0].mode="showing"})),this.player=d,window.VIDEO=this.player}},{key:"createDockedButton",value:function(e){var t=document.createElement("div");return t.id="".concat(e,"-button"),t}},{key:"createDockedButtonContainer",value:function(e){var t=this,n=document.createElement("div");n.id=l.default.IDS.NON_CLICKABLE_OVERLAY;var r=document.createElement("div");r.id=l.default.IDS.VIDEO_BUTTONS;var i=this.createDockedButton("play-pause");r.appendChild(i),i.classList.add(l.default.VIDEO_PLAYER_EVENTS.PAUSE);var a=this.createDockedButton("mute-unmute");if(r.appendChild(a),a.classList.add(l.default.VIDEO_PLAYER_EVENTS.MUTE),e){var o=this.createDockedButton("close");r.appendChild(o),o.addEventListener("click",(function(){if(t.placement.sticky){t.placement.sticky.disableSticky(),t.placement.sticky.disableOverlay(),t.undock(!1);var e={text:"X",name:"close video",region_name:l.default.LARGE_VIDEO_PLAYER},n=p.default.getClickstreamInteractionData(e);p.default.send({type:l.default.RIO.EVENT_TYPES.CLICKSTREAM_INTERACTION.NAME,data:n})}}))}else n.classList.add(l.default.CLASS_NAMES.NONLVP),r.classList.add(l.default.CLASS_NAMES.NONLVP);n.appendChild(r),document.getElementById(this.containerId).appendChild(n)}},{key:"setMuteEventsHandler",value:function(){var e=this,t=document.getElementById(l.default.IDS.MUTE_UNMUTE);t&&t.addEventListener("click",(function(){var n=a(t.classList).includes(l.default.VIDEO_PLAYER_EVENTS.UNMUTE);n?(e.setManualMuteState(!0),e.swapButtonState(l.default.IDS.MUTE_UNMUTE,l.default.VIDEO_PLAYER_EVENTS.UNMUTE),e.setPlayerVolume(!0),e.setAdVolume(!0)):(e.setManualMuteState(!1),e.swapButtonState(l.default.IDS.MUTE_UNMUTE,l.default.VIDEO_PLAYER_EVENTS.MUTE),e.setPlayerVolume(!1),e.setAdVolume(!1));var r=n?l.default.VIDEO_PLAYER_EVENTS.MUTE:l.default.VIDEO_PLAYER_EVENTS.UNMUTE,i={text:r,name:r,region_name:e.isLvp()?l.default.LARGE_VIDEO_PLAYER:l.default.REGULAR_VIDEO_PLAYER},o=p.default.getClickstreamInteractionData(i);p.default.send({type:l.default.RIO.EVENT_TYPES.CLICKSTREAM_INTERACTION.NAME,data:o})}))}},{key:"dock",value:function(){if(this.isDocked=!0,this.player){this.player.width(400),this.player.height(300);var e={text:l.default.VIDEO_PLAYER_EVENTS.COLLAPSE,name:l.default.VIDEO_PLAYER_EVENTS.COLLAPSE,region_name:l.default.LARGE_VIDEO_PLAYER},t=p.default.getClickstreamInteractionData(e);p.default.send({type:l.default.RIO.EVENT_TYPES.CLICKSTREAM_INTERACTION.NAME,data:t})}var n=document.getElementById("D_VID").firstChild;n&&n.classList&&n.classList.add("rand_docked")}},{key:"undock",value:function(e){if(this.isDocked=!1,this.player){var t=i(this.placement.videoPlayer.player.sizes[0],2),n=t[0],r=t[1];if(this.placement.videoPlayer.player.player.width(n),this.placement.videoPlayer.player.player.height(r),e){var a={text:l.default.VIDEO_PLAYER_EVENTS.EXPAND,name:l.default.VIDEO_PLAYER_EVENTS.EXPAND,region_name:l.default.LARGE_VIDEO_PLAYER},o=p.default.getClickstreamInteractionData(a);p.default.send({type:l.default.RIO.EVENT_TYPES.CLICKSTREAM_INTERACTION.NAME,data:o})}}var s=document.getElementById("D_VID").firstChild;s&&s.classList&&s.classList.remove("rand_docked")}},{key:"getNileAdUnit",value:function(){var e=this;return this.partners[l.default.CHANNEL_NAMES.NILE]?this.partners[l.default.CHANNEL_NAMES.NILE].tags.reduce((function(t,n){return n.auctionType===e.auctionType&&t.push({slotID:n.params.slotID,mediaType:l.default.MEDIA_TYPES.VIDEO}),t}),[]):[]}},{key:"getNileBid",value:function(){var e=this;if(this.nileVideoBids.length)return this.nileVideoBids=this.nileVideoBids.filter((function(t){return!t.dfpWinner&&!t.errored&&(t.auctionId===e.auctionId||!!e.params.allowNileCache&&t.ttl&&Date.now()-t.responseTimestamp<1e3*t.ttl)})),this.nileVideoBids.filter((function(t){return t.auctionType===e.auctionType}))[0]}},{key:"getVideoAdUnit",value:function(){var e,t=this;e=Object.keys(this.partners).reduce((function(e,n){return t.partners[n].tags.forEach((function(i){if(n!==l.default.CHANNEL_NAMES.NILE){if(t.params.floors&&t.partners[n].floor){var a=t.partners[n].floor,o=a.key,s=a.format,c=t.placement.auction.bidFlooring.getVideoFloor(t.params.floors,s);o&&c&&(i.params=Object.assign(i.params,r({},o,c)))}i.auctionType===t.auctionType&&("ix"!==n&&"roundel"!==n||(i.params.size=t.size),e.push({bidder:n,params:i.params}))}})),e}),[]);var n={video:{context:"instream",playerSize:[this.size]}};this.params.mediaTypeParams&&Object.assign(n.video,this.params.mediaTypeParams);var i={code:this.placement.divId,sizes:[this.size],mediaTypes:n,bids:e,ortb2Imp:{ext:{gpid:this.placement.slotPath}}};return n.video.context===l.default.VIDEO_CONTEXT.OUTSTREAM&&Object.assign(i,{renderer:{url:"//",render:function(e){}}}),i}},{key:"getVideoBids",value:function(e,t){var n=this;return new Promise((function(r){var i=window.pbjs,a=n,o=new Promise((function(e){if(t.length<1)return e();window.apstag&&window.apstag.fetchBids({slots:t},(function(t){return a.annotateNileBids(t,e)}))}));if(window.PWT&&"function"==typeof window.PWT.getUserIds){var s=d.default.fetchUserIds(),c=s.wtUserIds,p=s.wtUserIdsAsEids;e.bids.forEach((function(e){e.userId=Object.assign({},c),e.userIdAsEids=p}))}var m=e.mediaTypes.video.context===l.default.VIDEO_CONTEXT.OUTSTREAM,g=new Promise((function(t){i.cmd.push((function(){f.default.log("Running Prebid Video",l.default.LOG_NAMESPACE.VIDEO),i.requestBids({adUnits:[e],bidsBackHandler:function(e){return u(n,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.annotatePbBids(e,t,m);case 2:case"end":return n.stop()}}),n)})))}})}))})),h=new Promise((function(e){setTimeout(e,n.params.timeout||3e3)}));Promise.all([Promise.race([h,o]),Promise.race([h,g])]).then((function(e){r(e)}))}))}},{key:"getVideoUrl",value:function(e){var t={iu:"".concat(this.placement.slotPath,"_").concat(this.auctionType),description_url:encodeURIComponent(this.descriptionUrl),cust_params:{TEST:window.DFPTEST,tg:this.user.tg,experiment:this.user.experiment}};f.default.getOptimizelyKvps().forEach((function(e){var n=e.experiment,i=e.variation;Object.assign(t.cust_params,r({},n,i))}));var n=this.getNileBid();n&&(n.targeting&&Object.assign(t.cust_params,n.targeting),this.auctionWinners[this.auctionId][l.default.CHANNEL_NAMES.NILE]=n);var i=this.getWinningBids(),a=i[0];f.default.log(["PbBid winningBid:",a],l.default.LOG_NAMESPACE.VIDEO);var o=i[1];if(a){o&&(a.nextBid=o),this.auctionWinners[this.auctionId].pbBid=a;var s=e.bids.find((function(e){return e.bidder===a.bidder}));if(s){var c=s.params.cacheHost||"https://prebid.adnxs.com/pbc/v1/cache";Object.assign(t.cust_params,{hb_cache_host:c}),e.mediaTypes.video.context===l.default.VIDEO_CONTEXT.OUTSTREAM&&Object.assign(t.cust_params,{hb_uuid:a.videoCacheKey})}}var u,d=Object.assign({},e,{sizes:this.sizes});d.mediaTypes.video.playerSize=this.sizes;try{var p={bid:a,adUnit:d,params:t};u=window.pbjs.adServers.dfp.buildVideoUrl(p)}catch(e){f.default.log("Failed to build video url: ".concat(e),l.default.LOG_NAMESPACE.WARNING)}return[u,a]}},{key:"getWinningBid",value:function(){return this.getWinningBids()[0]}},{key:"getWinningBids",value:function(){var e=this;return this.pbVideoBids=this.pbVideoBids.filter((function(t){return!t.dfpWinner&&!t.errored&&(t.auctionId===e.auctionId||!(!e.partners[t.bidder]||!e.partners[t.bidder].allowBidCache)&&t.ttl&&Date.now()-t.responseTimestamp<1e3*t.ttl)})),this.pbVideoBids.filter((function(t){return t.auctionType===e.auctionType})).sort((function(e,t){return t.cpm-e.cpm}))}},{key:"handleVideoBids",value:function(e){var t=i(this.getVideoUrl(e),1)[0];this.invokeVideoPlayer(t)}},{key:"initializeVideoAds",value:function(e,t,n){this.player.ima(Object.assign({id:e,adTagUrl:t,showControlsForJSAds:!1,vpaidMode:window.google.ima.ImaSdkSettings.VpaidMode.INSECURE,adsRenderingSettings:{enablePreloading:!0,loadVideoTimeout:9e3,mediaLoadTimeout:1e4}},n))}},{key:"invokeVideoPlayer",value:function(e){var t=this;e&&window.videojs&&window.videojs(this.vidElemId).ready((function(){t.player.ima.changeAdTag(e),t.player.ima.requestAds(),f.default.recordEventTime("videoAdsRequested",t.auctionId)}))}},{key:"loadCssFiles",value:function(){var e=this.params.cssUrls;e&&e.forEach((function(e){f.default.embedCss(e)}))}},{key:"loadPlayerFiles",value:function(e){return u(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.imaUrl,r=e.vjsUrl,t.abrupt("return",new Promise((function(e){f.default.launchScript(r,(function(){f.default.launchScript(n,(function(){e()}),(function(){return f.default.throw("Error loading google.ima dependency script.")}))}),(function(){return f.default.throw("Error loading video.js dependency script.")}))})));case 2:case"end":return t.stop()}}),t)})))}},{key:"setAdVolume",value:function(e){if(this.player.ima){var t=this.player.ima.getAdsManager();t&&(e?this.getVideoStateByType(l.default.VIDEO_SESSION_STATE.MANUAL_MUTE)&&t.setVolume(0):t.setVolume(.75))}}},{key:"setPlayerVolume",value:function(e){this.player&&(e?this.player.muted(!0):this.player.muted(!1))}},{key:"play",value:function(){this.getVideoStateByType(l.default.VIDEO_SESSION_STATE.MANUAL_PAUSE)||(this.contentVideoPlaying?this.player.play():this.player.ima&&this.player.ima.getAdsManager()&&this.player.ima.resumeAd())}},{key:"pause",value:function(){(this.pauseOnAd||this.pauseOnBlur)&&(this.pauseOnBlur?this.contentVideoPlaying?this.player.pause():this.player.ima&&this.player.ima.getAdsManager()&&this.player.ima.pauseAd():this.pauseOnAd&&!this.contentVideoPlaying&&this.player.ima.getAdsManager()&&this.player.ima.pauseAd())}},{key:"runAuction",value:function(){var e=this;this.shouldRequest=!1,this.adErrorCount=0,this.auctionId=f.default.genUUID(),this.auctionWinners[this.auctionId]={};var t=this.getVideoAdUnit(),n=this.getNileAdUnit();this.getVideoBids(t,n).then((function(){e.handleVideoBids(t)}))}},{key:"setAdsEventHandler",value:function(e,t){var n=this;this.player.on("adserror",(function(t){return e(t)})),this.player.on("adsready",(function(){return t()})),this.player.on("click",(function(e){var t=n.contentUrls[n.contentIdx],r="vjs-control-bar",i="vjs-icon-placeholder";if(t.clickThroughURL){var o=!0;e&&e.target&&e.target.classList&&(o=!a(e.target.classList).some((function(e){return[r,i].includes(e)}))),o&&window.open(t.clickThroughURL,"_blank")}}))}},{key:"setPixel",value:function(e,t){var n="".concat(e).concat(t),r=document.createElement("IMG");r.setAttribute("src",n),document.body.appendChild(r)}},{key:"isLvp",value:function(){var e=this.placement.videoPlayer;if(e&&e.player&&e.player.sizes&&Array.isArray(e.player.sizes)&&Array.isArray(e.player.sizes[0]))return e.player.sizes[0].includes(500)&&e.player.sizes[0].includes(283)}},{key:"resetPlayer",value:function(){this.adTagIdx=0,this.adTimePerContentVid=Math.floor(this.adTimePerContentVid-this.player.duration()),this.contentInitTracked=!1,this.shouldRequest=!0,this.contentIdx=(this.contentIdx+1)%this.contentUrls.length;var e="".concat(this.contentUrls[this.contentIdx].src);if(this.playlist&&this.playlist.updateActiveEntry(this.contentIdx),this.showCaptions){var t=this.contentUrls[this.contentIdx].captionSrc;t&&this.setTextTrack(t)}this.player.src({type:"video/mp4",src:e}),this.params.requestTimer&&(this.timerRequestMultiplier=0),f.default.log("Resetting video content: ".concat(e),l.default.LOG_NAMESPACE.VIDEO)}},{key:"setPlayPauseStateListeners",value:function(){var e=this,t=document.getElementById(l.default.IDS.PLAY_PAUSE);t&&t.addEventListener("click",(function(){var n=a(t.classList).includes(l.default.VIDEO_PLAYER_EVENTS.PAUSE);if(e.player){n?(e.setManualPauseState(!0),e.contentLoading||e.swapButtonState(l.default.IDS.PLAY_PAUSE,l.default.VIDEO_PLAYER_EVENTS.PAUSE),e.contentVideoPlaying?e.player.pause():e.player.ima.pauseAd()):(e.setManualPauseState(!1),e.contentLoading||e.swapButtonState(l.default.IDS.PLAY_PAUSE,l.default.VIDEO_PLAYER_EVENTS.PLAY),e.contentVideoPlaying?e.play():e.player.ima.resumeAd());var r=n?l.default.VIDEO_PLAYER_EVENTS.PAUSE:l.default.VIDEO_PLAYER_EVENTS.UNPAUSE,i={text:r,name:r,region_name:e.isLvp()?l.default.LARGE_VIDEO_PLAYER:l.default.REGULAR_VIDEO_PLAYER},o=p.default.getClickstreamInteractionData(i);p.default.send({type:l.default.RIO.EVENT_TYPES.CLICKSTREAM_INTERACTION.NAME,data:o})}}))}},{key:"setTextTrack",value:function(e){this.currTrackElem&&this.player.removeRemoteTextTrack(this.currTrackElem),this.currTrackElem=this.player.addRemoteTextTrack({kind:"captions",label:"English",src:e},!1)}},{key:"setVideoEventHandler",value:function(e,t,n){l.default.VJS.EVENTS.HTML.forEach((function(r){t.addEventListener(r,(function(){return n(r,e)}))}))}},{key:"swapButtonState",value:function(e,t){var n;n=e===l.default.IDS.PLAY_PAUSE?t===l.default.VIDEO_PLAYER_EVENTS.PLAY?l.default.VIDEO_PLAYER_EVENTS.PAUSE:l.default.VIDEO_PLAYER_EVENTS.PLAY:t===l.default.VIDEO_PLAYER_EVENTS.MUTE?l.default.VIDEO_PLAYER_EVENTS.UNMUTE:l.default.VIDEO_PLAYER_EVENTS.MUTE;var r=document.getElementById(e);r.classList.remove(t),r.classList.add(n)}},{key:"trackContentStart",value:function(){var e=this.contentUrls[this.contentIdx],t={eventName:l.default.VIDEO_EVENTS.CONTENT_START,player:l.default.VIDEO_PARTNERS.CUSTOM,playerId:this.vidElemId,contentTitle:e.title};p.default.send({type:l.default.SBM.EVENT_TYPES.VIDEO_EVENT.NAME,data:t})}},{key:"insertTrackingContentVideoTag",value:function(){var e=this.contentUrls[this.contentIdx];this.insertNativeVideoTrackingPixel(e.trackingUrl,e.title),this.setContentVideoTrackingPixel(e.trackingUnit,e.title)}},{key:"sendLosingBids",value:function(e,t,n){var r=this;if(!p.default.config||p.default.config.sendLosingVideoBidsEvents){var i=this.pbVideoBids.filter((function(t){return t.auctionId===e&&!t.dfpWinner})),a={player:l.default.VIDEO_PARTNERS.CUSTOM,playerId:this.vidElemId,cuePoint:n,auctionType:t,auctionId:e,location:this.user.country};i.forEach((function(e){var t=Object.assign(Object.assign({},a),{partner:e.bidder,cpm:e.cpm,videoCreativeId:f.default.convertElementToString(e.creativeId),layout:r.user.layout,placement:r.placement.name,wonImpression:!1,bidId:f.default.genUUID(),isInitialAuction:r.user.isInitialAuction,mode:r.placement.auction.mode,cached:!1}),n=p.default.transformImpressionData(t),i=p.default.generateVideoClickStreamEvent(n);p.default.send({type:l.default.RIO.EVENT_TYPES.CLICKSTREAM_AD_IMPRESSION.NAME,data:i})}))}}},{key:"videoEventHandler",value:function(e,t){if("timeupdate"===e){this.contentVideoPlaying=!0,this.contentInitTracked||(this.trackContentStart(),this.insertTrackingContentVideoTag(),this.contentInitTracked=!0),!this.inFocus&&this.pauseOnBlur&&this.pause();var n=this.player.currentTime();if(t&&"number"==typeof t[this.adTagIdx]){if(n>.01*this.player.duration()*t[this.adTagIdx]&&this.shouldRequest){if(this.shouldRespectAdsRatio&&!(this.player.duration()>this.adTimePerContentVid))return void this.adTagIdx++;this.sendLosingBids(this.auctionId,this.auctionType,this.currentCuePoint),this.currentCuePoint=t[this.adTagIdx],this.auctionType=0===this.currentCuePoint?"preroll":"midroll",f.default.log("Requesting ads for cue point: ".concat(t[this.adTagIdx]),l.default.LOG_NAMESPACE.VIDEO),this.runAuction(),this.adTagIdx++}}else if(this.params.requestTimer&&n>=this.timerRequestMultiplier*this.requestTimer/1e3&&this.shouldRequest){if(this.shouldRespectAdsRatio&&!(this.player.duration()>this.adTimePerContentVid))return void this.timerRequestMultiplier++;this.auctionType=this.timerRequestMultiplier>0?"midroll":"preroll",this.timerRequestMultiplier++,this.runAuction()}}if("ended"===e&&(f.default.log("Video ad is playing ".concat(this.player.ads.isAdPlaying()),l.default.LOG_NAMESPACE.VIDEO),!this.player.ads.isAdPlaying())){var r={eventName:l.default.VIDEO_EVENTS.CONTENT_COMPLETE,player:l.default.VIDEO_PARTNERS.CUSTOM,playerId:this.vidElemId,contentTitle:this.contentUrls[this.contentIdx].title};p.default.send({type:l.default.SBM.EVENT_TYPES.VIDEO_EVENT.NAME,data:r}),this.resetPlayer()}l.default.VJS.EVENTS.SKIP.indexOf(e)<0&&f.default.log("Video event ".concat(e," occurred in Video JS Player."),l.default.LOG_NAMESPACE.VIDEO)}}],n&&c(t.prototype,n),e}();t.default=O},1299:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.partnerShouldRun=t.getBidsFromConfig=t.isApprovedSize=void 0;var r=n(4502),i=n(8954),a=n(5432),o=function(e){var t=e.partnerName,n=e.partnersConfig,i=e.device,a=e.mode;if(t===r.default.CHANNEL_NAMES.NILE)return!1;var o=n[t];return!!(o&&o.run&&o.run[i]&&o.run[i][a])};t.partnerShouldRun=o;var s=function(e,t,n){var i=e.partnerName,a=e.mode,o=e.placementSizes,s=e.placementName,c=e.bidFlooring,u=a===r.default.MODE.R?r.default.MODENAME.REFRESH:r.default.MODENAME.STANDARD,d=n.params[u];if(!d)return t;c&&c.placement_bidders&&s in c.placement_bidders[a.toUpperCase()]&&i in c.placement_bidders[a.toUpperCase()][s]&&c.placement_bidders[a.toUpperCase()][s][i].params&&(d=Object.assign({},d,c.placement_bidders[a.toUpperCase()][s][i].params));var l=n.size?[n.size]:n.sizes||null,f=(l||[]).filter((function(e){return o.find((function(t){return e[0]===t[0]&&e[1]===t[1]}))}));if(l&&0===f.length)return t;var p={bidder:i,params:d};return f.length>0&&(p.sizes=f),t.push(p),t};t.getBidsFromConfig=s,t.isApprovedSize=function(e,t){var n=t.size;return!n||!!e.find((function(e){return n[0]===e[0]&&n[1]===e[1]}))},t.default=function(e){var t=e.placements,n=e.advPlacements,r=e.partners,c=e.device,u=e.mode,d=e.bidFlooring,l=i.default.placementObjectToArray(t).map((function(e){return function(e,t){var n=t.placementConfig.sizes.filter((function(e){return Array.isArray(e)})),r={name:e.name,code:e.divId,sizes:n,bids:[],ortb2Imp:{ext:{gpid:e.slotPath}}};return e.placementConfig.mediaTypes?(r.mediaTypes=e.placementConfig.mediaTypes,Object.keys(r.mediaTypes).forEach((function(e){var t=r.mediaTypes[e];t.sizes||"native"===e||(t.sizes=r.sizes)}))):r.mediaTypes={banner:{sizes:r.sizes}},r}(e,n[e.name])})),f=function(e){var t=e.partnersConfig,n=e.device,r=e.mode,i={};return Object.keys(t).forEach((function(e){o({partnerName:e,partnersConfig:t,device:n,mode:r})&&(i[e]=t[e])})),i}({partnersConfig:r,device:c,mode:u}),p=Object.keys(f);return l.reduce((function(e,t){var n=p.reduce((function(e,n){var r=f[n].placements[t.name];if(!Array.isArray(r))return e;var i=[];return r.every((function(e){return e.params}))?i=r.reduce(s.bind(void 0,{partnerName:n,mode:u,placementSizes:t.sizes,placementName:t.name,bidFlooring:d}),[]):a.default.throw("Partner not converted to params. Partnername: ".concat(n)),e.concat(i)}),[]);if(n.length>0){delete t.sizes;var r=Object.assign({},t,{bids:n});e.push(r)}return e}),[])}},4909:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5432),a=n(4502),o=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.forceTimerRefresh=!1,this.actionRefreshEnabled=!0,this.actionListenersSet=!1,this.tabHandler=function(e){e!==a.default.DOM_EVENTS.FOCUS&&e!==a.default.DOM_EVENTS.SCROLL||(r.clear(),i.default.log("Tab refresh triggered.",a.default.LOG_NAMESPACE.REFRESH),r.callback("tab"))},this.blurHandler=function(e){e===a.default.DOM_EVENTS.BLUR&&(window.SBMGlobal.run.unsubscribe(r.blurHandler),window.SBMGlobal.run.subscribe(r.tabHandler))},this.config=t,this.user=n;try{this.refreshConfig=this.config.refresh[n.device],this.enabled=this.refreshConfig.enabled,this.forceTimerRefresh=this.refreshConfig.forceTimerRefresh}catch(e){this.refreshConfig={},this.enabled=!1,i.default.throw("SBMGlobal.refreshManager failed to instantiate")}}var t,n;return t=e,(n=[{key:"addClickHandlers",value:function(e){var t=this;this.refreshConfig.ctaSelectors&&!this.actionListenersSet&&(this.refreshConfig.ctaSelectors.forEach((function(n){document.addEventListener("click",(function(r){r.target.closest(n)&&t.enabled&&t.actionRefreshEnabled&&(t.actionRefreshEnabled=!1,e(),setTimeout((function(){return t.actionRefreshEnabled=!0}),t.refreshConfig.actionRefreshTimer))}),!0)})),this.actionListenersSet=!0)}},{key:"registerAutoRefresh",value:function(e,t){var n=this;this.user=e,this.callback=function(e){t(e)};try{this.refreshConfig=this.config.refresh[this.user.device],this.enabled=this.refreshConfig.enabled}catch(e){i.default.throw("registerAutoRefresh failed")}this.clear(),this.addClickHandlers(t),this.shouldAllowRefresh()&&(this.normalTimer=window.setTimeout((function(){(n.forceTimerRefresh||window.document.hasFocus())&&(n.clear(),i.default.log("Normal refresh triggered.",a.default.LOG_NAMESPACE.REFRESH),n.callback("normal"))}),this.refreshConfig.durationMs),this.tabTimer=window.setTimeout((function(){window.document.hasFocus()?window.SBMGlobal.run.subscribe(n.blurHandler):window.SBMGlobal.run.subscribe(n.tabHandler)}),this.refreshConfig.visibilityMs),i.default.log("Refresh initialized with ".concat(this.refreshConfig.durationMs," on page and ").concat(this.refreshConfig.visibilityMs," off"),a.default.LOG_NAMESPACE.REFRESH))}},{key:"clear",value:function(){clearTimeout(this.tabTimer),clearTimeout(this.normalTimer),window.SBMGlobal.run.unsubscribe(this.blurHandler),window.SBMGlobal.run.unsubscribe(this.tabHandler)}},{key:"disableRefresh",value:function(){this.clear(),this.enabled=!1}},{key:"enableRefresh",value:function(){this.enabled=!0}},{key:"getRefreshCount",value:function(){return this.user.refreshCount}},{key:"shouldAllowRefresh",value:function(){return this.enabled&&this.user.refreshCount<this.refreshConfig.limit}}])&&r(t.prototype,n),e}();t.default=o},7347:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5432),o=n(1235),s=n(5980),c=n(469),u=n(912),d=n(3784),l=n(4145),f=n(4502),p=[f.default.DOM_EVENTS.FOCUS,f.default.DOM_EVENTS.SCROLL,f.default.DOM_EVENTS.BLUR,f.default.DOM_EVENTS.CLICK],m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"init",value:function(e){var t=e.trafficController.versions;delete e.trafficController;var n=t.find((function(t){return t.name===e.versionName})),r=n.config,i=n.backendOpts;n&&n.release&&n.release,(0,o.default)(),l.loadGdprEndpoint(r),l.patch();try{this.user=(0,s.default)(r,e)}catch(e){a.default.throw("exception in modifyInputObjects",e)}u.default.launch(t,r,this.user),d.default.launchScript(r.adobeDtmUrl);var f=new c.default(r,this.user,i);if(a.default.addGlobalKey("window","SBMGlobal",f),this.addDomEventListeners(r),!this.user.suppress)try{window.sbmCmd.push((function(e){return e.fullAuctionCycle()}))}catch(e){a.default.throw("Failed to launch header bidding",e)}this.executeCmd(window.SBMGlobal.run,window.sbmCmd)}},{key:"addMetadata",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.user&&"object"===r(e))for(var t in this.user.metadata=this.user.metadata||{},e)e.hasOwnProperty(t)&&(this.user.metadata[t]=e[t])}},{key:"executeCmd",value:function(e){for(var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];n.length>0;)this.runFunc(n.shift(),e);n.push=function(n){t.runFunc(n,e)}}},{key:"runFunc",value:function(e,t){try{e(t)}catch(e){a.default.throw("Failed to execute sbmCmd callback",e)}}},{key:"addDomEventListeners",value:function(e){var t=e.domEvents?e.domEvents:p;a.default.onDocReady((function(){t.forEach((function(e){window.addEventListener(e,(function(e){window.SBMGlobal.run.fire(e.type)}))}))}))}}],n&&i(t.prototype,n),e}();t.default=m},469:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var i=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var a=n(380),o=n(4909),s=n(4502),c=n(5129),u=n(5432),d=n(9598),l=n(6014),f=n(7180),p=n(5581),m=n(8984),g=n(2311),h=n(4663),b=n(4425),v=n(1310),y=n(4145),E=n(1333),O=n(8482),A=n(2008),S=n(7312),w=n(4034);t.default=function e(t,_,I){var C=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.subscribers=[],this.cachedBids={};var T=this,j=(new l.default(t),new f.default(t)),P=(new p.default(t),new m.default(I,_,t)),k=new g.default(_,t),x=new d.default(_,t),N=new O.default(_,t);u.default.setVersionName(_.versionName),E.Sticky.insertStickyCss(t);var D=new h.default({user:_,pageManager:x,config:t}),R=new a.default(t),M=new o.default(t,_);A.default.init(t,_),S.default.init(_,t),t.identityHub&&t.identityHub.enabled&&w.default.launch(t),c.default.setPixels(t,_,x),this.run={refresh:function(e){if("tab"===e&&t.undertoneEnabled){var n=document.getElementsByTagName("html"),i=document.getElementsByTagName("body");n[0].style.cssText="overflow: auto!important;",i[0].style.cssText="overflow: auto!important;"}if(!1===_.canRunAds)return u.default.log("User cannot run ads. Refresh aborted",s.default.LOG_NAMESPACE.STATE),Promise.resolve(!1);var a="string"==typeof e?e:"refreshEvent";return"object"===r(e)&&(e.pageCount&&(_.pageCount=u.default.getPageCountNumber(null==e?void 0:e.pageCount)),e.citationCount&&(_.citationCount=e.citationCount),e.device&&(_.device=e.device),(e.pagetype||e.page)&&(_.page=e.pagetype?e.pagetype:e.page),e.layout&&(_.layout=e.layout),e.type&&(a=e.type),e.country&&(_.country=e.country,v.default.setCountry(_.country))),u.default.log("Running refresh: ".concat(_.page,", ").concat(_.layout),s.default.LOG_NAMESPACE.STATE),("string"!=typeof a||a.length>30)&&(u.default.throw("The refresh type must be a string under 30 characters. Type: ".concat(a)),a="refreshEvent"),_.refreshType=a,_.refreshCount++,T.run.fullAuctionCycle()},reload:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i(C,void 0,void 0,regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(T.run.cleanUpTakeover(),_.suppress!==s.default.SUPPRESS_TYPES.BY_COOKIE&&"on"!==v.default.bypassAdsCookie()){n.next=3;break}return n.abrupt("return",Promise.resolve(!1));case 3:if(e.pageCount&&(_.pageCount=u.default.getPageCountNumber(null==e?void 0:e.pageCount)),e.citationCount&&(_.citationCount=e.citationCount),e.device&&(_.device=e.device),(e.pagetype||e.page)&&(_.page=e.pagetype?e.pagetype:e.page),e.layout&&(_.layout=e.layout),e.country&&(_.country=e.country,v.default.setCountry(_.country)),k.reload(_),!1!==_.canRunAds){n.next=13;break}return u.default.log("User cannot run ads. Reload aborted",s.default.LOG_NAMESPACE.STATE),n.abrupt("return",Promise.resolve(!1));case 13:return u.default.log("Running reload: ".concat(_.page,", ").concat(_.layout),s.default.LOG_NAMESPACE.STATE),("string"!=typeof(r=e.type||"reloadEvent")||r.length>30)&&u.default.throw("The reload type must be a string under 30 characters. Type: ".concat(r)),_.refreshType=r,_.refreshCount=0,M.clear(),M.enableRefresh(),_.isInitialAuction=!1,(i=T.run.fullAuctionCycle(r,e.union)).then((function(){t.preauction&&T.run.headerBidding(s.default.DISPLAY_AUCTION_TYPES.NEXT)})),n.abrupt("return",i);case 24:case"end":return n.stop()}}),n)})))},auctionWinners:{},fullAuctionCycle:function(e,t){return i(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="layoutchange"!==e&&!t,M.registerAutoRefresh(_,T.run.refresh),n.next=4,T.run.headerBidding(s.default.DISPLAY_AUCTION_TYPES.CURRENT,r,t);case 4:return i=n.sent,n.abrupt("return",T.run.serveAds(i));case 6:case"end":return n.stop()}}),n)})))},headerBidding:function(e,n,r){return i(this,void 0,void 0,regeneratorRuntime.mark((function i(){var a,o,c,d,l,f,p,m,g,h;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(e===s.default.DISPLAY_AUCTION_TYPES.CURRENT?a=_.page:t.pageOrder&&(a=t.pageOrder[_.page]),a||(a="ros",u.default.log("No page found for headerbidding, using ros default",s.default.LOG_NAMESPACE.STATE)),o=x.genAdvPlacements(_,a,t),c=o.advPlacements,d=o.layout,l=o.page,u.default.log("Running header bidding: ".concat(_.page,", ").concat(_.layout),s.default.LOG_NAMESPACE.STATE),!y.getGdprApplies()){i.next=9;break}return i.next=7,y.getConsentString();case 7:i.next=17;break;case 9:if(!y.getCcpaApplies()){i.next=16;break}return i.next=12,y.getUspData();case 12:f=i.sent,_.ccpaConsented=f.uspString&&"N"===f.uspString[2],i.next=17;break;case 16:u.default.log("neither GDPR or CCPA apply. No consent string.",s.default.LOG_NAMESPACE.CONSENT);case 17:if(u.default.recordEventTime("gdprCheck"),N.retry&&N.performRequest(),!Array.from(document.head.children).find((function(e){return"turbolinks-cache-control"===e.name}))&&t.noCache&&u.default.turboLinksPreventCaching(),!("quickads"in u.default.getUrlParams())&&-1===(t.skipHeader||[]).indexOf(_.page)){i.next=23;break}return i.abrupt("return",!1);case 23:if(p=_.refreshCount>0,m=!p&&!_.isInitialAuction,u.default.log("headerBidding mode:  Refresh?: ".concat(p,", Reload?: ").concat(m,", isInitialAuction?: ").concat(_.isInitialAuction),s.default.LOG_NAMESPACE.REFRESH),g=n?x.getPreauction(l,d):null){i.next=44;break}return(g=x.genAuction({isRefresh:p,isReload:m,bidFlooring:N,layout:d,page:l})).advPage=x.genAdvPage({page:l,layout:d,advPlacements:c,mode:g.mode,pagetype:_.page,user:_,links:R,union:r}),u.default.log("No preauction found for ".concat(l," ").concat(d,", running new auction ").concat(g.id),s.default.LOG_NAMESPACE.REFRESH),h={user:_,config:t,dfp:D,unlockLauncher:P,bidFlooring:N},i.prev=32,u.default.recordEventTime("auctionInit",g.id),i.next=36,g.runAuction(h);case 36:i.next=41;break;case 38:i.prev=38,i.t0=i.catch(32),u.default.throw("error trying to run prebid auction",i.t0);case 41:u.default.log("Finished header auction ".concat(g.id),s.default.LOG_NAMESPACE.STATE),i.next=45;break;case 44:u.default.log("Preauction available for ".concat(l," ").concat(d," with id: ").concat(g.id),s.default.LOG_NAMESPACE.REFRESH);case 45:return j.auction=g,i.abrupt("return",g);case 47:case"end":return i.stop()}}),i,null,[[32,38]])})))},serveAds:function(e){return i(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,i,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(u.default.log("Rendering bids for auction ".concat(e.id),s.default.LOG_NAMESPACE.STATE),e.setWinningBids(),e.markUsed(),P.launch(e.advPage),P.participateAndSetKvps(e),x.destroyAndInitPlacements(_,e),n.prev=6,!(t.takeover&&t.takeover.run&&e.advPage.dfpPlacements.D_MISC&&t.takeover.pages.indexOf(_.page)>-1)){n.next=11;break}return n.next=10,D.getTakeoverDemand(e.advPage.dfpPlacements.D_MISC,t.takeover.target);case 10:r=n.sent;case 11:return n.next=13,D.init({auction:e,config:t});case 13:return n.next=15,D.runTargeting(r);case 15:n.next=20;break;case 17:n.prev=17,n.t0=n.catch(6),u.default.throw("error trying to run dfp targeting for prebid",n.t0);case 20:return i=Object.keys(e.advPage.headerPlacements).map((function(t){return e.advPage.headerPlacements[t].renderPromise})),(a=Promise.all(i)).then((function(){u.default.log("Sending Auction Event",s.default.LOG_NAMESPACE.DATA),A.default.sendSbmAnalyticsEvents&&A.default.generateAuctionEvent(e)})),n.abrupt("return",a);case 24:case"end":return n.stop()}}),n,null,[[6,17]])})))},renderAd:function(e,t,r,i,a,o){if(e&&!t){var c=e;e=c.document,t=c.partnerAlias,r=c.placementName,c.lineitemId,c.creativeId,o=c.auctionId}var d=x.getAuction();if(d&&(!o||o===d.id)){var l=d.getWinner(r,s.default.CHANNEL_NAMES.PREBID);if(l.doc=e,l){l.auctionId!==d.id&&u.default.log("Rendering cached bid as winner ".concat(l.partnerName," ").concat(l.placementName," ").concat(l.cents),s.default.LOG_NAMESPACE.BIDS),l.prebidBidResponse&&l.prebidBidResponse.native?(0,b.default)(x.getAdvPage().headerPlacements[r],l.prebidBidResponse.native):window.pbjs.renderAd(e,l.id,r),n(340).Z.adjustWinningBid(l,{placementName:r,placement:d.getPlacement(r)});var f=(this.auctionWinners[l.auctionId]||{})[l.placementName];f&&l.partnerName!==f.partnerName&&(l.dfpDiscrepancy=l.cents-f.cents,l.initialWinner=f.partnerName||s.default.CHANNEL_NAMES.NONE,l.initialCents=f.cents)}else l=function(e,t){var n=t.getPartner(t.cpcPartnerName);if(n){var r=t.getPlacement(e),i=n.response[e];return i.channel=s.default.CHANNEL.CPC,n.renderAd(r),i}}(r,d)}},disableRefresh:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e&&x.getPlacements()[e]?x.getPlacements()[e].skipRefresh=!0:t.disableAll&&M.disableRefresh()},fire:function(e,t){try{C.subscribers.forEach((function(n){n.call(C,e,t)})),"scroll"!==e&&u.default.log("event: ".concat(e,"; payload: ").concat(JSON.stringify(t)),s.default.LOG_NAMESPACE.VIDEO)}catch(e){return u.default.throw("Failed to parse fire function payload",e),e}return null},confiantCallback:function(e){u.default.log("Confiant callback invoked on ".concat(e),s.default.LOG_NAMESPACE.BIDS);var t=x.getAuction(),n=t.blockAndGetWinner(e);if(n){var r={event_name:"confiant-ad-blocked",partner:n.partnerName,bid_id:n.id,placement:e,auction_id:t.id,page:_.page,layout:_.layout,mode:t.mode};A.default.send({type:s.default.SBM.EVENT_TYPES.AD_VARIOUS.NAME,data:r});var i=t.getWinningBid(e);t.setWinner(e,s.default.CHANNEL_NAMES.PREBID,i),n.doc&&i&&window.pbjs.renderAd(n.doc,i.id,e)}},subscribe:function(e){C.subscribers.push(e)},unsubscribe:function(e){var t=C.subscribers.indexOf(e);-1!==t&&C.subscribers.splice(t,1)},updateLayouts:function(e,n){e&&n&&Object.keys(n).length&&(u.default.log(["Updating ".concat(e," in layouts with:"),n],s.default.LOG_NAMESPACE.STATE),t.placements[e].replacementPattern&&_.ua.name.match(t.placements[e].replacementPattern)&&Object.keys(t.layouts).forEach((function(r){Object.keys(t.layouts[r]).forEach((function(i){t.layouts[r][i][e]&&(delete t.layouts[r][i][e],Object.keys(n).forEach((function(e){t.layouts[r][i][e]=n[e]})))}))})))},renderTakeover:function(e){var t=e.right,n=e.bottom,r=e.clickThroughURL,i=e.pixelArr,a=e.bgColor,o=document.createElement("a");o.style.display="block",o.href=r,o.target="_blank",o.id="takeover_right",o.style.width="400px",o.style.height="100%",o.style.position="fixed",o.style.right="0px",o.style.top="51px",o.style.zIndex="250",o.style.backgroundImage="url(".concat(t,")"),o.style.backgroundRepeat="no-repeat",o.style.backgroundColor=a||"black";var c=document.createElement("a");c.style.display="block",c.href=r,c.target="_blank",c.id="takeover_bottom",c.style.width="100%",c.style.height="90px",c.style.position="fixed",c.style.right="0px",c.style.bottom="0px",c.style.zIndex="250",c.style.backgroundImage="url(".concat(n,")"),c.style.backgroundRepeat="no-repeat",c.style.backgroundColor=a||"black",c.style.backgroundPositionX="center";var u=x.getAuction();[o,c].forEach((function(e){e.addEventListener("click",(function(){var e=A.default.getClickstreamInteractionData({text:"takeover click",name:"takeover click",region_name:"L takeover"},"D_MISC",u.id);A.default.send({type:s.default.RIO.EVENT_TYPES.CLICKSTREAM_INTERACTION.NAME,data:e})}));var t=document.getElementById("D_MISC");t&&t.appendChild(e)})),i&&i.length&&i.forEach((function(e){var t=document.createElement("iFrame");t.setAttribute("src",e),t.id="takeover-imp",t.style.width="1px",t.style.height="1px",t.style.borderWidth="0px",document.body.appendChild(t)}))},cleanUpTakeover:function(){["takeover_right","takeover_bottom"].forEach((function(e){var t=document.getElementById(e);t&&t.remove()}))}},this.addCallback=function(e,t){u.default.addGlobalKey.call(this,"this.run",e,t)},u.default.addGlobalKey.call(this,"this","run",this.run),u.default.addGlobalKey.call(this,"this","addCallback",this.addCallback),this.addCallback("headerBidding",this.run.headerBidding),this.addCallback("renderAd",this.run.renderAd),this.addCallback("disableRefresh",this.run.disableRefresh),this.addCallback("enableDebug",u.default.enableDebug)}},1333:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.Sticky=void 0;var a=n(5432),o=n(4502),s="\n\t.".concat(o.default.CLASS_NAMES.STICKY,".sbm-sticky {\n\t\tposition:fixed;\n\t\ttop:5px;\n\t\tz-index:1000;\n\t}\n\t.").concat(o.default.CLASS_NAMES.STICKY,".sbm-sticky-b1 {\n\t\twidth: 100%;\n\t\tposition:fixed;\n\t\tbottom:5px;\n\t\tz-index:1000;\n\t\tleft: -64px;\n\t\tmin-width: 1240px;\n\t}\n\t.").concat(o.default.CLASS_NAMES.STICKY,".sbm-sticky-top-right {\n\t\tposition:fixed;\n\t\ttop:5px;\n\t\tright:10px;\n\t\tz-index:1000;\n\t}\n\t.").concat(o.default.CLASS_NAMES.STICKY,".sbm-sticky-top-left {\n\t\tposition:fixed;\n\t\ttop:5px;\n\t\tleft:10px;\n\t\tz-index:1000;\n\t}\n\t.").concat(o.default.CLASS_NAMES.STICKY,".sbm-sticky-bottom-right {\n\t\tposition:fixed;\n\t\tbottom:5px;\n\t\tright:10px;\n\t\tz-index:1000;\n\t}\n\t.").concat(o.default.CLASS_NAMES.STICKY,".").concat("sbm-sticky-bottom-left"," {\n\t\tposition:fixed;\n\t\tbottom:5px;\n\t\tleft:10px;\n\t\tz-index:1000;\n\t}\n"),c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.enabled=!1,this.wasDocked=!1,this.placement=t,this.observer=window.IntersectionObserver?new window.IntersectionObserver(this.observerCb.bind(this),{threshold:[1,.5,.75,0]}):null}var t,n,c;return t=e,c=[{key:"insertStickyCss",value:function(t){if(!e.hasInsertedCss){var n=s;t&&t.sticky&&t.sticky.mediaMinWidth&&(n="@media screen and (min-width: ".concat(t.sticky.mediaMinWidth,"px) { ").concat(s," }"));var r=document.createElement("style");r.type="text/css",r.textContent=n,document.head.appendChild(r)}}}],(n=[{key:"observerCb",value:function(e){try{var t,n=this.placement.placementConfig.sticky;if(n&&n[this.placement.auction.mode]&&(t=n[this.placement.auction.mode].className),t&&this.placement.$pasture){var r=this.placement.$pasture.getBoundingClientRect(),i=this.placement.name===o.default.VID_PLACEMENT_NAME?r.bottom<150:r.top<0;if(r.bottom-r.height>window.innerHeight||i){if("sbm-sticky"===t&&0===this.placement.$pasture.getBoundingClientRect().left){var s=(this.placement.$pasture.offsetWidth-this.placement.placementConfig.sizes[0][0])/2;this.placement.$ad.style.left="".concat(s,"px")}this.placement.$ad.classList.add(t),this.placement.name===o.default.VID_PLACEMENT_NAME&&(this.placement.videoPlayer&&this.placement.videoPlayer.player&&this.placement.videoPlayer.player.dock(),this.enableOverlay())}else this.placement.$ad.classList.remove(t),this.placement.name===o.default.VID_PLACEMENT_NAME&&(this.placement.videoPlayer&&this.placement.videoPlayer.player&&this.placement.videoPlayer.player.undock(r.bottom<150&&this.wasDocked),this.disableOverlay());this.wasDocked=r.bottom<0}}catch(e){a.default.throw("Failure handling sticky entry",e)}this.checkIntersection()}},{key:"enableSticky",value:function(){var e,t=this,n=this.placement.placementConfig.sticky;if(n&&this.observer&&n[this.placement.auction.mode]){e=n[this.placement.auction.mode];try{if(this.observer.observe(this.placement.$pasture),this.placement.$ad.classList.add(o.default.CLASS_NAMES.STICKY),n.ctaSelectors){var r=document.createElement("div");if("sbm-sticky"===e.className){var i=document.getElementById(this.placement.placementConfig.divId);r.style.left="".concat(i.getBoundingClientRect().left.toString(),"px")}r.classList.add(o.default.CLASS_NAMES.STICKY,e.className),r.id="shadow-".concat(this.placement.placementConfig.divId),r.style.width="".concat(this.placement.$ad.offsetWidth.toString(),"px"),r.style.height="".concat(this.placement.$ad.offsetHeight.toString(),"px"),r.style.zIndex="-1",document.body.appendChild(r),this.shadowDiv=r,setInterval((function(){t.observerCb(null)}),250)}this.enabled=!0}catch(e){a.default.throw("Error enabling sticky",e)}}}},{key:"disableSticky",value:function(){var e=this.placement.placementConfig.divId;if(this.placement.placementConfig.sticky&&this.observer)try{if(this.placement.$pasture&&(this.observer.unobserve(this.placement.$pasture),this.placement.$ad.classList.remove(o.default.CLASS_NAMES.STICKY)),this.placement.placementConfig.sticky.ctaSelectors){var t=document.getElementById("shadow-".concat(e));t&&t.remove()}this.enabled=!1}catch(e){a.default.throw("Error disabling sticky",e)}}},{key:"enableOverlay",value:function(){var e=[document.getElementById(o.default.IDS.NON_CLICKABLE_OVERLAY),document.getElementById(o.default.IDS.VIDEO_BUTTONS),document.getElementById(o.default.IDS.CLOSE)];e&&e.forEach((function(e){e&&e.classList.add(o.default.CLASS_NAMES.DOCKED)}))}},{key:"disableOverlay",value:function(){var e=[document.getElementById(o.default.IDS.NON_CLICKABLE_OVERLAY),document.getElementById(o.default.IDS.VIDEO_BUTTONS),document.getElementById(o.default.IDS.CLOSE)];e&&e.forEach((function(e){e&&e.classList.remove(o.default.CLASS_NAMES.DOCKED)}))}},{key:"checkIntersection",value:function(){var e=this;try{var t=this.placement.placementConfig.sticky;t&&t.ctaSelectors&&this.enabled&&(t.ctaSelectors.some((function(t){return(n=document.querySelectorAll(t),function(e){if(Array.isArray(e))return r(e)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).some((function(t){var n=t.getBoundingClientRect(),r=e.shadowDiv.getBoundingClientRect();return e.collision(n,r)}));var n}))?this.placement.$ad.classList.remove(o.default.CLASS_NAMES.STICKY):this.placement.$ad.classList.add(o.default.CLASS_NAMES.STICKY))}catch(e){a.default.throw("Failure checking sticky footer elements",e)}}},{key:"collision",value:function(e,t){return!(e.bottom<t.top||e.top>t.bottom||e.right<t.left||e.left>t.right)}}])&&i(t.prototype,n),c&&i(t,c),e}();t.Sticky=c,c.hasInsertedCss=!1},7570:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5432),a=function(){function e(t){var n=t.id,r=t.partnerName,i=t.partnerAlias,a=t.placementName,u=t.status,l=t.cpm,f=t.launchOrder,p=t.launchTime,m=t.bidAdjustment,g=t.useRenderFunction,h=t.auctionId,b=t.format,v=t.prebidBidResponse,y=t.floor;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.width=0,this.height=0,this.headerWinner=!1,this.dfpWinner=!1,this.auctionTimeoutModelScore=null,l=c(l),this.id=n,this.partnerName=r,this.partnerAlias=i,this.placementName=a,this.status=u,this.rawCpm=l,this.rawCents=s(l),this.revShareAdjusted=!!m.revShare,this.discrepancyAdjusted=!!m.discrepancy,this.useRenderFunction=g,this.launchOrder=f,this.launchTime=p,this.dollars=isNaN(l)?0:l;var E=v&&!isNaN(v.originalCpm)?v.originalCpm:this.dollars;this.cpm=o(this.dollars),this.cents=s(this.dollars),this.netCents=s(E),this.pageLevelId=d(),this.auctionId=h,this.initialCents=null,this.initialWinner=null,this.dfpDiscrepancy=0,this.bidAdjustment=m,this.format=b||null,this.renderEnd=null,this.prebidBidResponse=v||null,this.timeStamp=Date.now(),this.floor=this.prebidBidResponse&&y?y:null,this.prebidBidResponse&&(this.responseTime=v.timeToRespond)}var t,n;return t=e,(n=[{key:"updateCpm",value:function(e){var t=function(e,t){return t&&t.revShare&&(e*=1-t.revShare),e}(e=c(e),this.bidAdjustment),n=function(e,t){return t&&t.discrepancy&&(e*=1-t.discrepancy),e}(t,this.bidAdjustment);this.rawCpm=e,this.rawCents=s(e),this.dollars=n,this.cpm=o(n),this.cents=s(n),this.netCents=s(t)}},{key:"_roundBidToBucket",value:function(e){return o(e)}},{key:"setHeight",value:function(e){this.height=c(e)}},{key:"setWidth",value:function(e){this.width=c(e)}}])&&r(t.prototype,n),e}();function o(e){var t=0;return e>0&&(t=(t=s(e))>1e4?1e4:t),btoa(String(t+95)).replace(/==/,"|2").replace(/=/,"|1")}function s(e){return Math.floor(100*e+1e-11)}function c(e){var t;return isNaN(e)?(i.default.throw("value does not evaluate to a number"),t=0):t=parseFloat(e),t}var u,d=(u=-1,function(){return++u});t.default=a},8954:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4502),a=n(5432),o=n(1333),s=n(4264),c=n(2008),u=function(){function e(t){var n=t.config,r=t.placementName,a=t.placementConfig,o=t.divId,c=t.dfpSiteId,u=t.page,d=t.mode,l=t.user,f=t.links;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.nileBids=[],this.isComplete=void 0,this.timer=void 0,this.partners=n.partners,this.name=r,this.prefix=n.prefix?"".concat(n.prefix,"_"):i.default.SITE.PREFIX,this.placementConfig=a,this.adUnit=this.genAdUnit({page:u,placementName:r,mode:d,placementConfig:a}),this.ibv=!!a.ibv,this.isRendered=!1,this.iabViewable=!1,this.skipRefresh=!!a.skipRefresh,this.divId=o,this.setSkipDfp(d),this.setRenderPromise(),this.user=l,this.dfpSiteId=c,this.slotPath="/".concat(this.dfpSiteId,"/").concat(this.adUnit),this.links=f,this.hasParticipated=!1,this.skipLoggingFailures=a.skipLoggingFailures,this.name===i.default.VID_PLACEMENT_NAME&&(this.videoPlayer=new s.default(l,n))}var t,n,u;return t=e,u=[{key:"placementObjectToArray",value:function(e){return Object.keys(e).map((function(t){return e[t]}))}}],(n=[{key:"genAdUnit",value:function(e){var t=e.page,n=e.placementName,r=e.mode,i=e.placementConfig;return i.adUnit?"".concat(i.adUnit,"_").concat(r).toUpperCase():"".concat(this.prefix+n.replace(/_/,"_".concat(t,"_")).replace(/_redesign/i,""),"_").concat(r).toUpperCase()}},{key:"init",value:function(e){var t=this,n=e.placementConfig,r=e.auction,s=e.page,u=r.mode;u!==i.default.MODE.R&&(this.placementConfig=n,this.skipRefresh=n.skipRefresh),this.auction=r,this.adUnit=this.genAdUnit({page:s,placementName:this.name,mode:u,placementConfig:n}),this.slotPath="/".concat(this.dfpSiteId,"/").concat(this.adUnit),this.isRendered=!1,this.iabViewable=!1,this.hasParticipated=!0,this.setSkipDfp(u),this.setRenderPromise(),n.sticky&&!this.sticky&&(this.sticky=new o.Sticky(this)),a.default.onDocReady((function(){t.setPasture(s)})),this.videoPlayer&&this.videoPlayer.shouldRun(u)&&(this.videoPlayer.play(this),this.sticky&&this.sticky.enableSticky()),c.default.sendSbmAnalyticsEvents&&"D_VID"!==this.name&&c.default.generatePerformanceIndex(i.default.PERFORMANCE_EVENTS.INIT,this.name,this.auction.mode,this.auction.id)}},{key:"updateSlotPath",value:function(e){var t=e.page,n=e.placementName,r=e.mode,i=e.placementConfig;this.adUnit=this.genAdUnit({page:t,placementName:n,mode:r,placementConfig:i}),this.slotPath="/".concat(this.dfpSiteId,"/").concat(this.adUnit)}},{key:"shouldParticipate",value:function(e){var t=e.isRefresh,n=e.isReload,r=e.advPlacements,a=e.adsModalConfig,o=e.hasSeenVideoModalRecently,s=e.union,c=e.sizeMatch;if(!r[this.name])return!1;if(t){if(this.skipRefresh)return!1;if(this.placementConfig.skipRefreshViewable&&!this.iabViewable&&this.hasParticipated)return!1}if(n){if(this.placementConfig.skipReload&&this.hasParticipated)return!1;if(this.placementConfig.skipReloadViewable&&!this.iabViewable&&this.hasParticipated)return!1;if(this.placementConfig.skipReloadRendered&&!this.isRendered&&this.hasParticipated)return!1;if(s&&this.hasParticipated&&c)return!1}return!(this.placementConfig.device!==this.user.device||(this.name===i.default.SURVEY_UNLOCK_PLACEMENT_NAME||this.name===i.default.UNLOCK_PLACEMENT_NAME||this.name===i.default.UNLOCK_MOBILE_PLACEMENT_NAME)&&(!a.alwaysParticipate&&this.user.citationCount<a.citationCount||"true"===o||!a.run)||this.name===i.default.SURVEY_UNLOCK_PLACEMENT_NAME&&!a.runVast)}},{key:"setSkipDfp",value:function(e){var t=e===i.default.MODE.R?i.default.MODENAME.REFRESH:i.default.MODENAME.STANDARD;this.skipDfp=this.placementConfig.skipDfp&&this.placementConfig.skipDfp[t]?this.placementConfig.skipDfp[t]:-1}},{key:"setRenderPromise",value:function(){var e=this;this.renderPromise=new Promise((function(t){setTimeout(t,3e3),e.resolveRender=t}))}},{key:"setPasture",value:function(e){var t=this.placementConfig.divId;this.$pasture=document.getElementById(t),this.$ad=this.$pasture?this.$pasture.querySelector("div"):null,this.divId=this.$ad?this.$ad.id:this.divId,this.setElement(e,t),this.setAd()}},{key:"setElement",value:function(e,t){if(this.placementConfig.shouldInsertPasture&&!this.$pasture)this.$pasture=document.createElement("div"),this.$pasture.id=t,document.body.appendChild(this.$pasture);else if(this.placementConfig.selector&&!this.$pasture){var n=document.querySelectorAll(this.placementConfig.selector)[0];n&&(this.$pasture=document.createElement("div"),this.$pasture.id=t,n.insertBefore(this.$pasture,n.firstChild))}try{this.$pasture.style.cssText="display:block!important;visibility:visible!important;text-align:center!important;"}catch(n){a.default.throw("Could not find pasture for ".concat(this.name," on ").concat(e,". Config divId ").concat(t," wasn't found in the DOM."),n)}}},{key:"setAd",value:function(){this.$pasture&&!this.$ad&&(this.$ad=document.createElement("div"),this.$ad.setAttribute("id",this.divId),this.$ad.setAttribute("aria-label","advertisement"),this.$ad.setAttribute("role","complementary"),this.$ad.classList.add(i.default.CLASS_NAMES.AD),this.$pasture.appendChild(this.$ad));try{var e="display:block!important;visibility:visible!important;";this.name===i.default.UNLOCK_MOBILE_PLACEMENT_NAME&&(e+="pointer-events:none;"),this.placementConfig.grayBox&&(e+="background-color:#eeeeee!important;width:728px!important;height:90px!important;margin:0 auto!important;"),this.$ad.style.cssText=e}catch(e){}}},{key:"clearPasture",value:function(){if(this.videoPlayer&&this.videoPlayer.destroy(),this.$ad&&(this.$ad.innerHTML=""),this.$pasture)for(var e=this.$pasture.children,t=0;t<e.length;t++){var n=e[t];n.classList.contains(i.default.CLASS_NAMES.AD)||n.classList.contains(i.default.CLASS_NAMES.LINK)||n.parentNode.removeChild(n)}}},{key:"skipDfpForViewability",value:function(e){return this.skipDfp>=e}},{key:"getViewportWidth",value:function(){return this.user.ua&&!isNaN(this.user.ua.viewportWidth)&&this.user.ua.viewportWidth>100?this.user.ua.viewportWidth:1e3}},{key:"destroy",value:function(e){this.sticky&&this.sticky.disableSticky(),window.GUMGUM&&window.GUMGUM.isad&&window.GUMGUM.removeISAd&&window.GUMGUM.removeISAd(),this.links.clearOldLink(this),window.SPARKFLOW&&window.SPARKFLOW.removeAds&&window.SPARKFLOW.removeAds(),document.querySelectorAll(".".concat(this.divId," .cpc-partner"))&&this.clearPasture(),e&&(this.name!==i.default.UNLOCK_PLACEMENT_NAME&&this.name!==i.default.UNLOCK_MOBILE_PLACEMENT_NAME||!window.SBMGlobal.run.reloadActivity||window.SBMGlobal.run.reloadActivity(null),this.hasParticipated=!1,this.clearPasture())}},{key:"slotRendered",value:function(e,t){var n=this;this.$pasture&&this.$ad&&t&&this.links.setLinksTextAndBasicStyles(this),this.makeAdVisible();try{var r=this.partners[Object.keys(this.partners).find((function(e){return e===t}))];r&&r.markViewableMs&&setTimeout((function(){return n.markViewable(e)}),r.markViewableMs),this.addEventListener()}catch(e){a.default.throw("Failed to set markViewable timer.",e)}try{this.auction&&this.auction.id===e&&(this.isRendered=!0,c.default.sendSbmAnalyticsEvents&&c.default.generatePerformanceIndex(i.default.PERFORMANCE_EVENTS.RENDERED,this.name,this.auction.mode,this.auction.id))}catch(e){a.default.throw("Unable to mark placement ".concat(this.name," rendered."),e)}return this.sticky&&this.sticky.enableSticky(),this.resolveRender()}},{key:"markViewable",value:function(e){try{this.auction&&this.auction.id===e&&!this.iabViewable&&(this.iabViewable=!0,c.default.sendSbmAnalyticsEvents&&c.default.generatePerformanceIndex(i.default.PERFORMANCE_EVENTS.VIEWABLE,this.name,this.auction.mode,this.auction.id)),this.sticky&&this.placementConfig.sticky&&this.placementConfig.sticky.disableStickyViewable&&(this.sticky.disableSticky(),a.default.log("Placement marked viewable: ".concat(this.name),i.default.LOG_NAMESPACE.REFRESH))}catch(e){a.default.throw("Unable to mark placement ".concat(this.name," viewable."),e)}}},{key:"makeAdVisible",value:function(){try{var e=this.slotPath,t=document.getElementById("google_ads_iframe_".concat(e,"_0__container__")),n=document.getElementById("google_ads_iframe_".concat(e,"_0"));t.style.position="relative";var r=0,o=setInterval((function(){r>=50&&clearInterval(o),n&&n.style.display&&(n.style.width="100%",n.style.height="100%",n.style.pointerEvents="none",n.style.display="block",n.style.visibility="visible",n.style.position="absolute",n.style.top="0",clearInterval(o)),r++}),100)}catch(e){a.default.log("Unable to alter CSS of ad container div: ".concat(e),i.default.LOG_NAMESPACE.WARNING)}}},{key:"shouldDestroy",value:function(e){var t=e.isReload,n=e.isRefresh,r=e.shouldParticipate,i=e.advPlacements,a=e.union,o=e.sizeMatch;if(!i[this.name])return!0;if(n){if(!r)return!1}else if(t){if(this.placementConfig.skipReload)return!1;if(this.placementConfig.skipReloadViewable&&!this.iabViewable)return!1;if(this.placementConfig.skipReloadRendered&&!this.isRendered)return!1;if(a&&this.hasParticipated&&o)return!1}return!0}},{key:"addEventListener",value:function(){var e=this,t=this.$ad;try{var n=t.getElementsByTagName("iframe")[0];if(!n.contentWindow.document.body||!n.contentWindow.document.body.hasChildNodes())return;t=n.contentWindow.document.body}catch(e){return void a.default.log("Getting the div from iframe failed for MD partners: ".concat(e),i.default.LOG_NAMESPACE.WARNING)}try{t.addEventListener("click",(function(){e.clickCallback()}),{once:!0})}catch(e){a.default.throw("Unable to add event listener",e)}}},{key:"clickCallback",value:function(){try{var e=c.default.getClickstreamAdInteractionData(this.name,this.auction.id);e?c.default.send({type:i.default.RIO.EVENT_TYPES.CLICKSTREAM_INTERACTION.NAME,data:e}):a.default.log("Unable to retrieve winning clickstream data in click event",i.default.LOG_NAMESPACE.DATA)}catch(e){a.default.throw("Failed to send click event for placement: ".concat(this.name),e)}}},{key:"getVideoHeight",value:function(){var e=this.placementConfig,t=e.video,n=e.sizes;return t&&t.playerSize?t.playerSize[1]:n[0][1]}},{key:"getVideoWidth",value:function(){var e=this.placementConfig,t=e.video,n=e.sizes;return t&&t.playerSize?t.playerSize[0]:n[0][0]}},{key:"getMobileVideoHeight",value:function(){var e,t=this.placementConfig.video;if((null===(e=this.user.ua)||void 0===e?void 0:e.viewportWidth)<400){var n=this.getMobileVideoWidth(),r=t&&t.playerSize?t.playerSize[1]:i.default.UNLOCK_MOBILE_PLACEMENT_VIDEO_SIZE[1],a=t&&t.playerSize?t.playerSize[0]:i.default.UNLOCK_MOBILE_PLACEMENT_VIDEO_SIZE[0],o=Number(r/a*Number(n));return Math.round(o)}return t&&t.playerSize?t.playerSize[1]:i.default.UNLOCK_MOBILE_PLACEMENT_VIDEO_SIZE[1]}},{key:"getMobileVideoWidth",value:function(){var e;if((null===(e=this.user.ua)||void 0===e?void 0:e.viewportWidth)<400)return this.user.ua.viewportWidth-10;var t=this.placementConfig.video;return t&&t.playerSize?t.playerSize[0]:i.default.UNLOCK_MOBILE_PLACEMENT_VIDEO_SIZE[0]}}])&&r(t.prototype,n),u&&r(t,u),e}();t.default=u},3460:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewableObserver=void 0;var i=n(4502),a=n(5432),o=n(2008),s=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.shouldSendViewableEvent=!1,this.viewableTimeout=0,this.observer=window.IntersectionObserver?new window.IntersectionObserver((function(e){e.forEach(n.viewableObserverCb.bind(n),{threshold:.5})})):null,this.markVideoViewable=this.markVideoViewable.bind(this),this.customPlayer=t}var t,n;return t=e,(n=[{key:"clearViewableTimeout",value:function(){this.viewableTimeout&&(clearTimeout(this.viewableTimeout),this.viewableTimeout=0)}},{key:"markVideoViewable",value:function(){if(this.shouldSendViewableEvent){a.default.log("Marking Video VIEWABLE",i.default.LOG_NAMESPACE.VIDEO),o.default.generatePerformanceIndex(i.default.PERFORMANCE_EVENTS.VIEWABLE,i.default.VID_PLACEMENT_NAME,i.default.MODE.S),this.clearViewableTimeout();var e=document.getElementById(i.default.VID_PLACEMENT_NAME).firstChild;this.observer.unobserve(e),this.shouldSendViewableEvent=!1}}},{key:"setViewableTimeout",value:function(){this.visible&&this.customPlayer.player.ads.isInAdMode()&&!this.viewableTimeout&&this.shouldSendViewableEvent&&(this.viewableTimeout=window.setTimeout(this.markVideoViewable,2e3))}},{key:"viewableObserverCb",value:function(e){e.intersectionRatio>=.5?this.visible=!0:(this.visible=!1,this.clearViewableTimeout())}}])&&r(t.prototype,n),e}();t.ViewableObserver=s},2008:(e,t,n)=>{"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5432),s=n(4502),c=n(8605),u=n(7312),d=["adSystem","eventName","player","playerId","auctionType","cuePoint"],l={cpm:0,channel:-1,advertiserId:0,lineItemId:-1,timeToAuctionEnd:0},f=["authState","cheggUuid","view","viewPrevious","subscriptions"],p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"init",value:function(t,n){e.user=n,e.sitePrefix=t.prefix,t.archieAnalytics&&(e.endpoint=t.archieAnalytics.wtRioEventEndpoint,t.archieAnalytics.sbmRsw&&(e.config=t.archieAnalytics,e.sendSbmAnalyticsEvents=t.archieAnalytics.sendSbmAnalyticsEvents,e.useDefaultClient=!t.archieAnalytics.useSbmClient,e.fetchGlobalClient=t.archieAnalytics.fetchGlobalClient,e.appSendsInitialUnlockEvents=t.archieAnalytics.appSendsInitialUnlockEvents,e.waitForGlobalProps=t.archieAnalytics.waitForGlobalProps,e.isInit=!0,e.getUrlParams(),e.initRio()))}},{key:"getEventTypeVersion",value:function(e){return e===s.default.SBM.EVENT_TYPES.SLOT_RENDER.NAME?s.default.SBM.EVENT_TYPES.SLOT_RENDER.VERSION:e===s.default.RIO.EVENT_TYPES.CLICKSTREAM_AD_IMPRESSION.NAME?s.default.RIO.EVENT_TYPES.CLICKSTREAM_AD_IMPRESSION.VERSION:e===s.default.SBM.EVENT_TYPES.VIDEO_EVENT.NAME?s.default.SBM.EVENT_TYPES.VIDEO_EVENT.VERSION:e===s.default.RIO.EVENT_TYPES.CLICKSTREAM_INTERACTION.NAME?s.default.RIO.EVENT_TYPES.CLICKSTREAM_INTERACTION.VERSION:e===s.default.RIO.EVENT_TYPES.CLICKSTREAM_COMPONENT_VIEW.NAME?s.default.RIO.EVENT_TYPES.CLICKSTREAM_COMPONENT_VIEW.VERSION:e===s.default.RIO.EVENT_TYPES.CLICKSTREAM_SUCCESS.NAME?s.default.RIO.EVENT_TYPES.CLICKSTREAM_SUCCESS.VERSION:e===s.default.SBM.EVENT_TYPES.AD_PERFORMANCE.NAME?s.default.SBM.EVENT_TYPES.AD_PERFORMANCE.VERSION:e===s.default.SBM.EVENT_TYPES.AUCTION_EVENT.NAME?s.default.SBM.EVENT_TYPES.AUCTION_EVENT.VERSION:void o.default.log("Unable to find Event type",s.default.LOG_NAMESPACE.DATA)}},{key:"getAuthState",value:function(){var t="unknown",n=o.default.readUserLocalStorage(e.sitePrefix);return n||(n=o.default.readUserDigitalData()),n&&(n.loggedIn?n.loggedIn||n.authStatus===s.default.HARD_LOGGED_IN?t="hard_logged_in":n.authStatus===s.default.SOFT_LOGGED_IN&&(t="soft_logged_in"):t="logged_out"),t}},{key:"initRio",value:function(){if(e.config.perimeterx&&e.config.perimeterx.run&&e.loadPx(),e.defaultClient=(0,c.getClient)(),e.fetchGlobalClient&&(e.globalClient=(0,c.getClient)(s.default.RIO.GLOBAL_NAMESPACE),e.waitForGlobalProps&&e.checkForGlobalProps()),!e.useDefaultClient||!e.defaultClient.isInit){o.default.log("No RSW found on the page, creating SBM client",s.default.LOG_NAMESPACE.DATA),e.rioClient=(0,c.getClient)(s.default.RIO.SBM_NAMESPACE);var t=o.default.transformSiteName(e.sitePrefix),n=e.endpoint,r=s.default.RIO.APP_ID,i=e.config.rioExperiments?e.genExperimentsArray():null;o.default.log("Setting property to ".concat(o.default.getProperty(e.sitePrefix)),s.default.LOG_NAMESPACE.DATA);var a={endpoint:n,appId:r,property:o.default.getProperty(e.sitePrefix),authState:this.getAuthState(),testCells:[{layer:s.default.RIO.APP_ID,cell:e.user.versionName}],errorHandler:function(e){return o.default.log("Unable to send event(s) to RSW: "+e,s.default.LOG_NAMESPACE.DATA)},view:{property:s.default.RIO.WT_PROPERTY,experience:t,view_name:e.user.page||""}};i&&(a.experiments=i),e.rioClient.init(a)}}},{key:"getOsName",value:function(){var t=e.rioClient.stateManager.get();return t?t.osName:void 0}},{key:"getPlatform",value:function(){var t=e.rioClient.stateManager.get();return t?t.platform:"desktop"}},{key:"getSubscriptionsStatus",value:function(){var t="non_member",n=o.default.readUserLocalStorage(e.sitePrefix);return n&&(n.user&&"mybibpro"===n.user.role||n.isSubscribed)&&(t="active"),t}},{key:"send",value:function(t,n,a){var o=t.data,c=t.type;if(e.isInit&&!e.rswParamsOff){var u={type:c,data:o,version:e.getEventTypeVersion(c),options:{}};if((n||e.useDefaultClient)&&e.defaultClient&&e.defaultClient.isInit){var d=e.defaultClient.stateManager.get().testCells;Array.isArray(d)?d.find((function(t){return t.cell===e.user.testGroup}))||e.defaultClient.updateState({testCells:[{layer:s.default.RIO.DEFAULT_APP_ID,cell:e.user.versionName}]}):"object"===i(d)&&null!==typeof d&&(d[s.default.RIO.APP_ID]||e.defaultClient.updateState({testCells:r({},s.default.RIO.DEFAULT_APP_ID,e.user.versionName)})),u.options.endpoint=e.endpoint,e.shouldSend(c,a)&&e.defaultClient.sendEvent(u)}else{var l=e.rioClient.stateManager.get();if(e.globalClient){if(e.waitForGlobalProps&&!e.globalPropsAvailable)return void e.queuedEvents.push({data:o,type:c});var p=e.globalClient.stateManager._state;if("object"===i(p)&&null!==typeof p){var m=[];f.forEach((function(e){p.hasOwnProperty(e)&&(m[e]=p[e])}));var g=Object.assign({},m);g&&e.rioClient.updateState(g)}}else e.rioClient.updateState({authState:this.getAuthState()});e.config.rioExperiments&&!l.experiments&&e.genExperimentsArray()&&e.rioClient.updateState({experiments:e.genExperimentsArray()}),!e.fetchGlobalClient&&e.user.page&&l.view&&l.view.view_name!==e.user.page&&e.rioClient.updateState({view:{view_name:e.user.page}}),e.shouldSend(c,a)&&e.rioClient.sendEvent(u)}}}},{key:"generateVideoEvent",value:function(e){return Object.assign(e,{layout:this.user.layout})}},{key:"getCpmSource",value:function(e,t){var n=u.default.config.cheggBidder;return t&&e.partnerName===s.default.CHANNEL_NAMES.MD?n.enableTraining&&t===n.trainingKvp?"training":s.default.LOG_NAMESPACE.CHEGG_BIDDER:"default"}},{key:"generateClickStreamEvent",value:function(t){var n=t.bid,i=t.placement,a=t.auction,s=t.advertiserId,c=(t.eventTimes,t.cheggBidderCpmSource),d=n.renderEnd-a.initTime;d<0&&(d=0);var l=e.getCpmSource(n,c),f=void 0!==c&&u.default.success,p=void 0===c&&u.default.success;u.default.isEnabled&&u.default.sendCheggBidderEvent(p,a.id);var m=u.default.success?u.default.response_time:0,g={component_view:{component:{name:i.name,type:"ad slot",id:n.id,region_name:i.name}},content:{metadata:{ad:{won_impression:n.dfpWinner,auction_id:a.id,bid_id:n.id,line_item_id:n.lineItemId?n.lineItemId:-1,creative_id:n.creativeId?n.creativeId:-1,cpm:n.cents/100,channel:n.channel?n.channel:-1,partner:n.partnerName,placement:i.name,layout:this.user.layout?this.user.layout:"unknown",mode:a.mode,is_initial_auction:0===this.user.refreshCount,time_to_auction_end:d,advertiser_id:s||0,cached:a.id!==n.auctionId,floor:n.floor?n.floor:void 0,encoded_cpm:n.nil,time_on_site:o.default.getTime(),cpm_source:l,sbm_id:this.user.sbmId,page_count:this.user.pageCount?this.user.pageCount:-1,size:{px_width:n.width,px_height:n.height},next_bid_partner:n.nextBidPartner,next_bid_cpm:n.nextBidCpm,hit_count:o.default.getGaHitCount(),md_pricing:f,ccpa_applies:this.user.ccpaApplies,gdpr_applies:this.user.gdprApplies,ccpa_consented:this.user.hasOwnProperty("ccpaConsented")?this.user.ccpaConsented:null,gdpr_consented:this.user.hasOwnProperty("gdprConsented")?this.user.gdprConsented:null,time_md_pricing_end:m,refresh_type:this.user.refreshType,has_ats_envelope:this.user.hasAtsEnvelope,response_time:n.responseTime?n.responseTime:null}}}};return e.user.country?g.content.metadata.ad.location=e.user.country:g.content.metadata.ad.location="NA",n.dfpWinner&&(e.winningClickStreamData[a.id]?e.winningClickStreamData[a.id][i.name]=g:e.winningClickStreamData[a.id]=r({},i.name,g)),g}},{key:"getClickStreamAdEventDataByPlacement",value:function(t,n){return e.winningClickStreamData[n]&&e.winningClickStreamData[n][t]?e.winningClickStreamData[n][t]:(o.default.log("Unable to find stored clickstream_ad_data when ".concat(t," was clicked."),s.default.LOG_NAMESPACE.DATA),null)}},{key:"formatClickstreamInteractionData",value:function(e){return{interaction:{element:e.component_view.component,type:"click"},content:e.content}}},{key:"getClickstreamAdInteractionData",value:function(t,n){var r=e.getClickStreamAdEventDataByPlacement(t,n);return r?e.formatClickstreamInteractionData(r):null}},{key:"getClickstreamInteractionData",value:function(t,n,r){var i={interaction:{element:{text:t.text,name:t.name,region_name:t.region_name,type:t.type?t.type:"button",value:t.value?t.value:""},type:"click"}};if(n&&r){var a=e.getClickStreamAdEventDataByPlacement(n,r);a&&(i.content=a.content)}return i}},{key:"generateVideoClickStreamEvent",value:function(e){var t=o.default.keysToSnakeCase(e);return{component_view:{component:{name:e.placement,type:"video player",id:e.bidId,region_name:e.placement}},content:{content_id:null,content_label:"biblio_id",metadata:{ad:t}}}}},{key:"generateAuctionEvent",value:function(t){var n=o.default.calculatedEventTimes(t.id,!0),r=n.auction_duration,i=n.prebid_duration,a=n.nile_duration,c={id:t.id,refresh_count:t.refreshCount,refresh_type:t.refreshType,mode:t.mode,request_count:t.advPage.headerPlacementCount,impressions:Object.keys(t.advPage.headerPlacements).filter((function(e){return t.advPage.headerPlacements[e].isRendered})).length,expired:t.expired,auction_duration:r,prebid_duration:i,nile_duration:a,is_initial_auction:0===this.user.refreshCount,time_on_site:o.default.getTime()};e.send({type:s.default.SBM.EVENT_TYPES.AUCTION_EVENT.NAME,data:c})}},{key:"sendUnlockEvent",value:function(t,n){var r,i;switch(i={interaction:{type:"click",element:{type:"button"}}},n&&n.demandSource&&(i.interaction.element.value=n.demandSource),t){case s.default.UNLOCK.EVENTS.QUALIFY:i=o.default.deepMerge(i,{interaction:{element:{name:s.default.UNLOCK.EVENTS.QUALIFY}}}),r={type:s.default.RIO.EVENT_TYPES.CLICKSTREAM_INTERACTION.NAME,data:i};break;case s.default.UNLOCK.EVENTS.WILL_SEE_MODAL:var a={name:s.default.UNLOCK.EVENTS.WILL_SEE_MODAL,state:"ready"};n&&n.demandSource&&(a.value=n.demandSource),r={type:s.default.RIO.EVENT_TYPES.CLICKSTREAM_SUCCESS.NAME,data:a};break;case s.default.UNLOCK.EVENTS.SHOWN_MODAL:var c={component_view:{component:{name:s.default.UNLOCK.RSW.CONTINUE_CITING,type:"component"}}};n&&n.demandSource&&(c.component_view.component.value=n.demandSource),r={type:s.default.RIO.EVENT_TYPES.CLICKSTREAM_COMPONENT_VIEW.NAME,data:c};break;case s.default.UNLOCK.EVENTS.STATUS_REQUESTED:i=o.default.deepMerge(i,{interaction:{element:{name:s.default.UNLOCK.EVENTS.STATUS_REQUESTED}}}),r={type:s.default.RIO.EVENT_TYPES.CLICKSTREAM_INTERACTION.NAME,data:i};break;case s.default.UNLOCK.EVENTS.UNLOCK_VIDEO_SHOWN:i=o.default.deepMerge(i,{interaction:{element:{name:s.default.UNLOCK.EVENTS.UNLOCK_VIDEO_SHOWN}}}),r={type:s.default.RIO.EVENT_TYPES.CLICKSTREAM_INTERACTION.NAME,data:i};break;case s.default.UNLOCK.EVENTS.CLICK_WATCH_VIDEO:e.appSendsInitialUnlockEvents||(i=o.default.deepMerge(i,{interaction:{element:{name:s.default.UNLOCK.RSW.SPONSORED_MESSAGE,region_name:s.default.UNLOCK.RSW.REGION}}}),r={type:s.default.RIO.EVENT_TYPES.CLICKSTREAM_INTERACTION.NAME,data:i});break;case s.default.UNLOCK.EVENTS.COMPLETED_MODAL:i=o.default.deepMerge(i,{interaction:{element:{name:s.default.UNLOCK.RSW.DONE,region_name:s.default.UNLOCK.RSW.REGION}}}),r={type:s.default.RIO.EVENT_TYPES.CLICKSTREAM_INTERACTION.NAME,data:i};break;case s.default.VIDEO_EVENTS.IMPRESSION:var u=e.transformImpressionData(n.data),d=e.generateVideoClickStreamEvent(u);r={type:s.default.RIO.EVENT_TYPES.CLICKSTREAM_AD_IMPRESSION.NAME,data:d};break;case s.default.VIDEO_EVENTS.CLICK:var l=e.transformImpressionData(n.data),f=e.generateVideoClickStreamEvent(l),p=e.formatClickstreamInteractionData(f);r={type:s.default.RIO.EVENT_TYPES.CLICKSTREAM_INTERACTION.NAME,data:p};break;case s.default.UNLOCK.EVENTS.ERROR:e.send({type:s.default.SBM.EVENT_TYPES.AD_VARIOUS.NAME,data:n.data});default:o.default.log("No case for unlock event: ".concat(t),s.default.LOG_NAMESPACE.DATA)}r&&e.send(r,!1,!0)}},{key:"transformImpressionData",value:function(e){for(var t in d.forEach((function(t){delete e[t]})),l)e.hasOwnProperty(t)||(e["".concat(t)]=l["".concat(t)]);return e}},{key:"generatePerformanceIndex",value:function(t,n,r,i){var a={event_name:t,placement:n,layout:this.user.layout,page:this.user.page,page_count:this.user.pageCount?this.user.pageCount:-1,mode:r,location:this.user.country,sbm_id:this.user.sbmId};if(t!==s.default.PERFORMANCE_EVENTS.INIT&&"D_VID"!==n){var o=e.getClickStreamAdEventDataByPlacement(n,i);if(o){var c=o.content.metadata.ad;a.partner=c.partner,a.cpm=c.cpm,a.line_item_id=c.line_item_id}}e.send({type:s.default.SBM.EVENT_TYPES.AD_PERFORMANCE.NAME,data:a})}},{key:"genExperimentsArray",value:function(){var e=o.default.getOptimizelyKvps();return e.length?e.map((function(e){return{experiment_id:e.experiment,variant_id:e.variation}})):null}},{key:"checkForGlobalProps",value:function(){var t=0,n=setInterval((function(){var r=e.globalClient.stateManager._state;if("object"===i(r)&&null!==typeof r){var a=f.filter((function(e){return!r.hasOwnProperty(e)}));(0===a.length||t>=50)&&(clearInterval(n),e.globalPropsAvailable=!0,e.queuedEvents.forEach((function(t){e.send(t)})),e.queuedEvents=[],t>=50&&o.default.log("Unable to retrieve RSW properties from global client: ".concat(a.join(", ")),s.default.LOG_NAMESPACE.DATA))}t++}),100)}},{key:"loadPx",value:function(){if(!window.digitalData||!window.digitalData.perimeterxScore){var t=e.config.perimeterx,n=t.appId,r=t.endpoint;window._pxAppId=n,window["".concat(n,"_asyncInit")]=function(t){t.Events.on("score",(function(t,n){e.setDefaultDigitalData(),window.digitalData.page.pageInfo.attributes.hashperbs=t,window.digitalData.perimeterxScore=Number(t)}))},o.default.launchScript(r,(function(){return o.default.log("Loaded perimeterX script",s.default.LOG_NAMESPACE.STATE)}),(function(){return o.default.log("Error loading perimeterX",s.default.LOG_NAMESPACE.WARNING)}),{async:!0})}}},{key:"setDefaultDigitalData",value:function(){var t;e.globalClient&&e.globalClient.stateManager._state.view?t=e.globalClient:e.defaultClient&&e.defaultClient.stateManager._state.view?t=e.defaultClient:e.rioClient&&e.rioClient.stateManager._state.view&&(t=e.rioClient);var n=s.default.RIO.WT_PROPERTY,r=o.default.transformSiteName(e.sitePrefix),i="";if(t){var a=t.stateManager._state.view;n=a.property,r=a.experience,i=a.view_name}window.digitalData=window.digitalData||{},window.digitalData.blockDDRW=window.digitalData.blockDDRW||e.config.perimeterx.blockDDRW,window.digitalData.page=window.digitalData.page||{},window.digitalData.page.category=window.digitalData.page.category||{primaryCategory:n,subCategory2:r},window.digitalData.page.pageInfo=window.digitalData.page.pageInfo||{pageName:i,attributes:{}}}},{key:"getUrlParams",value:function(){var t=o.default.getUrlParams().sbm_rsw;t&&("off"===t?e.rswParamsOff=!0:(e.allowList||(e.allowList=new Set),t.split(",").forEach((function(t){switch(t){case"imp":e.allowList.add(s.default.RIO.EVENT_TYPES.CLICKSTREAM_AD_IMPRESSION.NAME);break;case"unlock":e.allowList.add("UNLOCK");break;case"video":e.allowList.add(s.default.SBM.EVENT_TYPES.VIDEO_EVENT.NAME);break;case"interaction":e.allowList.add(s.default.RIO.EVENT_TYPES.CLICKSTREAM_INTERACTION.NAME);break;case"auction":e.allowList.add(s.default.SBM.EVENT_TYPES.AUCTION_EVENT.NAME);break;case"ad":e.allowList.add(s.default.SBM.EVENT_TYPES.AD_PERFORMANCE.NAME);break;case"cs":e.allowList.add(s.default.RIO.EVENT_TYPES.CLICKSTREAM_COMPONENT_VIEW.NAME),e.allowList.add(s.default.RIO.EVENT_TYPES.CLICKSTREAM_SUCCESS.NAME);break;default:o.default.log("Unable to find Event type to whitelist",s.default.LOG_NAMESPACE.DATA)}}))))}},{key:"shouldSend",value:function(t,n){return!e.rswParamsOff&&(!e.allowList||!(!n||!e.allowList.has("UNLOCK"))||!!e.allowList.has(t)||!!e.allowList.has(t)&&void 0)}}],null&&a(t.prototype,null),n&&a(t,n),e}();t.default=p,p.winningClickStreamData={},p.isInit=!1,p.fetchGlobalClient=!1,p.queuedEvents=[],p.waitForGlobalProps=!1,p.globalPropsAvailable=!1,p.rswParamsOff=!1},1310:(e,t,n)=>{"use strict";function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw o}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var o=n(4502),s=n(5432),c=n(4145);function u(e){return"".concat(o.default.SITE.PREFIX).concat(e)}var d={getItem:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)return null;var n=t?o.default.PREFIX+e:e;return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*".concat(encodeURIComponent(n).replace(/[\-\.\+\*]/g,"\\$&"),"\\s*\\=\\s*([^;]*).*$)|^.*$")),"$1"))||null},setItem:function(e,t,n,r,i){return a(this,void 0,void 0,regeneratorRuntime.mark((function a(){var s,u,d;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.userAllowsAnalytics();case 2:if(a.sent){a.next=5;break}return a.abrupt("return",!1);case 5:if(e&&!/^(?:expires|max\-age|path|domain|secure)$/i.test(e)){a.next=7;break}return a.abrupt("return",!1);case 7:if(s="",n||((u=new Date).setTime(u.getTime()+18e5),n=u.toUTCString()),!n){a.next=19;break}a.t0=n.constructor,a.next=a.t0===Number?13:a.t0===String?15:a.t0===Date?17:19;break;case 13:return s=n===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age=".concat(n),a.abrupt("break",19);case 15:return s="; expires=".concat(n),a.abrupt("break",19);case 17:return s="; expires=".concat(n.toUTCString()),a.abrupt("break",19);case 19:return d=o.default.PREFIX+e,document.cookie="".concat(encodeURIComponent(d),"=").concat(encodeURIComponent(t)).concat(s).concat(i?"; domain=".concat(i):"").concat(r?"; path=".concat(r):"","; SameSite=none; secure"),a.abrupt("return",!0);case 22:case"end":return a.stop()}}),a)})))},removeItem:function(e,t,n,r){if(!this.hasItem(e,r))return!1;var i=r?e:o.default.PREFIX+e;return document.cookie="".concat(encodeURIComponent(i),"=; expires=Thu, 01 Jan 1970 00:00:00 GMT").concat(n?"; domain=".concat(n):"").concat(t?"; path=".concat(t):""),!0},hasItem:function(e,t){if(!e)return!1;var n=t?e:o.default.PREFIX+e;return new RegExp("(?:^|;\\s*)".concat(encodeURIComponent(n).replace(/[\-\.\+\*]/g,"\\$&"),"\\s*\\=")).test(document.cookie)},keys:function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),t=e.length,n=0;n<t;n++)e[n]=decodeURIComponent(e[n]);return e}};t.default={setTestGroup:function(e,t,n){if(!e)return t.replace(/.*((?:\w|\d{1,2})-(?:test|control)).*/,"$1");var i,a=o.default.COOKIE.A_B_TEST,c=n||d.getItem(a);if(c){var u=e.find((function(e){return e.name===c}));if(u)if(u.session)i=c;else{var l,f=0,p=[],m=r(e);try{for(m.s();!(l=m.n()).done;){var g=l.value;g.traffic>0&&(g.session?f+=g.traffic:p.push(s.default.copy(g)))}}catch(e){m.e(e)}finally{m.f()}if(f>0&&p.length>0){var h=1-f;e=p.map((function(e){return e.traffic+=e.traffic/h*f,e}))}}else i="error"}if(!i){var b,v=Math.random(),y=0,E=r(e);try{for(E.s();!(b=E.n()).done;){var O=b.value;if(!(y<v||0===y))break;y+=O.traffic,i=O.name}}catch(e){E.e(e)}finally{E.f()}}return d.setItem(a,i,null,o.default.PATH,o.default.DOMAIN),i},getTestCellVariant:function(){var e=o.default.COOKIE.A_B_TEST;return d.getItem(e)},checkAdBlockWhiteListed:function(){var e=o.default.COOKIE.WHITELISTED;return"true"===d.getItem(e)},verifyTestGroup:function(e){var t=o.default.COOKIE.A_B_TEST,n=d.getItem(t);e.find((function(e){return e.name===n}))||(d.removeItem(t,o.default.PATH,o.default.DOMAIN),d.removeItem(t,o.default.PATH,".".concat(o.default.SITE.HOSTNAME)))},setAdBlockDetected:function(){var e=u("abd");return d.setItem(e,"true",1/0,o.default.PATH,o.default.DOMAIN),!0},getAdBlockDetected:function(){return"true"===d.getItem(u("abd"))},beenThanked:function(){return"true"===d.getItem(u("been_thanked"))},setAdBlockWhitelistedTrue:function(){var e=o.default.COOKIE.WHITELISTED;d.setItem(e,"true",null,o.default.PATH,o.default.DOMAIN)},docCookies:d,getOptanonConsent:function(){return d.getItem(o.default.COOKIE.OPTANON_CONSENT,!1)},getEUConsent:function(){return d.getItem(o.default.COOKIE.EU_PUB_CONSENT,!1)},getCountry:function(){return d.getItem(o.default.COOKIE.COUNTRY)},setCountry:function(e){d.setItem(o.default.COOKIE.COUNTRY,e,1/0,o.default.PATH,o.default.DOMAIN)},getDma:function(){return d.getItem(o.default.COOKIE.DMA)},setDma:function(e){d.setItem(o.default.COOKIE.DMA,e,1/0,o.default.PATH,o.default.DOMAIN)},getTruexUserId:function(){return d.getItem(o.default.COOKIE.TRUEX_USER_ID)},setTruexUserId:function(e){return d.setItem(o.default.COOKIE.TRUEX_USER_ID,e,1/0,o.default.PATH,o.default.DOMAIN)},getPreviousTruexGcs:function(){return d.getItem(o.default.COOKIE.PREVIOUS_TRUEX_GCS)},setPreviousTruexGcs:function(e){var t=new Date,n=e||2592e5;return t.setTime(t.getTime()+n),d.setItem(o.default.COOKIE.PREVIOUS_TRUEX_GCS,"true",t.toUTCString(),o.default.PATH,o.default.DOMAIN)},setViewedUnlock:function(e){var t=new Date,n=isNaN(e)?2592e5:e;return t.setTime(t.getTime()+n),d.setItem(o.default.COOKIE.VIEWED_UNLOCK_SESSION,!0,t.toUTCString(),o.default.PATH,o.default.DOMAIN)},getViewedUnlock:function(){return d.getItem(o.default.COOKIE.VIEWED_UNLOCK_SESSION)},removeAdLiteStandard:function(){return d.removeItem(o.default.COOKIE.AD_LITE_STANDARD,o.default.PATH,o.default.DOMAIN)},nsDebug:function(e){return e?"off"===e?d.removeItem("ns_debug",o.default.PATH,o.default.DOMAIN):d.setItem("ns_debug",e,1/0,o.default.PATH,o.default.DOMAIN):d.getItem("ns_debug")},archieRadar:function(e){return a(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=6;break}return(n=new Date).setTime(n.getTime()+18e5),t.next=5,d.setItem("archie_radar",e,n.toUTCString(),o.default.PATH,o.default.DOMAIN);case 5:return t.abrupt("return",t.sent);case 6:return t.abrupt("return",d.getItem("archie_radar"));case 7:case"end":return t.stop()}}),t)})))},bypassAdsCookie:function(e){if(e){var t=new Date;return t.setTime(t.getTime()+27e5),d.setItem("bypass_ads",e,t.toUTCString(),o.default.PATH,o.default.DOMAIN),e}return d.getItem("bypass_ads")},removeAtsCookies:function(){return["idl_env","_lr_env"].forEach((function(e){d.removeItem(e,o.default.PATH,null,!0)})),!0},getIdTokenCookie:function(){return d.getItem(o.default.COOKIE.ID_TOKEN,!1)}}},4145:(e,t,n)=>{"use strict";var r=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.userConfiguredConsent=t.getUspData=t.getCcpaApplies=t.patch=t.loadGdprEndpoint=t.getCMPValues=t.createPrebidConsentManagementConfig=t.userAllowsAnalytics=t.getGdprApplies=t.consentSignalForGooglePersonalizedAds=t.consentSignalForGoogleNonPersonalizedAds=t.userAllowsPersonalAds=t.getConsentString=t.IabConsent=void 0;var i=n(5432),a=n(4502),o=["US","CA","AU","MY","IN","PH","NL","MX","ZA","CO","BR","TR","SG"],s={gdprLoadingThroughAdvantage:!1,consentStringPromise:null,uspDataPromise:null,tcData:null,uspData:null,goog:!1,handlerSet:!1,tcfLoaded:!1,getConsentStringPromise:function(){return s.consentStringPromise||(s.consentStringPromise=new Promise((function(e){try{i.default.log("GDPR applies. Attempting to get consent string.",a.default.LOG_NAMESPACE.CONSENT);var t=0,n=setInterval((function(){if(t+=1,window.__sbmNoGdpr)s.tcData={gdprApplies:!1},clearInterval(n),e();else if(window.__tcfapi&&window.OneTrust&&!s.handlerSet){window.OptanonActiveGroups.match(/,goog,/)?s.goog=!0:s.goog=!1,window.OneTrust.OnConsentChanged((function(e,t,n){window.OptanonActiveGroups.match(/,goog,/)?s.goog=!0:s.goog=!1}));var r=window.OneTrust.getGeolocationData();r&&o.indexOf(r.country)>=0&&(s.tcData={gdprApplies:!1},e()),s.handlerSet||(window.__tcfapi("addEventListener",2,(function(t,r){s.tcData=t,"useractioncomplete"!==t.eventStatus&&"tcloaded"!==t.eventStatus||(s.tcfLoaded=!0,clearInterval(n),e())})),s.handlerSet=!0)}else t>=50&&(i.default.log("Optanon Cookie not found after 50 retries. Resolving consent string promise.",a.default.LOG_NAMESPACE.CONSENT),clearInterval(n),e())}),100)}catch(t){i.default.throw("Error polling for Optanon Cookie",t),e()}}))),s.consentStringPromise},getUspDataPromise:function(){return s.uspDataPromise||(s.uspDataPromise=new Promise((function(e){try{i.default.log("CCPA applies. Attempting to get uspData.",a.default.LOG_NAMESPACE.CONSENT);var t=0,n=setInterval((function(){t+=1,c()?!s.uspData&&window.__uspapi?window.__uspapi("getUSPData",1,(function(t,r){r&&(s.uspData=t,clearInterval(n),e())})):t>=50&&(i.default.log("UspData not found after 50 retries. Resolving uspData promise.",a.default.LOG_NAMESPACE.CONSENT),clearInterval(n),e()):(s.uspData={uspString:"1--"},clearInterval(n),e())}),100)}catch(t){i.default.throw("Error fetching uspData",t),e()}}))),s.uspDataPromise}};t.IabConsent=s;var c=function(){return!!window.__sbmRegion&&"CA"===window.__sbmRegion};t.getCcpaApplies=c;var u=function(){return new Promise((function(e){try{s.getConsentStringPromise().then((function(){e(d())}))}catch(t){i.default.throw("Error getting consent string",t),e(d())}}))};t.getConsentString=u;var d=function(){return{consentData:s.tcData?s.tcData.tcString:null,gdprApplies:s.tcData?s.tcData.gdprApplies:null,hasGlobalScope:!1}};t.getCMPValues=d;var l=function(){return{version:s.uspData?s.uspData.version:null,uspString:s.uspData?s.uspData.uspString:null}};t.userConfiguredConsent=function(){return s.tcData&&"useractioncomplete"===s.tcData.eventStatus||"tcloaded"},t.userAllowsPersonalAds=function(){return r(void 0,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m()){e.next=2;break}return e.abrupt("return",!0);case 2:return e.next=4,u();case 4:return t=e.sent,e.abrupt("return",t.gdprApplies&&s.tcData.purpose.consents[4]||!t.gdprApplies);case 6:case"end":return e.stop()}}),e)})))},t.userAllowsAnalytics=function(){return r(void 0,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m()){e.next=2;break}return e.abrupt("return",!0);case 2:return e.next=4,u();case 4:return t=e.sent,e.abrupt("return",t.gdprApplies&&s.tcData.purpose.consents[8]||!t.gdprApplies);case 6:case"end":return e.stop()}}),e)})))},t.consentSignalForGooglePersonalizedAds=function(){return r(void 0,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.tcfLoaded){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,u();case 4:return t=e.sent,e.abrupt("return",t.gdprApplies&&p()&&f()&&s.tcData.purpose.consents[3]&&s.tcData.purpose.consents[4]);case 6:case"end":return e.stop()}}),e)})))},t.consentSignalForGoogleNonPersonalizedAds=function(){return r(void 0,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.tcfLoaded){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,u();case 4:return t=e.sent,e.abrupt("return",t.gdprApplies&&p()&&f());case 6:case"end":return e.stop()}}),e)})))};var f=function(){return s.tcData.purpose.consents[1]||!1},p=function(){return s.tcData.vendor.consents[755]||!1};t.getUspData=function(){return new Promise((function(e){try{s.getUspDataPromise().then((function(){e(l())}))}catch(t){i.default.throw("Error getting uspData object",t),e(l())}}))};var m=function(){return!window.__sbmNoGdpr&&(!s.tcData||s.tcData.gdprApplies)};t.getGdprApplies=m,t.loadGdprEndpoint=function(e){if(e.gdpr&&e.gdpr.loadScript){s.gdprLoadingThroughAdvantage=!0;var t=[];e.gdpr.endpoint?t=[e.gdpr.endpoint]:e.gdpr.endpoints&&(t=e.gdpr.endpoints),t.forEach((function(e){var t="string"==typeof e?{url:e,attributes:null}:{url:e.url,attributes:e.attributes},n=t.url,r=t.attributes;i.default.launchScript(n,(function(){i.default.log("gdpr endpoint launched",a.default.LOG_NAMESPACE.CONSENT)}),(function(){i.default.throw("Launching gdpr endpoint failed")}),{},r)}))}},t.patch=function(){if(window.__sbmNoGdpr){var e=window.__tcfapi;window.__tcfapi=function(t,n,r){"getTCData"===t||"addEventListener"===t||"ping"===t?r({cmpId:123,cmpVersion:2,gdprApplies:!1,tcfPolicyVersion:2,eventStatus:"tcloaded",cmpStatus:"loaded"},!0):"removeEventListener"===t?r(!0):e(t,n,r)}}},t.createPrebidConsentManagementConfig=function(e,t){return m()?{consentManagement:{gdpr:{cmpApi:"iab",timeout:e.timeout?e.timeout:t,defaultGdprScope:!0}}}:{consentManagement:{usp:{timeout:e.timeout?e.timeout:t}}}}},5129:(e,t,n)=>{"use strict";var r=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var i=n(5432),a=n(4145),o=n(1310),s=n(1887),c={MD5:new s.MD5,SHA1:new s.SHA1,SHA256:new s.SHA256,multiHash:function(e){return[c.MD5.hex(e),c.SHA1.hex(e),c.SHA256.hex(e)]},genAtsOnLoad:function(e,t,n){var i=e.prebid&&e.prebid.atsPid||1267;return function(){return r(void 0,void 0,void 0,regeneratorRuntime.mark((function r(){var a,o,s;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=c.multiHash(t),o={placementID:i,emailHashes:a},e.prebid&&e.prebid.atsOptions&&Object.assign(o,e.prebid.atsOptions),!window.ats){r.next=9;break}return window.ats.start(o),r.next=7,window.ats.retrieveEnvelope();case 7:s=r.sent,n.hasAtsEnvelope=!!s;case 9:case"end":return r.stop()}}),r)})))}},getAtsPixel:function(e,t){if(!e.prebid||!e.prebid.runAts)return null;var n=i.default.getUserEmail(e.prefix);if(!n)return null;var r=document.createElement("script");r.src=e.prebid&&e.prebid.atsSrc||"https://ats.rlcdn.com/ats.js";var a=e.consentScripts&&e.consentScripts.identity&&e.consentScripts.identity.attributes;for(var o in a)r.setAttribute(o,a[o]);return r.onload=c.genAtsOnLoad(e,n,t),r}};t.default={setPixels:function(e,t,n){return r(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,s,u;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=[],n.next=3,a.userAllowsPersonalAds();case 3:if(n.sent&&-1===(e.skipHeader||[]).indexOf(t.page)){n.next=7;break}return e.prebid.runAts&&i.default.getUserEmail(e.prefix)&&o.default.removeAtsCookies(),n.abrupt("return",r);case 7:return r.push((d=void 0,(d=document.createElement("iframe")).width="0",d.height="0",d.frameBorder="0",d.scrolling="no",d.marginHeight="0",d.marginWidth="0",d.style.display="none",d.src="https://js-sec.indexww.com/um/ixmatch.html",d)),(s=c.getAtsPixel(e,t))&&r.push(s),e.admiralSrc&&((u=document.createElement("script")).type="text/javascript",u.innerText='!(function(o,n,t){t=o.createElement(n),o=o.getElementsByTagName(n)[0],t.async=1,t.src="'.concat(e.admiralSrc,'",o.parentNode.insertBefore(t,o)})(document,"script"),(function(o,n){function t(){(t.q=t.q||[]).push(arguments)}t.v=1,o.admiral=o.admiral||t})(window);!(function(o,t,n,c){function e(n){(function(){try{return(localStorage.getItem("v4ac1eiZr0")||"").split(",")[4]>0}catch(o){}return!1})()&&(n=o[t].pubads())&&n.setTargeting("admiral-engaged","true")}(c=o[t]=o[t]||{}).cmd=c.cmd||[],typeof c.pubads===n?e():typeof c.cmd.unshift===n?c.cmd.unshift(e):c.cmd.push(e)})(window,"googletag","function");'),r.push(u)),(r=r.filter((function(e){return e}))).forEach((function(e){document.head.appendChild(e)})),n.abrupt("return",r);case 14:case"end":return n.stop()}var d}),n)})))},ATS:c}},6028:(e,t)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){e=e||"docReady",t=t||window;var r=[],i=!1,a=!1;function o(){if(!i){try{throw new Error("winodw.docReady polyfill used.  Please migrate to usage of document.addEventListener for DOMContentLoaded")}catch(e){}i=!0;var e,t=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw o}}}}(r);try{for(t.s();!(e=t.n()).done;){var a=e.value;a.fn.call(window,a.ctx)}}catch(e){t.e(e)}finally{t.f()}r=[]}}t[e]=function(e,t){i?setTimeout((function(){e(t)}),1):(r.push({fn:e,ctx:t}),"complete"===document.readyState?setTimeout(o,1):a||(document.addEventListener&&(document.addEventListener("DOMContentLoaded",o,!1),window.addEventListener("load",o,!1)),a=!0))}}("docReady",window);t.default=r},340:(e,t,n)=>{"use strict";function r(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o=n(4502),s=n(5432),c=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&Array.isArray(e[n].bids)&&(t=[].concat(r(t),r(e[n].bids)));return t},u=function(e,t){return"justpremium"!==e.partnerName||-1===["pd","wp"].indexOf(e.format)||((n="bibme"===o.default.SITE.NAME||"citationmachine"===o.default.SITE.NAME?t.placement.$pasture.parentElement.parentElement:t.placement.$pasture).style.WebkitTransition="min-height .5s",n.style.MozTransition="min-height .5s",n.style.MsTransition="min-height .5s",n.style.OTransition="min-height .5s",n.style.transition="min-height .5s",n.style.overflow="hidden",n.style.minHeight="0px",n.style.height="0px"),e;var n},d=function(e,t){if("justpremium"!==e.partnerName)return e;var n="\n\t  div.jpx-".concat(e.format,"-wrapper {\n\t\t\tz-index: 9998;\n\t\t}\n\t\tdiv.jpx-pu-wrapper {\n\t\t\tbottom: 25px\n\t\t}\n\t\tdiv.jpx-pa-wrapper {\n\t\t\tmargin: 52px 0;\n\t\t}\n\t");return s.default.dynamicStyle(n),e},l=function(e,t){return"justpremium"!==e.partnerName||f(t.placementName),e},f=function(e){try{window.SBMGlobal.run.disableRefresh(e)}catch(e){}};t.Z={getBidById:function(e,t){var n,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=i(e))){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw o}}}}(c(e));try{for(r.s();!(n=r.n()).done;){var a=n.value;if(t===a.adId)return a}}catch(e){r.e(e)}finally{r.f()}return null},getAllBids:c,adjustWinningBid:function(e,t){return e?([l,u,d].forEach((function(n){try{e=n(e,t)}catch(e){s.default.throw("AdjustWinningBid failed:",e)}})),e):(s.default.throw("No bid found: ".concat(JSON.stringify(e))),e)},disablePlacementRefresh:f}},4502:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r,i=window.location.hostname,a="".concat((r="nosite",(n=i).match(/easybib/i)?r="eb":n.match(/citationmachine/i)?r="cm":n.match(/bibme/i)?r="bm":n.match(/citethisforme/i)&&(r="ctfm"),r),"_"),o=i.replace(/.*?\.(.*\.(?:com|org|net))/i,"$1"),s=window.location.hostname.replace(/(?:\w+\.)?((?:\w|\d)*)(?:\.\w+)/,"$1"),c={PREFIX:"sbm_",PATH:"/",DOMAIN:".".concat(i),SITE:{HOSTNAME:i,DOMAIN:o,PREFIX:a,NAME:s},STORE:{BIDS:"bids",LIMIT:200},CHANNEL:{NONE:-1,HEADER:0,ADX:1,MD:2,CPC:3,EBDA:4},CHANNEL_NAMES:{MD:"md",ADX:"adx",NILE:"nile",NONE:"none",CPC:"cpc",GRAMMARLY:"grammarly",EBDA:"ebda",PREBID:"prebid"},PARTNER_NAMES:{CPC:{PAPERCHECKER:"paperchecker"}},MEDIA_TYPES:{BANNER:"banner",VIDEO:"video"},CLASS_NAMES:{AD:"sbm-rand",LINK:"upgrade-link",STICKY:"sbm-sticky-enabled",DOCKED:"docked",NONLVP:"nonlvp"},IDS:{CLOSE:"close-button",PLAY_PAUSE:"play-pause-button",MUTE_UNMUTE:"mute-unmute-button",VIDEO_BUTTONS:"video-buttons",NON_CLICKABLE_OVERLAY:"nonclickable-overlay"},COOKIE:{A_B_TEST:"a_b_test",WHITELISTED:"".concat(a,"whitelisted"),BEEN_THANKED:"".concat(a,"been_thanked"),OPTANON_CONSENT:"OptanonConsent",EU_PUB_CONSENT:"eupubconsent",COUNTRY:"country",DMA:"dma",VIEWED_UNLOCK_SESSION:"viewed_unlock_session",PREVIOUS_TRUEX_GCS:"previous_truex_gcs",AD_LITE_STANDARD:"ad_lite",TRUEX_USER_ID:"truex_user_id",SUBMIT_BLOCKED_COUNT:"".concat(a,"submit_blocked"),SELENIUM:"".concat(a,"selenium_test"),SBM_ID:"sbm_id",SBM_SESSION_ID:"sbm_session_id_2",ID_TOKEN:"id_token"},UNLOCK_PLACEMENT_NAME:"D_UNLOCK",UNLOCK_MOBILE_PLACEMENT_NAME:"M_UNLOCK",UNLOCK_MOBILE_PLACEMENT_VIDEO_SIZE:[400,300],SURVEY_UNLOCK_PLACEMENT_NAME:"D_SURVEYUNLOCK",VID_PLACEMENT_NAME:"D_VID",BID_STATUS:{WAITING:"waiting",SUCCESS:"success",NONE:"nbr",ERROR:"error"},PERFORMANCE_EVENTS:{INIT:"init",RENDERED:"rendered",VIEWABLE:"viewable"},LOG_NAMESPACE:{REFRESH:"refresh",STATE:"state",DATA:"data",BIDS:"bids",PREBID:"prebid",VIDEO:"video",DS:"data science",CONSENT:"consent",WARNING:"warning",FLOORD:"floord",FUNDING_CHOICES:"funding_choices",CHEGG_BIDDER:"chegg_bidder",ID_SOLUTIONS:"id solutions"},DISPLAY_AUCTION_TYPES:{CURRENT:"currentPage",NEXT:"nextPage"},SBM:{EVENT_TYPES:{SLOT_RENDER:{NAME:"slot_render",VERSION:"3"},VIDEO_EVENT:{NAME:"video_event",VERSION:"2"},AD_PERFORMANCE:{NAME:"ad_performance",VERSION:"1"},AUCTION_EVENT:{NAME:"auction_event",VERSION:"1"},AD_VARIOUS:{NAME:"ad_various",VERSION:"1"}}},RIO:{EVENT_TYPES:{CLICKSTREAM_AD_IMPRESSION:{NAME:"clickstream_ad_impression",VERSION:"1"},CLICKSTREAM_INTERACTION:{NAME:"clickstream_interaction",VERSION:"3"},CLICKSTREAM_SUCCESS:{NAME:"clickstream_success",VERSION:"4"},CLICKSTREAM_COMPONENT_VIEW:{NAME:"clickstream_component_view",VERSION:"3"}},SBM_NAMESPACE:"sbmAnalytics",DEFAULT_NAMESPACE:"wtaCmd",GLOBAL_NAMESPACE:"global",APP_ID:"sbm",DEFAULT_APP_ID:"al_cell",WT_PROPERTY:"wt"},VIDEO_PARTNERS:{CUSTOM:"custom",PRIMIS:"primis"},VJS:{FATAL_ERRS:[100,101,102,300,301,302,303,400,401,402,403,405,406,407,408,409,410,500,501,502,503,900,901,1005,1009],EVENTS:{HTML:["ended","timeupdate"],IMA:["adProgress","allAdsCompleted","click","start","impression","pause","complete","viewable_impression","loaded"],SKIP:["timeupdate","adProgress"]}},FLOOR_TIERS:{US:"US",GB_AU_CA:"GB_AU_CA",ROW:"ROW"},PARTNER_PREFIX:{PRIMIS:"pr"},DOM_EVENTS:{SCROLL:"scroll",FOCUS:"focus",BLUR:"blur",CLICK:"click"},VIDEO_EVENTS:{BLURRED_AD:"blurred_ad",ERROR_OPP:"error_opp",PLAYER_LOAD:"player_load",FCAP:"fcap",START:"ad-start",COMPLETE:"ad-complete",PAUSE:"ad-pause",IMPRESSION:"ad-impression",CLICK:"ad-click",REQUEST:"ad-request",ERROR:"error",VIEWABLE:"ad-viewable",INTERRUPT:"ad-interrupt",TIMEOUT:"timeout",PLAYER_RESET:"player_reset",CONTENT_START:"content-start",CONTENT_COMPLETE:"content-complete",LOADED:"ad-load"},UNLOCK:{EVENTS:{QUALIFY:"qualify for unlock",WILL_SEE_MODAL:"will see modal",SHOWN_MODAL:"shown modal",CLICK_WATCH_VIDEO:"click watch video",UNLOCK_VIDEO_SHOWN:"unlock video shown",STATUS_REQUESTED:"unlock status requested",COMPLETED_MODAL:"completed modal",MODAL_ERROR:"modal error",SURVEY:"survey",ERROR:"error"},RSW:{REGION:"unlock citation",SPONSORED_MESSAGE:"view a sponsored message",DONE:"I'm done",CONTINUE_CITING:"click to continue citing"}},VIDEO_PLAYER_EVENTS:{PLAY:"play",PAUSE:"pause",UNPAUSE:"unpause",COLLAPSE:"collapse",EXPAND:"expand",MUTE:"mute",UNMUTE:"unmute"},VIDEO_SESSION_STATE:{BLURRED_AD:"blurredAdCount",UNFILLED_REQUEST:"unfilledRequestCount",FCAP_REACHED:"fCapReached",MANUAL_PAUSE:"manuallyPaused",MANUAL_MUTE:"manuallyMuted"},MODE:{S:"s",R:"r"},MODENAME:{STANDARD:"standard",REFRESH:"refresh"},VIEWABILITY:{PIXEL_THRESHOLD:.5,TIME_THRESHOLD:1e3,CHECK_INTERVAL:50},TARGETING:{ON:"on"},NO_DATA:"none",HEADER_ADVERTISER_ID:91854729,NILE_ADVERTISER_ID:91854849,GAM_URL:"https://pubads.g.doubleclick.net/gampad/adx?iu=/",MOBILE:"mobile",DESKTOP:"desktop",SUPPRESS_TYPES:{BY_COOKIE:"cookie",BY_APPLICATION:"application",BY_CONFIG:"config",BY_WINDOW:"window"},ALLOWED_PARAMS_ADFREE:{ARCHIE_SUPPRESS:"archie_suppress",EDU_MODE:"edu_mode"},LARGE_VIDEO_PLAYER:"large video player",REGULAR_VIDEO_PLAYER:"regular video player",SOFT_LOGGED_IN:"Soft Logged In",HARD_LOGGED_IN:"Hard Logged In",VIDEO_CONTEXT:{OUTSTREAM:"outstream"}};t.default=c},5432:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}Object.defineProperty(exports,"__esModule",{value:!0});var snakeCase=__webpack_require__(7044),ts_deepmerge_1=__webpack_require__(905),string_const_1=__webpack_require__(4502),AdBlockError_1=__webpack_require__(6799),cookies_1=__webpack_require__(1310),Hashes=__webpack_require__(1887),SESSION_EVENT_TIMES={},AUCTION_EVENT_TIMES={},CALC_EVENT_TIMES={},versionName,util={logStack:[],enableDebug:function(e,t){(e||void 0===e)&&(window.DEBUG_MODE="verbose"),t&&util.logStack.reduceRight((function(e,t){console.log.apply(console,t)}),void 0)},getPageCountNumber:function(e){return e&&!isNaN(parseInt(e))?parseInt(e):0},convertElementToString:function(e){return e&&"boolean"!=typeof e&&0!==e.length?String(e):"-1"},launchScript:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};document.head.appendChild(this.getScript(e,t,n,r,i))},getScript:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a="https:"===document.location.protocol,o=document.createElement("script");return o.async=void 0===r.async||r.async,o.type="text/javascript",o.defer=r.defer,0!==e.indexOf("http")&&0!==e.indexOf("//")||(e=e.substring(e.indexOf("//")+2)),o.src=(a?"https://":"http://")+e,"function"==typeof t&&(o.readyState?o.onreadystatechange=function(){"loaded"!==o.readyState&&"complete"!==o.readyState||(o.onreadystatechange=null,t())}:o.onload=t),"function"==typeof n&&(o.onerror=n),i&&Object.keys(i).forEach((function(e){o.setAttribute(e,i[e])})),o},getUrlParams:function(){var e={};return window.location.search.slice(1).split("&").map((function(t){var n=t.split("=");return 2===n.length?e[n[0]]=n[1]:""!==n[0]&&(e[n[0]]=""),e})),e},removeParamFromQueryString:function(e,t){var n=util.getUrlParams();delete n[e];var r=[];for(var i in n)n.hasOwnProperty(i)&&r.push(encodeURIComponent(i)+"="+encodeURIComponent(n[i]));var a=r.join("&").trim(),o="".concat(location.protocol,"//").concat(location.host).concat(location.pathname),s=a?o+"?"+a:o;window.history.pushState({},document.title,s),t&&window.location.assign(s)},copy:function(e){return JSON.parse(JSON.stringify(e))},genUUID:function(){for(var e=[],t=0;t<256;t++)e[t]=(t<16?"0":"")+t.toString(16);return function(){var t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return"".concat(e[255&t]+e[t>>8&255]+e[t>>16&255]+e[t>>24&255],"-").concat(e[255&n]).concat(e[n>>8&255],"-").concat(e[n>>16&15|64]).concat(e[n>>24&255],"-").concat(e[63&r|128]).concat(e[r>>8&255],"-").concat(e[r>>16&255]).concat(e[r>>24&255]).concat(e[255&i]).concat(e[i>>8&255]).concat(e[i>>16&255]).concat(e[i>>24&255])}}(),genRandomString:function(){var e=["a","n","c","d","e","f","a1j","b2","a3","c4m","f5","e6","b7w","a8s","f9","d0"],t=e[Math.floor(Math.random()*e.length)],n=t+this.genUUID().replace(/-/g,t),r=Math.floor(Math.random()*n.length);return r=Math.max(r,13),n.substring(0,r)},embedCss:function(e){var t=document.createElement("link");t.href=e,t.type="text/css",t.rel="stylesheet",t.media="screen,print",document.head.appendChild(t)},addClass:function(e,t){e.classList?e.classList.add(t):e.className+=" ".concat(t)},removeClass:function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)".concat(t.split(" ").join("|"),"(\\b|$)"),"gi")," ")},getTime:function(e){var t=window.performance.now();return e?t:parseInt(t,10)},throw:function(e,t){switch(e="ADV Error: ".concat(e),void 0===t?t=new Error(e):t.message="".concat(e,": ").concat(t.message),window.DEV_MODE){case"warn":try{console.error(t)}catch(e){}break;case"strict":throw t;default:return window.newrelic&&(window.newrelic.addRelease("sbmAdVersion",versionName),window.newrelic.noticeError(t,{testVersion:versionName})),t}},log:function(e,t){if(t="string"==typeof t?t:"default",this.detectIE())(window.DEBUG_MODE||"all"===window.NS_DEBUG)&&console.log("".concat(t.toUpperCase(),": ").concat(e));else{var n;switch(t){case string_const_1.default.LOG_NAMESPACE.REFRESH:n="#f58231";break;case string_const_1.default.LOG_NAMESPACE.STATE:n="#e01b6a";break;case string_const_1.default.LOG_NAMESPACE.DATA:n="#3cb44b";break;case string_const_1.default.LOG_NAMESPACE.BIDS:n="#4363d8";break;case string_const_1.default.LOG_NAMESPACE.PREBID:n="#911eb4";break;case string_const_1.default.LOG_NAMESPACE.VIDEO:n="#bfef45";break;case string_const_1.default.LOG_NAMESPACE.DS:n="#42d4f4";break;case string_const_1.default.LOG_NAMESPACE.CONSENT:n="#f0bc22";break;case string_const_1.default.LOG_NAMESPACE.WARNING:n="#e0391b";break;case string_const_1.default.LOG_NAMESPACE.FLOORD:n="#1B870A";break;case string_const_1.default.LOG_NAMESPACE.FUNDING_CHOICES:n="#630EEE";break;case string_const_1.default.LOG_NAMESPACE.CHEGG_BIDDER:n="#665E73";break;default:n="#000"}var r="background: ".concat(n,"; color: #fff"),i="%c SBM: ".concat(t.toUpperCase()," "),a=[];if("string"!=typeof e&&e.length?a=e:a.push(e),a.unshift(r),a.unshift(i),util.logStack.unshift(a),util.logStack.length=1e3,window.DEBUG_MODE||"all"===window.NS_DEBUG)try{"verbose"===window.DEBUG_MODE||window.NS_DEBUG?console.log.apply(console,a):"static"===window.DEBUG_MODE&&console.log.apply(console,this.copy(a))}catch(e){}}},addGlobalKey:function addGlobalKey(parent,key,value){try{var cleanParent=parent.replace(/[^A-z0-9_.\[\]]/g,""),obj=eval(cleanParent)}catch(e){util.throw('Object "'.concat(cleanParent||parent,'" does not exist'),e)}try{Object.defineProperty(obj,key,{configurable:!1,value})}catch(e){util.throw("Error creating immutable SBMGlobal property",e),obj[key]=value}},getOptimizelyKvps:function(){if(window._sbmGetOptimizelyGamKvps||window.Component&&window.Component.OptimizelyManager)try{return window._sbmGetOptimizelyGamKvps?window._sbmGetOptimizelyGamKvps():util.transformMWComponent(window.Component.OptimizelyManager.getRioExperiments())}catch(e){return util.log("Failed to get optimizely KVP: ".concat(e),string_const_1.default.LOG_NAMESPACE.WARNING),[]}return[]},transformMWComponent:function(e){var t=[];return e.forEach((function(e){var n=e.experiment_id,r=e.variant_id;t.push({experiment:n,variation:r})})),t},onUnload:function(e){window.addEventListener("unload",e)},tryCallback:function(e,t,n){if("function"==typeof e[t])try{e[t].apply({},n)}catch(e){util.throw("Could not run `user.".concat(t,"()`"),e)}},isEmptyObject:function(e){for(var t in e)return!1;return!0},diff:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=Array.isArray(e),a=i?[]:{};for(n in e)"object"===_typeof(r[n])&&"object"===_typeof(e[n])?(t=this.diff(e[n],r[n]),!1===this.isEmptyObject(t)&&(i?a.push(t):a[n]=t)):r[n]!==e[n]&&(i?a.push(e[n]):a[n]=e[n]);return a},onDocReady:function(e){"loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",e)},dynamicStyle:function(e){var t=document.createElement("style");t.textContent=e,document.head.appendChild(t)},detectIE:function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var r=e.indexOf("Edge/");return r>0&&parseInt(e.substring(r+5,e.indexOf(".",r)),10)},sendDataLayerEvent:function(e){var t={event:"ad event",eventCategory:"ad interaction",eventAction:e.eventAction,eventLabel:e.eventLabel};window.dataLayer&&window.dataLayer.push&&window.dataLayer.push(t)},updateDataLayer:function(e){window.dataLayer=window.dataLayer||[],window.dataLayer.push&&"object"===_typeof(e)&&window.dataLayer.push(e)},turboLinksPreventCaching:function(){var e=document.getElementsByTagName("head")[0],t=document.createElement("meta");t.name="turbolinks-cache-control",t.content="no-cache",e.appendChild(t)},recordEventTime:function(e,t){var n=util.getTime();t?AUCTION_EVENT_TIMES[t]?AUCTION_EVENT_TIMES[t][e]=n:AUCTION_EVENT_TIMES[t]=_defineProperty({},e,n):SESSION_EVENT_TIMES[e]=n},getEventTime:function(e,t){return t?AUCTION_EVENT_TIMES[t]?AUCTION_EVENT_TIMES[t][e]:null:SESSION_EVENT_TIMES[e]},getDuration:function(e,t){return e&&t?t-e:null},getAuctionDuration:function(e){var t=util.getEventTime("auctionInit",e),n=util.getEventTime("dfpAuctionEnd",e);return util.getDuration(t,n)},getPrebidAuctionDuration:function(e){var t=util.getEventTime("prebidAuctionInit",e),n=util.getEventTime("prebidAuctionEnd",e);return util.getDuration(t,n)},getNileDuration:function(e){var t=util.getEventTime("nileAuctionInit",e),n=util.getEventTime("nileAuctionEnd",e);return util.getDuration(t,n)},getVideoLoadTime:function(e){var t=util.getEventTime("videoAdsRequested",e),n=util.getEventTime("videoAdLoaded",e);return util.getDuration(t,n)},getVideoStartTime:function(e){var t=util.getEventTime("videoAdLoaded",e),n=util.getEventTime("videoAdStarted",e);return util.getDuration(t,n)},calculatedEventTimes:function(e,t){return CALC_EVENT_TIMES[e]||(CALC_EVENT_TIMES[e]={auctionDuration:util.getAuctionDuration(e),prebidDuration:util.getPrebidAuctionDuration(e),nileDuration:util.getNileDuration(e)}),t?util.keysToSnakeCase(CALC_EVENT_TIMES[e]):CALC_EVENT_TIMES[e]},setVersionName:function(e){versionName=e},keysToSnakeCase:function(e){if(!e)return e;var t=Array.isArray(e),n=t?[]:{};return Object.keys(e).reduce((function(n,r){var i=e[r];return"object"===_typeof(i)&&(i=util.keysToSnakeCase(i)),t?n.push(i):n[snakeCase(r)]=i,n}),n)},deepMerge:function(e,t){return(0,ts_deepmerge_1.default)(e,t)},getUserKeyLocalStorage:function(e){return"mw"===e?"userstate":"user"},readUserLocalStorage:function(e){var t,n=util.getUserKeyLocalStorage(e);try{var r=window.localStorage&&window.localStorage.getItem(n);r&&(t=JSON.parse(r))}catch(e){util.throw("Failed to read user item from local storage",e)}return t},readUserDigitalData:function(){var e;try{window.digitalData&&window.digitalData.user&&window.digitalData.user.profile&&(e=window.digitalData.user.profile)}catch(e){util.throw("Failed to read user item from digital data",e)}return e},getUserEmail:function(e){var t="chegg"!==e?util.readUserLocalStorage(e):util.getCheggUserEmailFromCookie();return t&&t.user&&t.user.email?t.user.email:t&&t.email?t.email:null},getCheggUserEmailFromCookie:function(){var e=cookies_1.default.getIdTokenCookie();if(e)return util.parseIdTokenJWT(e)},parseIdTokenJWT:function(e){try{var t=e.split(".")[1].replace("-","+").replace("_","/");return JSON.parse(window.atob(t))}catch(e){return}},getHashedEmail:function(e){var t=_slicedToArray(e.split("@"),2),n=t[0],r=t[1],i=_slicedToArray(n.split("+"),1)[0];i=i.replace(".","").toLowerCase();var a="".concat(i,"@").concat(r);return(new Hashes.SHA256).hex(a)},getConnectIdHashedEmail:function(e){var t=new Hashes.SHA256,n="".concat(e.split("@")[0].toLowerCase().replace(".",""),"@").concat(e.split("@")[1]);return t.hex(n)},getUrlSafeHashedEmail:function(e){var t=util.getHashedEmail(e);return btoa("1=".concat(t)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")},transformSiteName:function(e){var t={bibme:"bm",bm:"bm",citationmachine:"cm",cm:"cm",citethisforme:"ctfm",ctfm:"ctfm",easybib:"eb",eb:"eb",mw:"mw",cw:"cw",cheggprep:"prep",prep:"prep",chegg:"core",study:"core",cu:"cu",life:"life",math:"math",search:"search",owl:"owl"};return t[e]?t[e]:(util.throw("Config site name ".concat(e," not available in transform object")),e)},getProperty:function(e){return["bm","cm","ctfm","eb","mw","owl"].includes(e)?string_const_1.default.SITE.NAME:string_const_1.default.SITE.NAME.includes("cheggnet")?"cheggnet":"chegg"},getGaHitCount:function(){if(window.gaData){var e=Object.keys(window.gaData)[0];return e&&window.gaData[e]&&window.gaData[e].hitcount?window.gaData[e].hitcount:-1}},generatePossibleEnumerations:function(e,t){return e.reduce((function(e,n){var r=[];return e.map((function(e){n.map((function(n){r.push(e+t+n)}))})),r})).sort((function(e,t){return e.split("*").length-t.split("*").length}))},enumeratePossibleFieldValues:function(e,t){return e.reduce((function(e,n){var r=t[n]()||"*";return e.push("*"===r?["*"]:[r.toLowerCase(),"*"]),e}),[])},getMatchingFieldValue:function(e,t,n){var r=e.schema.fields,i=Object.keys(e.values).reduce((function(t,n){return t[n]=e.values[n],t}),{}),a=this.enumeratePossibleFieldValues(r||[],t),o=this.generatePossibleEnumerations(a,"|").find((function(e){return i.hasOwnProperty(e)}));return util.log("Matching rule found for ".concat(n,": ").concat(o," => ").concat(i[o]," "),string_const_1.default.LOG_NAMESPACE.VIDEO),i[o]},genAdBlockError:function(){return new AdBlockError_1.default}};exports.default=util},8971:()=>{"use strict";window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[];var e=window.pbjs=window.pbjs||{};e.cmd=e.cmd||[],window.sbmCmd=window.sbmCmd||[],window._sbm=window._sbm||{},window.wtaCmd=window.wtaCmd||[],window.rivraddon=window.rivraddon||{}},1206:function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var i=e.getVersionPrecision(t),a=e.getVersionPrecision(n),o=Math.max(i,a),s=0,c=e.map([t,n],(function(t){var n=o-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(r&&(s=o-Math.min(i,a)),o-=1;o>=s;){if(c[0][o]>c[1][o])return 1;if(c[0][o]===c[1][o]){if(o===s)return 0;o-=1}else if(c[0][o]<c[1][o])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var i=e[n];if(t(i,n))return i}},e.assign=function(e){for(var t,n,r=e,i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];if(Object.assign)return Object.assign.apply(Object,[e].concat(a));var s=function(){var e=a[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){r[t]=e[t]}))};for(t=0,n=a.length;t<n;t+=1)s();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},a=n(18);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){}var t,n;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,n=[{key:"BROWSER_MAP",get:function(){return a.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return a.ENGINE_MAP}},{key:"OS_MAP",get:function(){return a.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return a.PLATFORMS_MAP}}],null&&o(t.prototype,null),n&&o(t,n),e}();t.default=s,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=c(n(92)),i=c(n(93)),a=c(n(94)),o=c(n(95)),s=c(n(17));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=s.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=s.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=s.default.find(a.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=s.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return s.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,i={},a=0;if(Object.keys(e).forEach((function(t){var o=e[t];"string"==typeof o?(i[t]=o,a+=1):"object"==typeof o&&(n[t]=o,r+=1)})),r>0){var o=Object.keys(n),c=s.default.find(o,(function(e){return t.isOS(e)}));if(c){var u=this.satisfies(n[c]);if(void 0!==u)return u}var d=s.default.find(o,(function(e){return t.isPlatform(e)}));if(d){var l=this.satisfies(n[d]);if(void 0!==l)return l}}if(a>0){var f=Object.keys(i),p=s.default.find(f,(function(e){return t.isBrowser(e,!0)}));if(void 0!==p)return this.compareVersion(i[p])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),i=s.default.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(s.default.compareVersions(i,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e){return this.isBrowser(e)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=u,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},a=/version\/(\d+(\.?_?\d+)+)/i,o=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=o,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},a=n(18),o=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:a.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:a.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=i.default.getWindowsVersionName(t);return{name:a.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?) Version\//],describe:function(e){var t=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return{name:a.OS_MAP.iOS,version:t}}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=i.default.getMacOSVersionName(t),r={name:a.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:a.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=i.default.getAndroidVersionName(t),r={name:a.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:a.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:a.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:a.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:a.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:a.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:a.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:a.OS_MAP.PlayStation4,version:t}}}];t.default=o,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},a=n(18),o=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:a.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?) Version\//],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:a.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:a.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:a.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:a.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:a.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.tv}}}];t.default=o,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},a=n(18),o=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:a.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:a.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:a.ENGINE_MAP.Trident},n=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:a.ENGINE_MAP.Presto},n=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:a.ENGINE_MAP.Gecko},n=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:a.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:a.ENGINE_MAP.WebKit},n=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=o,e.exports=t.default}})},4098:function(e,t){var n=function(e){function t(){this.fetch=!1,this.DOMException=e.DOMException}return t.prototype=e,new t}("undefined"!=typeof self?self:this);!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),a="FormData"in e,o="ArrayBuffer"in e;if(o)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function d(e){return"string"!=typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function f(e){this.map={},e instanceof f?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function m(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function g(e){var t=new FileReader,n=m(t);return t.readAsArrayBuffer(e),n}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():o&&i&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=h(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var e,t,n,r=p(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,n=m(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(E)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(e,t){e=u(e),t=d(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},f.prototype.delete=function(e){delete this.map[u(e)]},f.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},f.prototype.set=function(e,t){this.map[u(e)]=d(t)},f.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},f.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),l(e)},f.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),l(e)},f.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),l(e)},r&&(f.prototype[Symbol.iterator]=f.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function y(e,t){var n,r,i=(t=t||{}).body;if(e instanceof y){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),v.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function E(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function O(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},b.call(y.prototype),b.call(O.prototype),O.prototype.clone=function(){return new O(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},O.error=function(){var e=new O(null,{status:0,statusText:""});return e.type="error",e};var A=[301,302,303,307,308];O.redirect=function(e,t){if(-1===A.indexOf(t))throw new RangeError("Invalid status code");return new O(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function S(e,n){return new Promise((function(r,a){var o=new y(e,n);if(o.signal&&o.signal.aborted)return a(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function c(){s.abort()}s.onload=function(){var e,t,n={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new f,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;r(new O(i,n))},s.onerror=function(){a(new TypeError("Network request failed"))},s.ontimeout=function(){a(new TypeError("Network request failed"))},s.onabort=function(){a(new t.DOMException("Aborted","AbortError"))},s.open(o.method,o.url,!0),"include"===o.credentials?s.withCredentials=!0:"omit"===o.credentials&&(s.withCredentials=!1),"responseType"in s&&i&&(s.responseType="blob"),o.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),o.signal&&(o.signal.addEventListener("abort",c),s.onreadystatechange=function(){4===s.readyState&&o.signal.removeEventListener("abort",c)}),s.send(void 0===o._bodyInit?null:o._bodyInit)}))}S.polyfill=!0,e.fetch||(e.fetch=S,e.Headers=f,e.Request=y,e.Response=O),t.Headers=f,t.Request=y,t.Response=O,t.fetch=S}({})}(n),delete n.fetch.polyfill,(t=n.fetch).default=n.fetch,t.fetch=n.fetch,t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response,e.exports=t},9996:e=>{"use strict";var t=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)},n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){return!1!==t.clone&&t.isMergeableObject(e)?s((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function i(e,t,n){return e.concat(t).map((function(e){return r(e,n)}))}function a(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function o(e,t){try{return t in e}catch(e){return!1}}function s(e,n,c){(c=c||{}).arrayMerge=c.arrayMerge||i,c.isMergeableObject=c.isMergeableObject||t,c.cloneUnlessOtherwiseSpecified=r;var u=Array.isArray(n);return u===Array.isArray(e)?u?c.arrayMerge(e,n,c):function(e,t,n){var i={};return n.isMergeableObject(e)&&a(e).forEach((function(t){i[t]=r(e[t],n)})),a(t).forEach((function(a){(function(e,t){return o(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,a)||(o(e,a)&&n.isMergeableObject(t[a])?i[a]=function(e,t){if(!t.customMerge)return s;var n=t.customMerge(e);return"function"==typeof n?n:s}(a,n)(e[a],t[a],n):i[a]=r(t[a],n))})),i}(e,n,c):r(n,c)}s.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return s(e,n,t)}),{})};var c=s;e.exports=c},2445:e=>{"use strict";e.exports=function(e){var t=e.uri,n=e.name,r=e.type;this.uri=t,this.name=n,this.type=r}},804:(e,t,n)=>{"use strict";var r=n(1268);e.exports=function e(t,n,i){var a;void 0===n&&(n=""),void 0===i&&(i=r);var o=new Map;function s(e,t){var n=o.get(t);n?n.push.apply(n,e):o.set(t,e)}if(i(t))a=null,s([n],t);else{var c=n?n+".":"";if("undefined"!=typeof FileList&&t instanceof FileList)a=Array.prototype.map.call(t,(function(e,t){return s([""+c+t],e),null}));else if(Array.isArray(t))a=t.map((function(t,n){var r=e(t,""+c+n,i);return r.files.forEach(s),r.clone}));else if(t&&t.constructor===Object)for(var u in a={},t){var d=e(t[u],""+c+u,i);d.files.forEach(s),a[u]=d.clone}else a=t}return{clone:a,files:o}}},4823:(e,t,n)=>{"use strict";t.ReactNativeFile=n(2445),t.extractFiles=n(804),t.isExtractableFile=n(1268)},1268:(e,t,n)=>{"use strict";var r=n(2445);e.exports=function(e){return"undefined"!=typeof File&&e instanceof File||"undefined"!=typeof Blob&&e instanceof Blob||e instanceof r}},8458:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(4823),a=r(n(3458)),o=function(e){return i.isExtractableFile(e)||null!==e&&"object"==typeof e&&"function"==typeof e.pipe};t.default=function(e,t){var n=i.extractFiles({query:e,variables:t},"",o),r=n.clone,s=n.files;if(0===s.size)return JSON.stringify(r);var c=new("undefined"==typeof FormData?a.default:FormData);c.append("operations",JSON.stringify(r));var u={},d=0;return s.forEach((function(e){u[++d]=e})),c.append("map",JSON.stringify(u)),d=0,s.forEach((function(e,t){c.append(""+ ++d,t)})),c}},8687:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.gql=t.request=t.rawRequest=t.GraphQLClient=t.ClientError=void 0;var c=s(n(4098)),u=n(3033),d=s(n(8458)),l=n(8308),f=n(8308);Object.defineProperty(t,"ClientError",{enumerable:!0,get:function(){return f.ClientError}});var p=function(e){var t={};return e&&(e instanceof Headers?t=function(e){var t={};return e.forEach((function(e,n){t[n]=e})),t}(e):e instanceof Array?e.forEach((function(e){var n=e[0],r=e[1];t[n]=r})):t=e),t},m=function(){function e(e,t){this.url=e,this.options=t||{}}return e.prototype.rawRequest=function(e,t){return i(this,void 0,void 0,(function(){var n,i,s,u,f,m,g,b,v;return a(this,(function(a){switch(a.label){case 0:return n=this.options,i=n.headers,s=o(n,["headers"]),u=d.default(e,t),i=p(i),[4,c.default(this.url,r({method:"POST",headers:r(r({},"string"==typeof u?{"Content-Type":"application/json"}:{}),i),body:u},s))];case 1:return[4,h(f=a.sent())];case 2:if(m=a.sent(),f.ok&&!m.errors&&m.data)return g=f.headers,b=f.status,[2,r(r({},m),{headers:g,status:b})];throw v="string"==typeof m?{error:m}:m,new l.ClientError(r(r({},v),{status:f.status,headers:f.headers}),{query:e,variables:t})}}))}))},e.prototype.request=function(e,t){return i(this,void 0,void 0,(function(){var n,i,s,f,m,g,b,v;return a(this,(function(a){switch(a.label){case 0:return n=this.options,i=n.headers,s=o(n,["headers"]),i=p(i),f=function(e){return"string"==typeof e?e:u.print(e)}(e),m=d.default(f,t),[4,c.default(this.url,r({method:"POST",headers:r(r({},"string"==typeof m?{"Content-Type":"application/json"}:{}),i),body:m},s))];case 1:return[4,h(g=a.sent())];case 2:if(b=a.sent(),g.ok&&!b.errors&&b.data)return[2,b.data];throw v="string"==typeof b?{error:b}:b,new l.ClientError(r(r({},v),{status:g.status}),{query:f,variables:t})}}))}))},e.prototype.setHeaders=function(e){return this.options.headers=e,this},e.prototype.setHeader=function(e,t){var n,r=this.options.headers;return r?r[e]=t:this.options.headers=((n={})[e]=t,n),this},e}();function g(e,t,n){return i(this,void 0,void 0,(function(){return a(this,(function(r){return[2,new m(e).request(t,n)]}))}))}function h(e){var t=e.headers.get("Content-Type");return t&&t.startsWith("application/json")?e.json():e.text()}t.GraphQLClient=m,t.rawRequest=function(e,t,n){return i(this,void 0,void 0,(function(){return a(this,(function(r){return[2,new m(e).rawRequest(t,n)]}))}))},t.request=g,t.default=g,t.gql=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.reduce((function(e,n,r){return""+e+n+(r in t?t[r]:"")}),"")}},8308:function(e,t){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ClientError=void 0;var i=function(e){function t(n,r){var i=this,a=t.extractMessage(n)+": "+JSON.stringify({response:n,request:r});return i=e.call(this,a)||this,Object.setPrototypeOf(i,t.prototype),i.response=n,i.request=r,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(i,t),i}return r(t,e),t.extractMessage=function(e){try{return e.errors[0].message}catch(t){return"GraphQL Error (Code: "+e.status+")"}},t}(Error);t.ClientError=i},3458:e=>{e.exports="object"==typeof self?self.FormData:window.FormData},972:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.prototype.toJSON;"function"==typeof t||(0,r.default)(0),e.prototype.inspect=t,i.default&&(e.prototype[i.default]=t)};var r=a(n(7706)),i=a(n(8554));function a(e){return e&&e.__esModule?e:{default:e}}},8002:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return o(e,[])};var r,i=(r=n(8554))&&r.__esModule?r:{default:r};function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,t){switch(a(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var n=[].concat(t,[e]),r=function(e){var t=e[String(i.default)];return"function"==typeof t?t:"function"==typeof e.inspect?e.inspect:void 0}(e);if(void 0!==r){var a=r.call(e);if(a!==e)return"string"==typeof a?a:o(a,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";for(var n=Math.min(10,e.length),r=e.length-n,i=[],a=0;a<n;++a)i.push(o(e[a],t));return 1===r?i.push("... 1 more item"):r>1&&i.push("... ".concat(r," more items")),"["+i.join(", ")+"]"}(e,n);return function(e,t){var n=Object.keys(e);return 0===n.length?"{}":t.length>2?"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var n=e.constructor.name;if("string"==typeof n&&""!==n)return n}return t}(e)+"]":"{ "+n.map((function(n){return n+": "+o(e[n],t)})).join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}},7706:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}},8554:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;t.default=n},1807:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNode=function(e){return null!=e&&"string"==typeof e.kind},t.Token=t.Location=void 0;var r,i=(r=n(972))&&r.__esModule?r:{default:r},a=function(){function e(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}return e.prototype.toJSON=function(){return{start:this.start,end:this.end}},e}();t.Location=a,(0,i.default)(a);var o=function(){function e(e,t,n,r,i,a,o){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=i,this.value=o,this.prev=a,this.next=null}return e.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();t.Token=o,(0,i.default)(o)},849:(e,t)=>{"use strict";function n(e){for(var t=null,n=1;n<e.length;n++){var i=e[n],a=r(i);if(a!==i.length&&(null===t||a<t)&&0===(t=a))break}return null===t?0:t}function r(e){for(var t=0;t<e.length&&(" "===e[t]||"\t"===e[t]);)t++;return t}function i(e){return r(e)===e.length}Object.defineProperty(t,"__esModule",{value:!0}),t.dedentBlockStringValue=function(e){var t=e.split(/\r\n|[\n\r]/g),r=n(t);if(0!==r)for(var a=1;a<t.length;a++)t[a]=t[a].slice(r);for(;t.length>0&&i(t[0]);)t.shift();for(;t.length>0&&i(t[t.length-1]);)t.pop();return t.join("\n")},t.getBlockStringIndentation=n,t.printBlockString=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1===e.indexOf("\n"),i=" "===e[0]||"\t"===e[0],a='"'===e[e.length-1],o="\\"===e[e.length-1],s=!r||a||o||n,c="";return!s||r&&i||(c+="\n"+t),c+=t?e.replace(/\n/g,"\n"+t):e,s&&(c+="\n"),'"""'+c.replace(/"""/g,'\\"""')+'"""'}},3033:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.print=function(e){return(0,r.visit)(e,{leave:a})};var r=n(285),i=n(849),a={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return s(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,r=u("(",s(e.variableDefinitions,", "),")"),i=s(e.directives," "),a=e.selectionSet;return n||i||r||"query"!==t?s([t,s([n,r]),i,a]," "):a},VariableDefinition:function(e){var t=e.variable,n=e.type,r=e.defaultValue,i=e.directives;return t+": "+n+u(" = ",r)+u(" ",s(i," "))},SelectionSet:function(e){return c(e.selections)},Field:function(e){var t=e.alias,n=e.name,r=e.arguments,i=e.directives,a=e.selectionSet;return s([u("",t,": ")+n+u("(",s(r,", "),")"),s(i," "),a]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+u(" ",s(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,r=e.selectionSet;return s(["...",u("on ",t),s(n," "),r]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,r=e.variableDefinitions,i=e.directives,a=e.selectionSet;return"fragment ".concat(t).concat(u("(",s(r,", "),")")," ")+"on ".concat(n," ").concat(u("",s(i," ")," "))+a},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?(0,i.printBlockString)(n,"description"===t?"":"  "):JSON.stringify(n)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+s(e.values,", ")+"]"},ObjectValue:function(e){return"{"+s(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+u("(",s(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:o((function(e){var t=e.directives,n=e.operationTypes;return s(["schema",s(t," "),c(n)]," ")})),OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:o((function(e){return s(["scalar",e.name,s(e.directives," ")]," ")})),ObjectTypeDefinition:o((function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return s(["type",t,u("implements ",s(n," & ")),s(r," "),c(i)]," ")})),FieldDefinition:o((function(e){var t=e.name,n=e.arguments,r=e.type,i=e.directives;return t+(f(n)?u("(\n",d(s(n,"\n")),"\n)"):u("(",s(n,", "),")"))+": "+r+u(" ",s(i," "))})),InputValueDefinition:o((function(e){var t=e.name,n=e.type,r=e.defaultValue,i=e.directives;return s([t+": "+n,u("= ",r),s(i," ")]," ")})),InterfaceTypeDefinition:o((function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return s(["interface",t,u("implements ",s(n," & ")),s(r," "),c(i)]," ")})),UnionTypeDefinition:o((function(e){var t=e.name,n=e.directives,r=e.types;return s(["union",t,s(n," "),r&&0!==r.length?"= "+s(r," | "):""]," ")})),EnumTypeDefinition:o((function(e){var t=e.name,n=e.directives,r=e.values;return s(["enum",t,s(n," "),c(r)]," ")})),EnumValueDefinition:o((function(e){return s([e.name,s(e.directives," ")]," ")})),InputObjectTypeDefinition:o((function(e){var t=e.name,n=e.directives,r=e.fields;return s(["input",t,s(n," "),c(r)]," ")})),DirectiveDefinition:o((function(e){var t=e.name,n=e.arguments,r=e.repeatable,i=e.locations;return"directive @"+t+(f(n)?u("(\n",d(s(n,"\n")),"\n)"):u("(",s(n,", "),")"))+(r?" repeatable":"")+" on "+s(i," | ")})),SchemaExtension:function(e){var t=e.directives,n=e.operationTypes;return s(["extend schema",s(t," "),c(n)]," ")},ScalarTypeExtension:function(e){return s(["extend scalar",e.name,s(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return s(["extend type",t,u("implements ",s(n," & ")),s(r," "),c(i)]," ")},InterfaceTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return s(["extend interface",t,u("implements ",s(n," & ")),s(r," "),c(i)]," ")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,r=e.types;return s(["extend union",t,s(n," "),r&&0!==r.length?"= "+s(r," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,r=e.values;return s(["extend enum",t,s(n," "),c(r)]," ")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return s(["extend input",t,s(n," "),c(r)]," ")}};function o(e){return function(t){return s([t.description,e(t)],"\n")}}function s(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(t=null==e?void 0:e.filter((function(e){return e})).join(n))&&void 0!==t?t:""}function c(e){return e&&0!==e.length?"{\n"+d(s(e,"\n"))+"\n}":""}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return t?e+t+n:""}function d(e){return e&&"  "+e.replace(/\n/g,"\n  ")}function l(e){return-1!==e.indexOf("\n")}function f(e){return e&&e.some(l)}},285:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.visit=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,r=void 0,u=Array.isArray(e),d=[e],l=-1,f=[],p=void 0,m=void 0,g=void 0,h=[],b=[],v=e;do{var y=++l===d.length,E=y&&0!==f.length;if(y){if(m=0===b.length?void 0:h[h.length-1],p=g,g=b.pop(),E){if(u)p=p.slice();else{for(var O={},A=0,S=Object.keys(p);A<S.length;A++){var w=S[A];O[w]=p[w]}p=O}for(var _=0,I=0;I<f.length;I++){var C=f[I][0],T=f[I][1];u&&(C-=_),u&&null===T?(p.splice(C,1),_++):p[C]=T}}l=r.index,d=r.keys,f=r.edits,u=r.inArray,r=r.prev}else{if(m=g?u?l:d[l]:void 0,null==(p=g?g[m]:v))continue;g&&h.push(m)}var j,P=void 0;if(!Array.isArray(p)){if(!(0,a.isNode)(p))throw new Error("Invalid AST Node: ".concat((0,i.default)(p),"."));var k=c(t,p.kind,y);if(k){if((P=k.call(t,p,m,g,h,b))===s)break;if(!1===P){if(!y){h.pop();continue}}else if(void 0!==P&&(f.push([m,P]),!y)){if(!(0,a.isNode)(P)){h.pop();continue}p=P}}}void 0===P&&E&&f.push([m,p]),y?h.pop():(r={inArray:u,index:l,keys:d,edits:f,prev:r},d=(u=Array.isArray(p))?p:null!==(j=n[p.kind])&&void 0!==j?j:[],l=-1,f=[],g&&b.push(g),g=p)}while(void 0!==r);return 0!==f.length&&(v=f[f.length-1][1]),v},t.visitInParallel=function(e){var t=new Array(e.length);return{enter:function(n){for(var r=0;r<e.length;r++)if(null==t[r]){var i=c(e[r],n.kind,!1);if(i){var a=i.apply(e[r],arguments);if(!1===a)t[r]=n;else if(a===s)t[r]=s;else if(void 0!==a)return a}}},leave:function(n){for(var r=0;r<e.length;r++)if(null==t[r]){var i=c(e[r],n.kind,!0);if(i){var a=i.apply(e[r],arguments);if(a===s)t[r]=s;else if(void 0!==a&&!1!==a)return a}}else t[r]===n&&(t[r]=null)}}},t.getVisitFn=c,t.BREAK=t.QueryDocumentKeys=void 0;var r,i=(r=n(8002))&&r.__esModule?r:{default:r},a=n(1807),o={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]};t.QueryDocumentKeys=o;var s=Object.freeze({});function c(e,t,n){var r=e[t];if(r){if(!n&&"function"==typeof r)return r;var i=n?r.leave:r.enter;if("function"==typeof i)return i}else{var a=n?e.leave:e.enter;if(a){if("function"==typeof a)return a;var o=a[t];if("function"==typeof o)return o}}}t.BREAK=s},6808:(e,t,n)=>{var r,i,a;a=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function a(t,n,a){if("undefined"!=typeof document){"number"==typeof(a=e({path:"/"},i.defaults,a)).expires&&(a.expires=new Date(1*new Date+864e5*a.expires)),a.expires=a.expires?a.expires.toUTCString():"";try{var o=JSON.stringify(n);/^[\{\[]/.test(o)&&(n=o)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in a)a[c]&&(s+="; "+c,!0!==a[c]&&(s+="="+a[c].split(";")[0]));return document.cookie=t+"="+n+s}}function o(e,n){if("undefined"!=typeof document){for(var i={},a=document.cookie?document.cookie.split("; "):[],o=0;o<a.length;o++){var s=a[o].split("="),c=s.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var u=t(s[0]);if(c=(r.read||r)(c,u)||t(c),n)try{c=JSON.parse(c)}catch(e){}if(i[u]=c,e===u)break}catch(e){}}return e?i[e]:i}}return i.set=a,i.get=function(e){return o(e,!1)},i.getJSON=function(e){return o(e,!0)},i.remove=function(t,n){a(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}((function(){}))},void 0===(i="function"==typeof(r=a)?r.call(t,n,t,e):r)||(e.exports=i),e.exports=a()},1887:(e,t,n)=>{var r;!function(){var i;function a(e){var t,n,r,i="",a=-1;if(e&&e.length)for(r=e.length;(a+=1)<r;)t=e.charCodeAt(a),n=a+1<r?e.charCodeAt(a+1):0,55296<=t&&t<=56319&&56320<=n&&n<=57343&&(t=65536+((1023&t)<<10)+(1023&n),a+=1),t<=127?i+=String.fromCharCode(t):t<=2047?i+=String.fromCharCode(192|t>>>6&31,128|63&t):t<=65535?i+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):t<=2097151&&(i+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return i}function o(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function s(e,t){return e<<t|e>>>32-t}function c(e,t){for(var n,r=t?"0123456789ABCDEF":"0123456789abcdef",i="",a=0,o=e.length;a<o;a+=1)n=e.charCodeAt(a),i+=r.charAt(n>>>4&15)+r.charAt(15&n);return i}function u(e){var t,n=32*e.length,r="";for(t=0;t<n;t+=8)r+=String.fromCharCode(e[t>>5]>>>24-t%32&255);return r}function d(e){var t,n=32*e.length,r="";for(t=0;t<n;t+=8)r+=String.fromCharCode(e[t>>5]>>>t%32&255);return r}function l(e){var t,n=8*e.length,r=Array(e.length>>2),i=r.length;for(t=0;t<i;t+=1)r[t]=0;for(t=0;t<n;t+=8)r[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return r}function f(e){var t,n=8*e.length,r=Array(e.length>>2),i=r.length;for(t=0;t<i;t+=1)r[t]=0;for(t=0;t<n;t+=8)r[t>>5]|=(255&e.charCodeAt(t/8))<<24-t%32;return r}function p(e,t){var n,r,i,a,o,s,c,u,d=t.length,l=Array();for(a=(s=Array(Math.ceil(e.length/2))).length,n=0;n<a;n+=1)s[n]=e.charCodeAt(2*n)<<8|e.charCodeAt(2*n+1);for(;s.length>0;){for(o=Array(),i=0,n=0;n<s.length;n+=1)i=(i<<16)+s[n],i-=(r=Math.floor(i/d))*d,(o.length>0||r>0)&&(o[o.length]=r);l[l.length]=i,s=o}for(c="",n=l.length-1;n>=0;n--)c+=t.charAt(l[n]);for(u=Math.ceil(8*e.length/(Math.log(t.length)/Math.log(2))),n=c.length;n<u;n+=1)c=t[0]+c;return c}function m(e,t){var n,r,i,a="",o=e.length;for(t=t||"=",n=0;n<o;n+=3)for(i=e.charCodeAt(n)<<16|(n+1<o?e.charCodeAt(n+1)<<8:0)|(n+2<o?e.charCodeAt(n+2):0),r=0;r<4;r+=1)8*n+6*r>8*e.length?a+=t:a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(i>>>6*(3-r)&63);return a}i={VERSION:"1.0.6",Base64:function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="=",n=!0;this.encode=function(r){var i,o,s,c="",u=r.length;for(t=t||"=",r=n?a(r):r,i=0;i<u;i+=3)for(s=r.charCodeAt(i)<<16|(i+1<u?r.charCodeAt(i+1)<<8:0)|(i+2<u?r.charCodeAt(i+2):0),o=0;o<4;o+=1)c+=8*i+6*o>8*u?t:e.charAt(s>>>6*(3-o)&63);return c},this.decode=function(r){var i,a,o,s,c,u,d,l,f="",p=[];if(!r)return r;i=l=0,r=r.replace(new RegExp("\\"+t,"gi"),"");do{a=(d=e.indexOf(r.charAt(i+=1))<<18|e.indexOf(r.charAt(i+=1))<<12|(c=e.indexOf(r.charAt(i+=1)))<<6|(u=e.indexOf(r.charAt(i+=1))))>>16&255,o=d>>8&255,s=255&d,p[l+=1]=64===c?String.fromCharCode(a):64===u?String.fromCharCode(a,o):String.fromCharCode(a,o,s)}while(i<r.length);return f=p.join(""),f=n?function(e){var t,n,r,i,a,o,s=[];if(t=n=r=i=a=0,e&&e.length)for(o=e.length,e+="";t<o;)n+=1,(r=e.charCodeAt(t))<128?(s[n]=String.fromCharCode(r),t+=1):r>191&&r<224?(i=e.charCodeAt(t+1),s[n]=String.fromCharCode((31&r)<<6|63&i),t+=2):(i=e.charCodeAt(t+1),a=e.charCodeAt(t+2),s[n]=String.fromCharCode((15&r)<<12|(63&i)<<6|63&a),t+=3);return s.join("")}(f):f,f},this.setPad=function(e){return t=e||t,this},this.setTab=function(t){return e=t||e,this},this.setUTF8=function(e){return"boolean"==typeof e&&(n=e),this}},CRC32:function(e){var t,n,r,i=0,o=0;for(e=a(e),t=["00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 ","79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 ","84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F ","63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD ","A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC ","51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 ","B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 ","06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 ","E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 ","12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 ","D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 ","33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 ","CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 ","9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E ","7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D ","806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 ","60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA ","AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 ","5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 ","B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 ","05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 ","F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA ","11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 ","D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F ","30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E ","C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D"].join(""),i^=-1,n=0,r=e.length;n<r;n+=1)o=255&(i^e.charCodeAt(n)),i=i>>>8^"0x"+t.substr(9*o,8);return(-1^i)>>>0},MD5:function(e){var t=!(!e||"boolean"!=typeof e.uppercase)&&e.uppercase,n=e&&"string"==typeof e.pad?e.pad:"=",r=!e||"boolean"!=typeof e.utf8||e.utf8;function i(e){return d(f(l(e=r?a(e):e),8*e.length))}function u(e,t){var n,i,o,s,c;for(e=r?a(e):e,t=r?a(t):t,(n=l(e)).length>16&&(n=f(n,8*e.length)),i=Array(16),o=Array(16),c=0;c<16;c+=1)i[c]=909522486^n[c],o[c]=1549556828^n[c];return s=f(i.concat(l(t)),512+8*t.length),d(f(o.concat(s),640))}function f(e,t){var n,r,i,a,s,c=1732584193,u=-271733879,d=-1732584194,l=271733878;for(e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t,n=0;n<e.length;n+=16)r=c,i=u,a=d,s=l,c=h(c,u,d,l,e[n+0],7,-680876936),l=h(l,c,u,d,e[n+1],12,-389564586),d=h(d,l,c,u,e[n+2],17,606105819),u=h(u,d,l,c,e[n+3],22,-1044525330),c=h(c,u,d,l,e[n+4],7,-176418897),l=h(l,c,u,d,e[n+5],12,1200080426),d=h(d,l,c,u,e[n+6],17,-1473231341),u=h(u,d,l,c,e[n+7],22,-45705983),c=h(c,u,d,l,e[n+8],7,1770035416),l=h(l,c,u,d,e[n+9],12,-1958414417),d=h(d,l,c,u,e[n+10],17,-42063),u=h(u,d,l,c,e[n+11],22,-1990404162),c=h(c,u,d,l,e[n+12],7,1804603682),l=h(l,c,u,d,e[n+13],12,-40341101),d=h(d,l,c,u,e[n+14],17,-1502002290),c=b(c,u=h(u,d,l,c,e[n+15],22,1236535329),d,l,e[n+1],5,-165796510),l=b(l,c,u,d,e[n+6],9,-1069501632),d=b(d,l,c,u,e[n+11],14,643717713),u=b(u,d,l,c,e[n+0],20,-373897302),c=b(c,u,d,l,e[n+5],5,-701558691),l=b(l,c,u,d,e[n+10],9,38016083),d=b(d,l,c,u,e[n+15],14,-660478335),u=b(u,d,l,c,e[n+4],20,-405537848),c=b(c,u,d,l,e[n+9],5,568446438),l=b(l,c,u,d,e[n+14],9,-1019803690),d=b(d,l,c,u,e[n+3],14,-187363961),u=b(u,d,l,c,e[n+8],20,1163531501),c=b(c,u,d,l,e[n+13],5,-1444681467),l=b(l,c,u,d,e[n+2],9,-51403784),d=b(d,l,c,u,e[n+7],14,1735328473),c=v(c,u=b(u,d,l,c,e[n+12],20,-1926607734),d,l,e[n+5],4,-378558),l=v(l,c,u,d,e[n+8],11,-2022574463),d=v(d,l,c,u,e[n+11],16,1839030562),u=v(u,d,l,c,e[n+14],23,-35309556),c=v(c,u,d,l,e[n+1],4,-1530992060),l=v(l,c,u,d,e[n+4],11,1272893353),d=v(d,l,c,u,e[n+7],16,-155497632),u=v(u,d,l,c,e[n+10],23,-1094730640),c=v(c,u,d,l,e[n+13],4,681279174),l=v(l,c,u,d,e[n+0],11,-358537222),d=v(d,l,c,u,e[n+3],16,-722521979),u=v(u,d,l,c,e[n+6],23,76029189),c=v(c,u,d,l,e[n+9],4,-640364487),l=v(l,c,u,d,e[n+12],11,-421815835),d=v(d,l,c,u,e[n+15],16,530742520),c=y(c,u=v(u,d,l,c,e[n+2],23,-995338651),d,l,e[n+0],6,-198630844),l=y(l,c,u,d,e[n+7],10,1126891415),d=y(d,l,c,u,e[n+14],15,-1416354905),u=y(u,d,l,c,e[n+5],21,-57434055),c=y(c,u,d,l,e[n+12],6,1700485571),l=y(l,c,u,d,e[n+3],10,-1894986606),d=y(d,l,c,u,e[n+10],15,-1051523),u=y(u,d,l,c,e[n+1],21,-2054922799),c=y(c,u,d,l,e[n+8],6,1873313359),l=y(l,c,u,d,e[n+15],10,-30611744),d=y(d,l,c,u,e[n+6],15,-1560198380),u=y(u,d,l,c,e[n+13],21,1309151649),c=y(c,u,d,l,e[n+4],6,-145523070),l=y(l,c,u,d,e[n+11],10,-1120210379),d=y(d,l,c,u,e[n+2],15,718787259),u=y(u,d,l,c,e[n+9],21,-343485551),c=o(c,r),u=o(u,i),d=o(d,a),l=o(l,s);return Array(c,u,d,l)}function g(e,t,n,r,i,a){return o(s(o(o(t,e),o(r,a)),i),n)}function h(e,t,n,r,i,a,o){return g(t&n|~t&r,e,t,i,a,o)}function b(e,t,n,r,i,a,o){return g(t&r|n&~r,e,t,i,a,o)}function v(e,t,n,r,i,a,o){return g(t^n^r,e,t,i,a,o)}function y(e,t,n,r,i,a,o){return g(n^(t|~r),e,t,i,a,o)}this.hex=function(e){return c(i(e),t)},this.b64=function(e){return m(i(e),n)},this.any=function(e,t){return p(i(e),t)},this.raw=function(e){return i(e)},this.hex_hmac=function(e,n){return c(u(e,n),t)},this.b64_hmac=function(e,t){return m(u(e,t),n)},this.any_hmac=function(e,t,n){return p(u(e,t),n)},this.vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"===hex("abc").toLowerCase()},this.setUpperCase=function(e){return"boolean"==typeof e&&(t=e),this},this.setPad=function(e){return n=e||n,this},this.setUTF8=function(e){return"boolean"==typeof e&&(r=e),this}},SHA1:function(e){var t=!(!e||"boolean"!=typeof e.uppercase)&&e.uppercase,n=e&&"string"==typeof e.pad?e.pad:"=",r=!e||"boolean"!=typeof e.utf8||e.utf8;function i(e){return u(l(f(e=r?a(e):e),8*e.length))}function d(e,t){var n,i,o,s,c;for(e=r?a(e):e,t=r?a(t):t,(n=f(e)).length>16&&(n=l(n,8*e.length)),i=Array(16),o=Array(16),s=0;s<16;s+=1)i[s]=909522486^n[s],o[s]=1549556828^n[s];return c=l(i.concat(f(t)),512+8*t.length),u(l(o.concat(c),672))}function l(e,t){var n,r,i,a,c,u,d,l,f=Array(80),p=1732584193,m=-271733879,b=-1732584194,v=271733878,y=-1009589776;for(e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t,n=0;n<e.length;n+=16){for(a=p,c=m,u=b,d=v,l=y,r=0;r<80;r+=1)f[r]=r<16?e[n+r]:s(f[r-3]^f[r-8]^f[r-14]^f[r-16],1),i=o(o(s(p,5),g(r,m,b,v)),o(o(y,f[r]),h(r))),y=v,v=b,b=s(m,30),m=p,p=i;p=o(p,a),m=o(m,c),b=o(b,u),v=o(v,d),y=o(y,l)}return Array(p,m,b,v,y)}function g(e,t,n,r){return e<20?t&n|~t&r:e<40?t^n^r:e<60?t&n|t&r|n&r:t^n^r}function h(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}this.hex=function(e){return c(i(e),t)},this.b64=function(e){return m(i(e),n)},this.any=function(e,t){return p(i(e),t)},this.raw=function(e){return i(e)},this.hex_hmac=function(e,t){return c(d(e,t))},this.b64_hmac=function(e,t){return m(d(e,t),n)},this.any_hmac=function(e,t,n){return p(d(e,t),n)},this.vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"===hex("abc").toLowerCase()},this.setUpperCase=function(e){return"boolean"==typeof e&&(t=e),this},this.setPad=function(e){return n=e||n,this},this.setUTF8=function(e){return"boolean"==typeof e&&(r=e),this}},SHA256:function(e){e&&"boolean"==typeof e.uppercase&&e.uppercase;var t,n=e&&"string"==typeof e.pad?e.pad:"=",r=!e||"boolean"!=typeof e.utf8||e.utf8;function i(e,t){return u(E(f(e=t?a(e):e),8*e.length))}function s(e,t){e=r?a(e):e,t=r?a(t):t;var n,i=0,o=f(e),s=Array(16),c=Array(16);for(o.length>16&&(o=E(o,8*e.length));i<16;i+=1)s[i]=909522486^o[i],c[i]=1549556828^o[i];return n=E(s.concat(f(t)),512+8*t.length),u(E(c.concat(n),768))}function d(e,t){return e>>>t|e<<32-t}function l(e,t){return e>>>t}function g(e,t,n){return e&t^~e&n}function h(e,t,n){return e&t^e&n^t&n}function b(e){return d(e,2)^d(e,13)^d(e,22)}function v(e){return d(e,6)^d(e,11)^d(e,25)}function y(e){return d(e,7)^d(e,18)^l(e,3)}function E(e,n){var r,i,a,s,c,u,f,p,m,E,O,A,S,w=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],_=new Array(64);for(e[n>>5]|=128<<24-n%32,e[15+(n+64>>9<<4)]=n,m=0;m<e.length;m+=16){for(r=w[0],i=w[1],a=w[2],s=w[3],c=w[4],u=w[5],f=w[6],p=w[7],E=0;E<64;E+=1)_[E]=E<16?e[E+m]:o(o(o(d(S=_[E-2],17)^d(S,19)^l(S,10),_[E-7]),y(_[E-15])),_[E-16]),O=o(o(o(o(p,v(c)),g(c,u,f)),t[E]),_[E]),A=o(b(r),h(r,i,a)),p=f,f=u,u=c,c=o(s,O),s=a,a=i,i=r,r=o(O,A);w[0]=o(r,w[0]),w[1]=o(i,w[1]),w[2]=o(a,w[2]),w[3]=o(s,w[3]),w[4]=o(c,w[4]),w[5]=o(u,w[5]),w[6]=o(f,w[6]),w[7]=o(p,w[7])}return w}this.hex=function(e){return c(i(e,r))},this.b64=function(e){return m(i(e,r),n)},this.any=function(e,t){return p(i(e,r),t)},this.raw=function(e){return i(e,r)},this.hex_hmac=function(e,t){return c(s(e,t))},this.b64_hmac=function(e,t){return m(s(e,t),n)},this.any_hmac=function(e,t,n){return p(s(e,t),n)},this.vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"===hex("abc").toLowerCase()},this.setUpperCase=function(e){return this},this.setPad=function(e){return n=e||n,this},this.setUTF8=function(e){return"boolean"==typeof e&&(r=e),this},t=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998]},SHA512:function(e){e&&"boolean"==typeof e.uppercase&&e.uppercase;var t,n=e&&"string"==typeof e.pad?e.pad:"=",r=!e||"boolean"!=typeof e.utf8||e.utf8;function i(e){return u(s(f(e=r?a(e):e),8*e.length))}function o(e,t){e=r?a(e):e,t=r?a(t):t;var n,i=0,o=f(e),c=Array(32),d=Array(32);for(o.length>32&&(o=s(o,8*e.length));i<32;i+=1)c[i]=909522486^o[i],d[i]=1549556828^o[i];return n=s(c.concat(f(t)),1024+8*t.length),u(s(d.concat(n),1536))}function s(e,n){var r,i,a,o=new Array(80),s=new Array(16),c=[new d(1779033703,-205731576),new d(-1150833019,-2067093701),new d(1013904242,-23791573),new d(-1521486534,1595750129),new d(1359893119,-1377402159),new d(-1694144372,725511199),new d(528734635,-79577749),new d(1541459225,327033209)],u=new d(0,0),f=new d(0,0),p=new d(0,0),m=new d(0,0),O=new d(0,0),A=new d(0,0),S=new d(0,0),w=new d(0,0),_=new d(0,0),I=new d(0,0),C=new d(0,0),T=new d(0,0),j=new d(0,0),P=new d(0,0),k=new d(0,0),x=new d(0,0),N=new d(0,0);for(void 0===t&&(t=[new d(1116352408,-685199838),new d(1899447441,602891725),new d(-1245643825,-330482897),new d(-373957723,-2121671748),new d(961987163,-213338824),new d(1508970993,-1241133031),new d(-1841331548,-1357295717),new d(-1424204075,-630357736),new d(-670586216,-1560083902),new d(310598401,1164996542),new d(607225278,1323610764),new d(1426881987,-704662302),new d(1925078388,-226784913),new d(-2132889090,991336113),new d(-1680079193,633803317),new d(-1046744716,-815192428),new d(-459576895,-1628353838),new d(-272742522,944711139),new d(264347078,-1953704523),new d(604807628,2007800933),new d(770255983,1495990901),new d(1249150122,1856431235),new d(1555081692,-1119749164),new d(1996064986,-2096016459),new d(-1740746414,-295247957),new d(-1473132947,766784016),new d(-1341970488,-1728372417),new d(-1084653625,-1091629340),new d(-958395405,1034457026),new d(-710438585,-1828018395),new d(113926993,-536640913),new d(338241895,168717936),new d(666307205,1188179964),new d(773529912,1546045734),new d(1294757372,1522805485),new d(1396182291,-1651133473),new d(1695183700,-1951439906),new d(1986661051,1014477480),new d(-2117940946,1206759142),new d(-1838011259,344077627),new d(-1564481375,1290863460),new d(-1474664885,-1136513023),new d(-1035236496,-789014639),new d(-949202525,106217008),new d(-778901479,-688958952),new d(-694614492,1432725776),new d(-200395387,1467031594),new d(275423344,851169720),new d(430227734,-1194143544),new d(506948616,1363258195),new d(659060556,-544281703),new d(883997877,-509917016),new d(958139571,-976659869),new d(1322822218,-482243893),new d(1537002063,2003034995),new d(1747873779,-692930397),new d(1955562222,1575990012),new d(2024104815,1125592928),new d(-2067236844,-1578062990),new d(-1933114872,442776044),new d(-1866530822,593698344),new d(-1538233109,-561857047),new d(-1090935817,-1295615723),new d(-965641998,-479046869),new d(-903397682,-366583396),new d(-779700025,566280711),new d(-354779690,-840897762),new d(-176337025,-294727304),new d(116418474,1914138554),new d(174292421,-1563912026),new d(289380356,-1090974290),new d(460393269,320620315),new d(685471733,587496836),new d(852142971,1086792851),new d(1017036298,365543100),new d(1126000580,-1676669620),new d(1288033470,-885112138),new d(1501505948,-60457430),new d(1607167915,987167468),new d(1816402316,1246189591)]),i=0;i<80;i+=1)o[i]=new d(0,0);for(e[n>>5]|=128<<24-(31&n),e[31+(n+128>>10<<5)]=n,a=e.length,i=0;i<a;i+=32){for(l(p,c[0]),l(m,c[1]),l(O,c[2]),l(A,c[3]),l(S,c[4]),l(w,c[5]),l(_,c[6]),l(I,c[7]),r=0;r<16;r+=1)o[r].h=e[i+2*r],o[r].l=e[i+2*r+1];for(r=16;r<80;r+=1)g(k,o[r-2],19),h(x,o[r-2],29),b(N,o[r-2],6),T.l=k.l^x.l^N.l,T.h=k.h^x.h^N.h,g(k,o[r-15],1),g(x,o[r-15],8),b(N,o[r-15],7),C.l=k.l^x.l^N.l,C.h=k.h^x.h^N.h,y(o[r],T,o[r-7],C,o[r-16]);for(r=0;r<80;r+=1)j.l=S.l&w.l^~S.l&_.l,j.h=S.h&w.h^~S.h&_.h,g(k,S,14),g(x,S,18),h(N,S,9),T.l=k.l^x.l^N.l,T.h=k.h^x.h^N.h,g(k,p,28),h(x,p,2),h(N,p,7),C.l=k.l^x.l^N.l,C.h=k.h^x.h^N.h,P.l=p.l&m.l^p.l&O.l^m.l&O.l,P.h=p.h&m.h^p.h&O.h^m.h&O.h,E(u,I,T,j,t[r],o[r]),v(f,C,P),l(I,_),l(_,w),l(w,S),v(S,A,u),l(A,O),l(O,m),l(m,p),v(p,u,f);v(c[0],c[0],p),v(c[1],c[1],m),v(c[2],c[2],O),v(c[3],c[3],A),v(c[4],c[4],S),v(c[5],c[5],w),v(c[6],c[6],_),v(c[7],c[7],I)}for(i=0;i<8;i+=1)s[2*i]=c[i].h,s[2*i+1]=c[i].l;return s}function d(e,t){this.h=e,this.l=t}function l(e,t){e.h=t.h,e.l=t.l}function g(e,t,n){e.l=t.l>>>n|t.h<<32-n,e.h=t.h>>>n|t.l<<32-n}function h(e,t,n){e.l=t.h>>>n|t.l<<32-n,e.h=t.l>>>n|t.h<<32-n}function b(e,t,n){e.l=t.l>>>n|t.h<<32-n,e.h=t.h>>>n}function v(e,t,n){var r=(65535&t.l)+(65535&n.l),i=(t.l>>>16)+(n.l>>>16)+(r>>>16),a=(65535&t.h)+(65535&n.h)+(i>>>16),o=(t.h>>>16)+(n.h>>>16)+(a>>>16);e.l=65535&r|i<<16,e.h=65535&a|o<<16}function y(e,t,n,r,i){var a=(65535&t.l)+(65535&n.l)+(65535&r.l)+(65535&i.l),o=(t.l>>>16)+(n.l>>>16)+(r.l>>>16)+(i.l>>>16)+(a>>>16),s=(65535&t.h)+(65535&n.h)+(65535&r.h)+(65535&i.h)+(o>>>16),c=(t.h>>>16)+(n.h>>>16)+(r.h>>>16)+(i.h>>>16)+(s>>>16);e.l=65535&a|o<<16,e.h=65535&s|c<<16}function E(e,t,n,r,i,a){var o=(65535&t.l)+(65535&n.l)+(65535&r.l)+(65535&i.l)+(65535&a.l),s=(t.l>>>16)+(n.l>>>16)+(r.l>>>16)+(i.l>>>16)+(a.l>>>16)+(o>>>16),c=(65535&t.h)+(65535&n.h)+(65535&r.h)+(65535&i.h)+(65535&a.h)+(s>>>16),u=(t.h>>>16)+(n.h>>>16)+(r.h>>>16)+(i.h>>>16)+(a.h>>>16)+(c>>>16);e.l=65535&o|s<<16,e.h=65535&c|u<<16}this.hex=function(e){return c(i(e))},this.b64=function(e){return m(i(e),n)},this.any=function(e,t){return p(i(e),t)},this.raw=function(e){return i(e)},this.hex_hmac=function(e,t){return c(o(e,t))},this.b64_hmac=function(e,t){return m(o(e,t),n)},this.any_hmac=function(e,t,n){return p(o(e,t),n)},this.vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"===hex("abc").toLowerCase()},this.setUpperCase=function(e){return this},this.setPad=function(e){return n=e||n,this},this.setUTF8=function(e){return"boolean"==typeof e&&(r=e),this}},RMD160:function(e){e&&"boolean"==typeof e.uppercase&&e.uppercase;var t=e&&"string"==typeof e.pad?e.pa:"=",n=!e||"boolean"!=typeof e.utf8||e.utf8,r=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],i=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],u=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],d=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];function f(e){return h(b(l(e=n?a(e):e),8*e.length))}function g(e,t){e=n?a(e):e,t=n?a(t):t;var r,i,o=l(e),s=Array(16),c=Array(16);for(o.length>16&&(o=b(o,8*e.length)),r=0;r<16;r+=1)s[r]=909522486^o[r],c[r]=1549556828^o[r];return i=b(s.concat(l(t)),512+8*t.length),h(b(c.concat(i),672))}function h(e){var t,n="",r=32*e.length;for(t=0;t<r;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function b(e,t){var n,a,c,l,f,p,m,g,h,b,O,A,S,w,_=1732584193,I=4023233417,C=2562383102,T=271733878,j=3285377520;for(e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t,l=e.length,c=0;c<l;c+=16){for(f=b=_,p=O=I,m=A=C,g=S=T,h=w=j,a=0;a<=79;a+=1)n=o(f,v(a,p,m,g)),n=o(n,e[c+r[a]]),n=o(n,y(a)),n=o(s(n,u[a]),h),f=h,h=g,g=s(m,10),m=p,p=n,n=o(b,v(79-a,O,A,S)),n=o(n,e[c+i[a]]),n=o(n,E(a)),n=o(s(n,d[a]),w),b=w,w=S,S=s(A,10),A=O,O=n;n=o(I,o(m,S)),I=o(C,o(g,w)),C=o(T,o(h,b)),T=o(j,o(f,O)),j=o(_,o(p,A)),_=n}return[_,I,C,T,j]}function v(e,t,n,r){return 0<=e&&e<=15?t^n^r:16<=e&&e<=31?t&n|~t&r:32<=e&&e<=47?(t|~n)^r:48<=e&&e<=63?t&r|n&~r:64<=e&&e<=79?t^(n|~r):"rmd160_f: j out of range"}function y(e){return 0<=e&&e<=15?0:16<=e&&e<=31?1518500249:32<=e&&e<=47?1859775393:48<=e&&e<=63?2400959708:64<=e&&e<=79?2840853838:"rmd160_K1: j out of range"}function E(e){return 0<=e&&e<=15?1352829926:16<=e&&e<=31?1548603684:32<=e&&e<=47?1836072691:48<=e&&e<=63?2053994217:64<=e&&e<=79?0:"rmd160_K2: j out of range"}this.hex=function(e){return c(f(e))},this.b64=function(e){return m(f(e),t)},this.any=function(e,t){return p(f(e),t)},this.raw=function(e){return f(e)},this.hex_hmac=function(e,t){return c(g(e,t))},this.b64_hmac=function(e,n){return m(g(e,n),t)},this.any_hmac=function(e,t,n){return p(g(e,t),n)},this.vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"===hex("abc").toLowerCase()},this.setUpperCase=function(e){return this},this.setPad=function(e){return void 0!==e&&(t=e),this},this.setUTF8=function(e){return"boolean"==typeof e&&(n=e),this}}},t&&"object"==typeof n.g&&n.g&&n.g===n.g.global&&n.g,void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)}()},7044:(e,t,n)=>{var r,i=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,a=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,o="a-z\\xdf-\\xf6\\xf8-\\xff",s="A-Z\\xc0-\\xd6\\xd8-\\xde",c="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",u="["+c+"]",d="\\d+",l="["+o+"]",f="[^\\ud800-\\udfff"+c+d+"\\u2700-\\u27bf"+o+s+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",g="["+s+"]",h="(?:"+l+"|"+f+")",b="(?:"+g+"|"+f+")",v="(?:['](?:d|ll|m|re|s|t|ve))?",y="(?:['](?:D|LL|M|RE|S|T|VE))?",E="(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?",O="[\\ufe0e\\ufe0f]?",A=O+E+"(?:\\u200d(?:"+["[^\\ud800-\\udfff]",p,m].join("|")+")"+O+E+")*",S="(?:"+["[\\u2700-\\u27bf]",p,m].join("|")+")"+A,w=RegExp("[']","g"),_=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]","g"),I=RegExp([g+"?"+l+"+"+v+"(?="+[u,g,"$"].join("|")+")",b+"+"+y+"(?="+[u,g+h,"$"].join("|")+")",g+"?"+h+"+"+v,g+"+"+y,d,S].join("|"),"g"),C=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,T="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,j="object"==typeof self&&self&&self.Object===Object&&self,P=T||j||Function("return this")(),k=(r={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"ss"},function(e){return null==r?void 0:r[e]}),x=Object.prototype.toString,N=P.Symbol,D=N?N.prototype:void 0,R=D?D.toString:void 0;function M(e){return null==e?"":function(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==x.call(e)}(e))return R?R.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}var B,U=(B=function(e,t,n){return e+(n?"_":"")+t.toLowerCase()},function(e){return function(e,t,n,r){for(var i=-1,a=e?e.length:0;++i<a;)n=t(n,e[i],i,e);return n}(function(e,t,n){return e=M(e),void 0===(t=t)?function(e){return C.test(e)}(e)?function(e){return e.match(I)||[]}(e):function(e){return e.match(i)||[]}(e):e.match(t)||[]}(function(e){return(e=M(e))&&e.replace(a,k).replace(_,"")}(e).replace(w,"")),B,"")});e.exports=U},7129:(e,t)=>{"use strict";var n=Object.prototype.hasOwnProperty;function r(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function i(e){try{return encodeURIComponent(e)}catch(e){return null}}t.stringify=function(e,t){t=t||"";var r,a,o=[];for(a in"string"!=typeof t&&(t="?"),e)if(n.call(e,a)){if((r=e[a])||null!=r&&!isNaN(r)||(r=""),a=i(a),r=i(r),null===a||null===r)continue;o.push(a+"="+r)}return o.length?t+o.join("&"):""},t.parse=function(e){for(var t,n=/([^=?#&]+)=?([^&]*)/g,i={};t=n.exec(e);){var a=r(t[1]),o=r(t[2]);null===a||null===o||a in i||(i[a]=o)}return i}},7418:e=>{"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},905:function(e,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)},r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){if("object"==typeof e&&null!==e){if("function"==typeof Object.getPrototypeOf){var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}return"[object Object]"===Object.prototype.toString.call(e)}return!1},o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.reduce((function(e,t){return Object.keys(t).forEach((function(n){Array.isArray(e[n])&&Array.isArray(t[n])?e[n]=o.options.mergeArrays?Array.from(new Set(e[n].concat(t[n]))):t[n]:a(e[n])&&a(t[n])?e[n]=o(e[n],t[n]):e[n]=t[n]})),e}),{})},s={mergeArrays:!0};o.options=s,o.withOptions=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];o.options=n({mergeArrays:!0},e);var c=o.apply(void 0,i([],r(t),!1));return o.options=s,c},t.default=o},4564:(e,t,n)=>{"use strict";var r=n(7418),i=n(7129),a=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,o=/[\n\r\t]/g,s=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,c=/:\d+$/,u=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,d=/^[a-zA-Z]:/;function l(e){return(e||"").toString().replace(a,"")}var f=[["#","hash"],["?","query"],function(e,t){return g(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],p={hash:1,query:1};function m(e){var t,r=("undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{}).location||{},i={},a=typeof(e=e||r);if("blob:"===e.protocol)i=new b(unescape(e.pathname),{});else if("string"===a)for(t in i=new b(e,{}),p)delete i[t];else if("object"===a){for(t in e)t in p||(i[t]=e[t]);void 0===i.slashes&&(i.slashes=s.test(e.href))}return i}function g(e){return"file:"===e||"ftp:"===e||"http:"===e||"https:"===e||"ws:"===e||"wss:"===e}function h(e,t){e=(e=l(e)).replace(o,""),t=t||{};var n,r=u.exec(e),i=r[1]?r[1].toLowerCase():"",a=!!r[2],s=!!r[3],c=0;return a?s?(n=r[2]+r[3]+r[4],c=r[2].length+r[3].length):(n=r[2]+r[4],c=r[2].length):s?(n=r[3]+r[4],c=r[3].length):n=r[4],"file:"===i?c>=2&&(n=n.slice(2)):g(i)?n=r[4]:i?a&&(n=n.slice(2)):c>=2&&g(t.protocol)&&(n=r[4]),{protocol:i,slashes:a||g(i),slashesCount:c,rest:n}}function b(e,t,n){if(e=(e=l(e)).replace(o,""),!(this instanceof b))return new b(e,t,n);var a,s,c,u,p,v,y=f.slice(),E=typeof t,O=this,A=0;for("object"!==E&&"string"!==E&&(n=t,t=null),n&&"function"!=typeof n&&(n=i.parse),a=!(s=h(e||"",t=m(t))).protocol&&!s.slashes,O.slashes=s.slashes||a&&t.slashes,O.protocol=s.protocol||t.protocol||"",e=s.rest,("file:"===s.protocol&&(2!==s.slashesCount||d.test(e))||!s.slashes&&(s.protocol||s.slashesCount<2||!g(O.protocol)))&&(y[3]=[/(.*)/,"pathname"]);A<y.length;A++)"function"!=typeof(u=y[A])?(c=u[0],v=u[1],c!=c?O[v]=e:"string"==typeof c?~(p="@"===c?e.lastIndexOf(c):e.indexOf(c))&&("number"==typeof u[2]?(O[v]=e.slice(0,p),e=e.slice(p+u[2])):(O[v]=e.slice(p),e=e.slice(0,p))):(p=c.exec(e))&&(O[v]=p[1],e=e.slice(0,p.index)),O[v]=O[v]||a&&u[3]&&t[v]||"",u[4]&&(O[v]=O[v].toLowerCase())):e=u(e,O);n&&(O.query=n(O.query)),a&&t.slashes&&"/"!==O.pathname.charAt(0)&&(""!==O.pathname||""!==t.pathname)&&(O.pathname=function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,i=n[r-1],a=!1,o=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),o++):o&&(0===r&&(a=!0),n.splice(r,1),o--);return a&&n.unshift(""),"."!==i&&".."!==i||n.push(""),n.join("/")}(O.pathname,t.pathname)),"/"!==O.pathname.charAt(0)&&g(O.protocol)&&(O.pathname="/"+O.pathname),r(O.port,O.protocol)||(O.host=O.hostname,O.port=""),O.username=O.password="",O.auth&&(~(p=O.auth.indexOf(":"))?(O.username=O.auth.slice(0,p),O.username=encodeURIComponent(decodeURIComponent(O.username)),O.password=O.auth.slice(p+1),O.password=encodeURIComponent(decodeURIComponent(O.password))):O.username=encodeURIComponent(decodeURIComponent(O.auth)),O.auth=O.password?O.username+":"+O.password:O.username),O.origin="file:"!==O.protocol&&g(O.protocol)&&O.host?O.protocol+"//"+O.host:"null",O.href=O.toString()}b.prototype={set:function(e,t,n){var a=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||i.parse)(t)),a[e]=t;break;case"port":a[e]=t,r(t,a.protocol)?t&&(a.host=a.hostname+":"+t):(a.host=a.hostname,a[e]="");break;case"hostname":a[e]=t,a.port&&(t+=":"+a.port),a.host=t;break;case"host":a[e]=t,c.test(t)?(t=t.split(":"),a.port=t.pop(),a.hostname=t.join(":")):(a.hostname=t,a.port="");break;case"protocol":a.protocol=t.toLowerCase(),a.slashes=!n;break;case"pathname":case"hash":if(t){var o="pathname"===e?"/":"#";a[e]=t.charAt(0)!==o?o+t:t}else a[e]=t;break;case"username":case"password":a[e]=encodeURIComponent(t);break;case"auth":var s=t.indexOf(":");~s?(a.username=t.slice(0,s),a.username=encodeURIComponent(decodeURIComponent(a.username)),a.password=t.slice(s+1),a.password=encodeURIComponent(decodeURIComponent(a.password))):a.username=encodeURIComponent(decodeURIComponent(t))}for(var u=0;u<f.length;u++){var d=f[u];d[4]&&(a[d[1]]=a[d[1]].toLowerCase())}return a.auth=a.password?a.username+":"+a.password:a.username,a.origin="file:"!==a.protocol&&g(a.protocol)&&a.host?a.protocol+"//"+a.host:"null",a.href=a.toString(),a},toString:function(e){e&&"function"==typeof e||(e=i.stringify);var t,n=this,r=n.host,a=n.protocol;a&&":"!==a.charAt(a.length-1)&&(a+=":");var o=a+(n.protocol&&n.slashes||g(n.protocol)?"//":"");return n.username?(o+=n.username,n.password&&(o+=":"+n.password),o+="@"):n.password?(o+=":"+n.password,o+="@"):"file:"!==n.protocol&&g(n.protocol)&&!r&&"/"!==n.pathname&&(o+="@"),(":"===r[r.length-1]||c.test(n.hostname)&&!n.port)&&(r+=":"),o+=r+n.pathname,(t="object"==typeof n.query?e(n.query):n.query)&&(o+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(o+=n.hash),o}},b.extractProtocol=h,b.location=m,b.trimLeft=l,b.qs=i,e.exports=b}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}();var __webpack_exports__={};(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}!function(e){var t=window.pbjsChunk;window.pbjsChunk=function(n,a,o){for(var s,c,u,d=0,l=[];d<n.length;d++)c=n[d],r[c]&&l.push(r[c][0]),r[c]=0;for(s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s]);for(t&&t(n,a,o);l.length;)l.shift()();if(o)for(d=0;d<o.length;d++)u=i(i.s=o[d]);return u};var n={},r={409:0};function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e},i(i.s=1013)}({0:function(t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),r.d(n,"internal",(function(){return j})),n.getPrebidInternal=function(){return P},r.d(n,"bind",(function(){return x})),n.getUniqueIdentifierStr=D,n.generateUUID=function e(t){return t?(t^(window&&window.crypto&&window.crypto.getRandomValues?crypto.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random())>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)},n.getBidIdParameter=function(e,t){return t&&t[e]?t[e]:""},n.tryAppendQueryString=function(e,t,n){return n?e+t+"="+encodeURIComponent(n)+"&":e},n.parseQueryStringParameters=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+"="+encodeURIComponent(e[n])+"&");return t.replace(/&$/,"")},n.transformAdServerTargetingObj=function(e){return e&&Object.getOwnPropertyNames(e).length>0?ue(e).map((function(t){return"".concat(t,"=").concat(encodeURIComponent(de(e,t)))})).join("&"):""},n.getAdUnitSizes=function(e){if(e){var t=[];if(e.mediaTypes&&e.mediaTypes.banner&&Array.isArray(e.mediaTypes.banner.sizes)){var n=e.mediaTypes.banner.sizes;Array.isArray(n[0])?t=n:t.push(n)}else Array.isArray(e.sizes)&&(Array.isArray(e.sizes[0])?t=e.sizes:t.push(e.sizes));return t}},n.parseSizesInput=function(e){var t=[];if("string"==typeof e){var n=e.split(","),r=/^(\d)+x(\d)+$/i;if(n)for(var i in n)ee(n,i)&&n[i].match(r)&&t.push(n[i])}else if("object"===v(e)){var a=e.length;if(a>0)if(2===a&&"number"==typeof e[0]&&"number"==typeof e[1])t.push(R(e));else for(var o=0;o<a;o++)t.push(R(e[o]))}return t},n.parseGPTSingleSizeArray=R,n.parseGPTSingleSizeArrayToRtbSize=function(e){if(M(e))return{w:e[0],h:e[1]}},n.getWindowTop=B,n.getWindowSelf=U,n.getWindowLocation=L,n.logMessage=V,n.logInfo=F,n.logWarn=q,n.logError=G,n.prefixLog=function(e){function t(t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.apply(void 0,[e].concat(r))}}return{logError:t(G),logWarn:t(q),logMessage:t(V),logInfo:t(F)}},n.hasConsoleLogger=function(){return w},n.debugTurnedOn=W,n.createInvisibleIframe=function(){var e=document.createElement("iframe");return e.id=D(),e.height=0,e.width=0,e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.scrolling="no",e.frameBorder="0",e.src="about:blank",e.style.display="none",e},n.getParameterByName=function(e){return Oe(L().search)[e]||""},n.isA=H,n.isFn=K,n.isStr=Y,n.isArray=$,n.isNumber=J,n.isPlainObject=X,n.isBoolean=function(e){return H(e,"Boolean")},n.isEmpty=Q,n.isEmptyStr=function(e){return Y(e)&&(!e||0===e.length)},n._each=Z,n.contains=function(e,t){if(Q(e))return!1;if(K(e.indexOf))return-1!==e.indexOf(t);for(var n=e.length;n--;)if(e[n]===t)return!0;return!1},n._map=function(e,t){if(Q(e))return[];if(K(e.map))return e.map(t);var n=[];return Z(e,(function(r,i){n.push(t(r,i,e))})),n},n.hasOwn=ee,n.insertElement=te,n.waitForElementToLoad=ne,n.triggerPixel=re,n.callBurl=function(e){var t=e.source,n=e.burl;t===O.S2S.SRC&&n&&j.triggerPixel(n)},n.insertHtmlIntoIframe=function(e){if(e){var t=document.createElement("iframe");t.id=D(),t.width=0,t.height=0,t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.display="none",t.style.height="0px",t.style.width="0px",t.scrolling="no",t.frameBorder="0",t.allowtransparency="true",j.insertElement(t,document,"body"),t.contentWindow.document.open(),t.contentWindow.document.write(e),t.contentWindow.document.close()}},n.insertUserSyncIframe=ie,n.createTrackPixelHtml=function(e){return e?'<div style="position:absolute;left:0px;top:0px;visibility:hidden;"><img src="'+encodeURI(e)+'"></div>':""},n.createTrackPixelIframeHtml=ae,n.getValueString=oe,n.uniques=se,n.flatten=ce,n.getBidRequest=function(e,t){var n;if(e)return t.some((function(t){var r=c()(t.bids,(function(t){return["bidId","adId","bid_id"].some((function(n){return t[n]===e}))}));return r&&(n=r),r})),n},n.getKeys=ue,n.getValue=de,n.getKeyByValue=function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t)return n},n.getBidderCodes=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pbjs.adUnits;return e.map((function(e){return e.bids.map((function(e){return e.bidder})).reduce(ce,[])})).reduce(ce).filter(se)},n.isGptPubadsDefined=le,n.isApnGetTagDefined=function(){if(window.apntag&&K(window.apntag.getTag))return!0},r.d(n,"getHighestCpm",(function(){return fe})),r.d(n,"getOldestHighestCpmBid",(function(){return pe})),r.d(n,"getLatestHighestCpmBid",(function(){return me})),n.shuffle=function(e){for(var t=e.length;t>0;){var n=Math.floor(Math.random()*t),r=e[--t];e[t]=e[n],e[n]=r}return e},n.adUnitsFilter=function(e,t){return d()(e,t&&t.adUnitCode)},n.deepClone=he,n.inIframe=function(){try{return j.getWindowSelf()!==j.getWindowTop()}catch(e){return!0}},n.isSafariBrowser=function(){return/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent)},n.replaceAuctionPrice=function(e,t){if(e)return e.replace(/\$\{AUCTION_PRICE\}/g,t)},n.replaceClickThrough=function(e,t){if(e&&t&&"string"==typeof t)return e.replace(/\${CLICKTHROUGH}/g,t)},n.timestamp=function(){return(new Date).getTime()},n.getPerformanceNow=function(){return window.performance&&window.performance.now&&window.performance.now()||0},n.hasDeviceAccess=function(){return!1!==i.b.getConfig("deviceAccess")},n.checkCookieSupport=be,n.delayExecution=function(e,t){if(t<1)throw new Error("numRequiredCalls must be a positive number. Got ".concat(t));var n=0;return function(){++n===t&&e.apply(this,arguments)}},n.groupBy=function(e,t){return e.reduce((function(e,n){return(e[n[t]]=e[n[t]]||[]).push(n),e}),{})},n.getDefinedParams=function(e,t){return t.filter((function(t){return e[t]})).reduce((function(t,n){return b(t,h({},n,e[n]))}),{})},n.isValidMediaTypes=function(e){var t=["banner","native","video"];return!!Object.keys(e).every((function(e){return d()(t,e)}))&&(!e.video||!e.video.context||d()(["instream","outstream","adpod"],e.video.context))},n.getUserConfiguredParams=function(e,t,n){return e.filter((function(e){return e.code===t})).map((function(e){return e.bids})).reduce(ce,[]).filter((function(e){return e.bidder===n})).map((function(e){return e.params||{}}))},n.getOrigin=function(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")},n.getDNT=function(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack},n.isAdUnitCodeMatchingSlot=function(e){return function(t){return ve(e,t)}},n.isSlotMatchingAdUnitCode=ye,n.getGptSlotInfoForAdUnitCode=function(e){var t;return le()&&(t=c()(window.googletag.pubads().getSlots(),ye(e))),t?{gptSlot:t.getAdUnitPath(),divId:t.getSlotElementId()}:{}},n.unsupportedBidderMessage=function(e,t){var n=Object.keys(e.mediaTypes||{banner:"banner"}).join(", ");return"\n    ".concat(e.code," is a ").concat(n," ad unit\n    containing bidders that don't support ").concat(n,": ").concat(t,".\n    This bidder won't fetch demand.\n  ")},n.isInteger=Ee,n.convertCamelToUnderscore=function(e){return e.replace(/(?:^|\.?)([A-Z])/g,(function(e,t){return"_"+t.toLowerCase()})).replace(/^_/,"")},n.cleanObj=function(e){return Object.keys(e).reduce((function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t}),{})},n.pick=function(e,t){return"object"!==v(e)?{}:t.reduce((function(n,r,i){if("function"==typeof r)return n;var a=r,o=r.match(/^(.+?)\sas\s(.+?)$/i);o&&(r=o[1],a=o[2]);var s=e[r];return"function"==typeof t[i+1]&&(s=t[i+1](s,n)),void 0!==s&&(n[a]=s),n}),{})},n.transformBidderParamKeywords=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"keywords",n=[];return Z(e,(function(e,r){if($(e)){var i=[];Z(e,(function(e){((e=oe(t+"."+r,e))||""===e)&&i.push(e)})),e=i}else{if(!Y(e=oe(t+"."+r,e)))return;e=[e]}n.push({key:r,value:e})})),n},n.convertTypes=function(e,t){return Object.keys(e).forEach((function(n){var r,i;t[n]&&(K(e[n])?t[n]=e[n](t[n]):t[n]=(r=e[n],i=t[n],"string"===r?i&&i.toString():"number"===r?Number(i):i),isNaN(t[n])&&delete t.key)})),t},n.isArrayOfNums=function(e,t){return $(e)&&(!t||e.length===t)&&e.every((function(e){return Ee(e)}))},n.fill=function(e,t){for(var n=[],r=0;r<t;r++){var i=X(e)?he(e):e;n.push(i)}return n},n.chunk=function(e,t){for(var n=[],r=0;r<Math.ceil(e.length/t);r++){var i=r*t,a=i+t;n.push(e.slice(i,a))}return n},n.getMinValueFromArray=function(e){return Math.min.apply(Math,p(e))},n.getMaxValueFromArray=function(e){return Math.max.apply(Math,p(e))},n.compareOn=function(e){return function(t,n){return t[e]<n[e]?1:t[e]>n[e]?-1:0}},n.parseQS=Oe,n.formatQS=Ae,n.parseUrl=function(e,t){var n=document.createElement("a");t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?n.href=e:n.href=decodeURIComponent(e);var r=t&&"decodeSearchAsString"in t&&t.decodeSearchAsString;return{href:n.href,protocol:(n.protocol||"").replace(/:$/,""),hostname:n.hostname,port:+n.port,pathname:n.pathname.replace(/^(?!\/)/,"/"),search:r?n.search:j.parseQS(n.search||""),hash:(n.hash||"").replace(/^#/,""),host:n.host||window.location.host}},n.buildUrl=function(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":".concat(e.port):""))+(e.pathname||"")+(e.search?"?".concat(j.formatQS(e.search||"")):"")+(e.hash?"#".concat(e.hash):"")},n.deepEqual=Se,n.mergeDeep=function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(!r.length)return t;var a=r.shift();if(X(t)&&X(a)){var o=function(n){X(a[n])?(t[n]||b(t,h({},n,{})),e(t[n],a[n])):$(a[n])?t[n]?$(t[n])&&a[n].forEach((function(e){for(var r=1,i=0;i<t[n].length;i++)if(Se(t[n][i],e)){r=0;break}r&&t[n].push(e)})):b(t,h({},n,p(a[n]))):b(t,h({},n,a[n]))};for(var s in a)o(s)}return e.apply(void 0,[t].concat(r))},n.cyrb53Hash=function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=function(e,t){if(K(Math.imul))return Math.imul(e,t);var n=(4194303&e)*(t|=0);return 4290772992&e&&(n+=(4290772992&e)*t|0),0|n},i=3735928559^n,a=1103547991^n,o=0;o<e.length;o++)i=r(i^(t=e.charCodeAt(o)),2654435761),a=r(a^t,1597334677);return i=r(i^i>>>16,2246822507)^r(a^a>>>13,3266489909),(4294967296*(2097151&(a=r(a^a>>>16,2246822507)^r(i^i>>>13,3266489909)))+(i>>>0)).toString()};var i=r(3),a=r(171),o=r.n(a),s=r(11),c=r.n(s),u=r(12),d=r.n(u),l=r(172);r.d(n,"deepAccess",(function(){return l.a}));var f=r(173);function p(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(t){return(v="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}r.d(n,"deepSetValue",(function(){return f.a}));var y,E,O=r(5),A=Object.prototype.toString,S=Boolean(window.console),w=Boolean(S&&window.console.log),_=Boolean(S&&window.console.info),I=Boolean(S&&window.console.warn),C=Boolean(S&&window.console.error),T=function(){return null==y&&(y=r(10)),y.emit.apply(y,arguments)},j={checkCookieSupport:be,createTrackPixelIframeHtml:ae,getWindowSelf:U,getWindowTop:B,getWindowLocation:L,insertUserSyncIframe:ie,insertElement:te,isFn:K,triggerPixel:re,logError:G,logWarn:q,logMessage:V,logInfo:F,parseQS:Oe,formatQS:Ae,deepEqual:Se},P={},k={},x=function(e,t){return t}.bind(null,1,k)()===k?Function.prototype.bind:function(e){var t=this,n=Array.prototype.slice.call(arguments,1);return function(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)))}},N=(E=0,function(){return++E});function D(){return N()+Math.random().toString(16).substr(2)}function R(e){if(M(e))return e[0]+"x"+e[1]}function M(e){return $(e)&&2===e.length&&!isNaN(e[0])&&!isNaN(e[1])}function B(){return window.top}function U(){return window.self}function L(){return window.location}function V(){W()&&w&&console.log.apply(console,z(arguments,"MESSAGE:"))}function F(){W()&&_&&console.info.apply(console,z(arguments,"INFO:"))}function q(){W()&&I&&console.warn.apply(console,z(arguments,"WARNING:")),T(O.EVENTS.AUCTION_DEBUG,{type:"WARNING",arguments})}function G(){W()&&C&&console.error.apply(console,z(arguments,"ERROR:")),T(O.EVENTS.AUCTION_DEBUG,{type:"ERROR",arguments})}function z(e,t){e=[].slice.call(e);var n=i.b.getCurrentBidder();return t&&e.unshift(t),n&&e.unshift(r("#aaa")),e.unshift(r("#3b88c3")),e.unshift("%cPrebid"+(n?"%c".concat(n):"")),e;function r(e){return"display: inline-block; color: #fff; background: ".concat(e,"; padding: 1px 4px; border-radius: 3px;")}}function W(){return!!i.b.getConfig("debug")}function H(e,t){return A.call(e)==="[object "+t+"]"}function K(e){return H(e,"Function")}function Y(e){return H(e,"String")}function $(e){return H(e,"Array")}function J(e){return H(e,"Number")}function X(e){return H(e,"Object")}function Q(e){if(!e)return!0;if($(e)||Y(e))return!(e.length>0);for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0}function Z(e,t){if(!Q(e)){if(K(e.forEach))return e.forEach(t,this);var n=0,r=e.length;if(r>0)for(;n<r;n++)t(e[n],n,e);else for(n in e)hasOwnProperty.call(e,n)&&t.call(this,e[n],n)}}function ee(e,t){return e.hasOwnProperty?e.hasOwnProperty(t):void 0!==e[t]&&e.constructor.prototype[t]!==e[t]}function te(e,t,n,r){var i;t=t||document,i=n?t.getElementsByTagName(n):t.getElementsByTagName("head");try{if((i=i.length?i:t.getElementsByTagName("body")).length){i=i[0];var a=r?null:i.firstChild;return i.insertBefore(e,a)}}catch(e){}}function ne(e,t){var n=null;return new Promise((function(r){var i=function t(){e.removeEventListener("load",t),e.removeEventListener("error",t),null!=n&&window.clearTimeout(n),r()};e.addEventListener("load",i),e.addEventListener("error",i),null!=t&&(n=window.setTimeout(i,t))}))}function re(e,t,n){var r=new Image;t&&j.isFn(t)&&ne(r,n).then(t),r.src=e}function ie(e,t,n){var r=j.createTrackPixelIframeHtml(e,!1,"allow-scripts allow-same-origin"),i=document.createElement("div");i.innerHTML=r;var a=i.firstChild;t&&j.isFn(t)&&ne(a,n).then(t),j.insertElement(a,document,"html",!0)}function ae(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e?(t&&(e=encodeURI(e)),n&&(n='sandbox="'.concat(n,'"')),"<iframe ".concat(n,' id="').concat(D(),'"\n      frameborder="0"\n      allowtransparency="true"\n      marginheight="0" marginwidth="0"\n      width="0" hspace="0" vspace="0" height="0"\n      style="height:0px;width:0px;display:none;"\n      scrolling="no"\n      src="').concat(e,'">\n    </iframe>')):""}function oe(e,t,n){return null==t?n:Y(t)?t:J(t)?t.toString():void j.logWarn("Unsuported type for param: "+e+" required type: String")}function se(e,t,n){return n.indexOf(e)===t}function ce(e,t){return e.concat(t)}function ue(e){return Object.keys(e)}function de(e,t){return e[t]}function le(){if(window.googletag&&K(window.googletag.pubads)&&K(window.googletag.pubads().getSlots))return!0}var fe=ge("timeToRespond",(function(e,t){return e>t})),pe=ge("responseTimestamp",(function(e,t){return e>t})),me=ge("responseTimestamp",(function(e,t){return e<t}));function ge(e,t){return function(n,r){return n.cpm===r.cpm?t(n[e],r[e])?r:n:n.cpm<r.cpm?r:n}}function he(e){return o()(e)}function be(){if(window.navigator.cookieEnabled||document.cookie.length)return!0}var ve=function(e,t){return e.getAdUnitPath()===t||e.getSlotElementId()===t};function ye(e){return function(t){return ve(t,e)}}function Ee(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function Oe(e){return e?e.replace(/^\?/,"").split("&").reduce((function(e,t){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),2!==a.length);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e)||m(e,2)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.split("=")),r=n[0],i=n[1];return/\[\]$/.test(r)?(e[r=r.replace("[]","")]=e[r]||[],e[r].push(i)):e[r]=i||"",e}),{}):{}}function Ae(e){return Object.keys(e).map((function(t){return Array.isArray(e[t])?e[t].map((function(e){return"".concat(t,"[]=").concat(e)})).join("&"):"".concat(t,"=").concat(e[t])})).join("&")}function Se(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.checkTypes,i=void 0!==r&&r;if(e===t)return!0;if("object"!==v(e)||null===e||"object"!==v(t)||null===t||i&&e.constructor!==t.constructor)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var a in e){if(!t.hasOwnProperty(a))return!1;if(!Se(e[a],t[a],{checkTypes:i}))return!1}return!0}},1:function(t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),r.d(n,"storage",(function(){return C})),n.registerBidder=function(e){var t=Array.isArray(e.supportedMediaTypes)?{supportedMediaTypes:e.supportedMediaTypes}:void 0;function n(e){var n=j(e);a.default.registerBidAdapter(n,e.code,t)}n(e),Array.isArray(e.aliases)&&e.aliases.forEach((function(t){var r,i,o=t;Object(v.isPlainObject)(t)&&(o=t.code,r=t.gvlid,i=t.skipPbsAliasing),a.default.aliasRegistry[o]=e.code,n(I({},e,{code:o,gvlid:r,skipPbsAliasing:i}))}))},n.newBidder=j,r.d(n,"processBidderRequests",(function(){return P})),r.d(n,"registerSyncInner",(function(){return k})),n.preloadBidderMappingFile=x,n.getIabSubCategory=function(e,t){var n=a.default.getBidAdapter(e);if(n.getSpec().getMappingFileInfo){var r=n.getSpec().getMappingFileInfo(),i=r.localStorageKey?r.localStorageKey:n.getBidderCode(),o=C.getDataFromLocalStorage(i);if(o){try{o=JSON.parse(o)}catch(t){Object(v.logError)("Failed to parse ".concat(e," mapping data stored in local storage"))}return o.mapping[t]?o.mapping[t]:null}}},n.isValid=D;var i=r(84),a=r(9),o=r(3),s=r(43),c=r(61),u=r(47),d=r(20),l=r(5),f=r.n(l),p=r(10),m=r.n(p),g=r(12),h=r.n(g),b=r(4),v=r(0),y=r(2),E=r(8),O=r(7),A=r(18);function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(t){return(_="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var C=Object(O.a)("bidderFactory"),T=["cpm","ttl","creativeId","netRevenue","currency"];function j(e){return I(new i.a(e.code),{getSpec:function(){return Object.freeze(e)},registerSyncs:t,callBids:function(r,i,c,u,d,l){if(Array.isArray(r.bids)){var p={},g=[],h=r.bids.filter(n);if(0!==h.length){var b={};h.forEach((function(e){b[e.bidId]=e,e.adUnitCode||(e.adUnitCode=e.placementCode)})),P(e,h,r,u,l,{onRequest:function(e){return m.a.emit(f.a.EVENTS.BEFORE_BIDDER_HTTP,r,e)},onResponse:function(t){d(e.code),g.push(t)},onError:function(t,n){d(e.code),a.default.callBidderError(e.code,n,r),m.a.emit(f.a.EVENTS.BIDDER_ERROR,{error:n,bidderRequest:r}),Object(v.logError)("Server call for ".concat(e.code," failed: ").concat(t," ").concat(n.status,". Continuing without bids."))},onBid:function(t){var n=b[t.requestId];if(n){t.originalCpm=t.cpm,t.originalCurrency=t.currency,t.meta=t.meta||I({},t[n.bidder]);var r=I(Object(s.a)(f.a.STATUS.GOOD,n),t);!function(e,t){p[e]=!0,D(e,t)&&i(e,t)}(n.adUnitCode,r)}else Object(v.logWarn)("Bidder ".concat(e.code," made bid for unknown request ID: ").concat(t.requestId,". Ignoring."))},onCompletion:y})}else y()}function y(){c(),o.b.runWithBidder(e.code,(function(){m.a.emit(f.a.EVENTS.BIDDER_DONE,r),t(g,r.gdprConsent,r.uspConsent)}))}}});function t(t,n,r){k(e,t,n,r)}function n(t){return!!e.isBidRequestValid(t)||(Object(v.logWarn)("Invalid bid sent to bidder ".concat(e.code,": ").concat(JSON.stringify(t))),!1)}}var P=Object(E.b)("sync",(function(e,t,n,r,i,a){var o=a.onRequest,s=a.onResponse,c=a.onError,u=a.onBid,d=a.onCompletion,l=e.buildRequests(t,n);if(l&&0!==l.length){Array.isArray(l)||(l=[l]);var f=Object(v.delayExecution)(d,l.length);l.forEach((function(t){var n=i((function(n,r){try{n=JSON.parse(n)}catch(e){}var i;n={body:n,headers:{get:r.getResponseHeader.bind(r)}},s(n);try{i=e.interpretResponse(n,t)}catch(t){return Object(v.logError)("Bidder ".concat(e.code," failed to interpret the server's response. Continuing without bids"),null,t),void f()}i&&(Object(v.isArray)(i)?i.forEach(u):u(i)),f()})),a=i((function(e,t){c(e,t),f()}));switch(o(t),t.method){case"GET":r("".concat(t.url).concat(function(e){return e?"?".concat("object"===_(e)?Object(v.parseQueryStringParameters)(e):e):""}(t.data)),{success:n,error:a},void 0,I({method:"GET",withCredentials:!0},t.options));break;case"POST":r(t.url,{success:n,error:a},"string"==typeof t.data?t.data:JSON.stringify(t.data),I({method:"POST",contentType:"text/plain",withCredentials:!0},t.options));break;default:Object(v.logWarn)("Skipping invalid request from ".concat(e.code,". Request type ").concat(t.type," must be GET or POST")),f()}}))}else d()}),"processBidderRequests"),k=Object(E.b)("async",(function(e,t,n,r){var i=o.b.getConfig("userSync.aliasSyncEnabled");if(e.getUserSyncs&&(i||!a.default.aliasRegistry[e.code])){var s=o.b.getConfig("userSync.filterSettings"),u=e.getUserSyncs({iframeEnabled:!(!s||!s.iframe&&!s.all),pixelEnabled:!(!s||!s.image&&!s.all)},t,n,r);u&&(Array.isArray(u)||(u=[u]),u.forEach((function(t){c.a.registerSync(t.type,e.code,t.url)})))}}),"registerSyncs");function x(e,t){if(!o.b.getConfig("adpod.brandCategoryExclusion"))return e.call(this,t);t.filter((function(e){return Object(v.deepAccess)(e,"mediaTypes.video.context")===y.a})).map((function(e){return e.bids.map((function(e){return e.bidder}))})).reduce(v.flatten,[]).filter(v.uniques).forEach((function(e){var t=a.default.getBidAdapter(e);if(t.getSpec().getMappingFileInfo){var n=t.getSpec().getMappingFileInfo(),r=n.refreshInDays?n.refreshInDays:1,i=n.localStorageKey?n.localStorageKey:t.getSpec().code,o=C.getDataFromLocalStorage(i);try{(!(o=o?JSON.parse(o):void 0)||Object(v.timestamp)()>o.lastUpdated+24*r*60*60*1e3)&&Object(b.a)(n.url,{success:function(t){try{t=JSON.parse(t);var n={lastUpdated:Object(v.timestamp)(),mapping:t.mapping};C.setDataInLocalStorage(i,JSON.stringify(n))}catch(t){Object(v.logError)("Failed to parse ".concat(e," bidder translation mapping file"))}},error:function(){Object(v.logError)("Failed to load ".concat(e," bidder translation file"))}})}catch(t){Object(v.logError)("Failed to parse ".concat(e," bidder translation mapping file"))}}})),e.call(this,t)}function N(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.index,i=void 0===r?A.a.index:r;if((t.width||0===parseInt(t.width,10))&&(t.height||0===parseInt(t.height,10)))return t.width=parseInt(t.width,10),t.height=parseInt(t.height,10),!0;var a=i.getBidRequest(t),o=i.getMediaTypes(t),s=a&&a.sizes||o&&o.banner&&o.banner.sizes,c=Object(v.parseSizesInput)(s);if(1===c.length){var u=c[0].split("x"),d=S(u,2),l=d[0],f=d[1];return t.width=parseInt(l,10),t.height=parseInt(f,10),!0}return!1}function D(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.index,i=void 0===r?A.a.index:r;function a(){var e=Object.keys(t);return T.every((function(n){return h()(e,n)&&!h()([void 0,null],t[n])}))}function o(e){return"Invalid bid from ".concat(t.bidderCode,". Ignoring bid: ").concat(e)}return e?t?a()?"native"!==t.mediaType||Object(u.h)(t,{index:i})?"video"!==t.mediaType||Object(d.d)(t,{index:i})?!("banner"===t.mediaType&&!N(e,t,{index:i})&&(Object(v.logError)(o("Banner bids require a width and height")),1)):(Object(v.logError)(o("Video bid does not have required vastUrl or renderer property")),!1):(Object(v.logError)(o("Native bid missing some required properties.")),!1):(Object(v.logError)(o("Bidder ".concat(t.bidderCode," is missing required params. Check http://prebid.org/dev-docs/bidder-adapter-1.html for list of params."))),!1):(Object(v.logWarn)("Some adapter tried to add an undefined bid for ".concat(e,".")),!1):(Object(v.logWarn)("No adUnitCode was supplied to addBidResponse."),!1)}Object(E.a)("checkAdUnitSetup").before(x)},10:function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=n(0),a=n(5),o=Array.prototype.slice,s=Array.prototype.push,c=i._map(a.EVENTS,(function(e){return e})),u=a.EVENT_ID_PATHS,d=[];e.exports=function(){var e={},t={};function n(t,n){i.logMessage("Emitting event for: "+t);var r=n[0]||{},a=r[u[t]],o=e[t]||{que:[]},c=i._map(o,(function(e,t){return t})),l=[];d.push({eventType:t,args:r,id:a,elapsedTime:i.getPerformanceNow()}),a&&i.contains(c,a)&&s.apply(l,o[a].que),s.apply(l,o.que),i._each(l,(function(e){if(e)try{e.apply(null,n)}catch(e){i.logError("Error executing handler:","events.js",e)}}))}return t.on=function(t,n,r){if(function(e){return i.contains(c,e)}(t)){var a=e[t]||{que:[]};r?(a[r]=a[r]||{que:[]},a[r].que.push(n)):a.que.push(n),e[t]=a}else i.logError("Wrong event name : "+t+" Valid event names :"+c)},t.emit=function(e){var t=o.call(arguments,1);n(e,t)},t.off=function(t,n,r){var a=e[t];i.isEmpty(a)||i.isEmpty(a.que)&&i.isEmpty(a[r])||r&&(i.isEmpty(a[r])||i.isEmpty(a[r].que))||(r?i._each(a[r].que,(function(e){var t=a[r].que;e===n&&t.splice(t.indexOf(e),1)})):i._each(a.que,(function(e){var t=a.que;e===n&&t.splice(t.indexOf(e),1)})),e[t]=a)},t.get=function(){return e},t.getEvents=function(){var e=[];return i._each(d,(function(t){var n=r({},t);e.push(n)})),e},t}()},100:function(e,t,n){var r=n(140).charAt,i=n(46),a=n(73),o="String Iterator",s=i.set,c=i.getterFor(o);a(String,"String",(function(e){s(this,{type:o,string:String(e),index:0})}),(function(){var e,t=c(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},101:function(e,t,n){var r=n(50),i=n(55),a=n(40),o=n(46),s=n(73),c="Array Iterator",u=o.set,d=o.getterFor(c);e.exports=s(Array,"Array",(function(e,t){u(this,{type:c,target:r(e),index:0,kind:t})}),(function(){var e=d(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},1013:function(e,t,n){e.exports=n(81)},102:function(t,n,r){n.a=function(e,t){return e.labelAll?{labelAll:!0,labels:e.labelAll,activeLabels:t}:{labelAll:!1,labels:e.labelAny,activeLabels:t}},n.c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u,n=d(t);return!n.shouldFilter||!!n.sizesSupported[e]},n.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.labels,n=void 0===t?[]:t,r=e.labelAll,i=void 0!==r&&r,o=e.activeLabels,c=void 0===o?[]:o,l=arguments.length>1?arguments[1]:void 0,f=arguments.length>2?arguments[2]:void 0,p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u,m=d(p);l=Object(a.isPlainObject)(l)?Object(a.deepClone)(l):f?{banner:{sizes:f}}:{};var g=Object(a.deepAccess)(l,"banner.sizes");m.shouldFilter&&g&&(l.banner.sizes=g.filter((function(e){return m.sizesSupported[e]})));var h=Object.keys(l),b={active:h.every((function(e){return"banner"!==e}))||h.some((function(e){return"banner"===e}))&&Object(a.deepAccess)(l,"banner.sizes.length")>0&&(0===n.length||!i&&(n.some((function(e){return m.labels[e]}))||n.some((function(e){return s()(c,e)})))||i&&n.reduce((function(e,t){return e?m.labels[t]||s()(c,t):e}),!0)),mediaTypes:l};return g&&g.length!==l.banner.sizes.length&&(b.filterResults={before:g,after:l.banner.sizes}),b};var i=r(3),a=r(0),o=r(12),s=r.n(o);function c(t){return(c="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}var u=[];function d(e){return e.reduce((function(e,t){if("object"===c(t)&&"string"==typeof t.mediaQuery&&t.mediaQuery.length>0){var n=!1;try{n=Object(a.getWindowTop)().matchMedia(t.mediaQuery).matches}catch(e){Object(a.logWarn)("Unfriendly iFrame blocks sizeConfig from being correctly evaluated"),n=matchMedia(t.mediaQuery).matches}n&&(Array.isArray(t.sizesSupported)&&(e.shouldFilter=!0),["labels","sizesSupported"].forEach((function(n){return(t[n]||[]).forEach((function(t){return e[n][t]=!0}))})))}else Object(a.logWarn)('sizeConfig rule missing required property "mediaQuery"');return e}),{labels:{},sizesSupported:{},shouldFilter:!1})}i.b.getConfig("sizeConfig",(function(e){return function(e){u=e}(e.sizeConfig)}))},103:function(e,t,n){t.b=function(e,t){var n={puts:e.map(s)};Object(r.a)(i.b.getConfig("cache.url"),function(e){return{success:function(t){var n;try{n=JSON.parse(t).responses}catch(t){return void e(t,[])}n?e(null,n):e(new Error("The cache server didn't respond with a responses property."),[])},error:function(t,n){e(new Error("Error storing video ad in the cache: ".concat(t,": ").concat(JSON.stringify(n))),[])}}}(t),JSON.stringify(n),{contentType:"text/plain",withCredentials:!0})},t.a=function(e){return"".concat(i.b.getConfig("cache.url"),"?uuid=").concat(e)};var r=n(4),i=n(3),a=n(18);function o(e,t){var n=t?"<![CDATA[".concat(t,"]]>"):"";return'<VAST version="3.0">\n    <Ad>\n      <Wrapper>\n        <AdSystem>prebid.org wrapper</AdSystem>\n        <VASTAdTagURI><![CDATA['.concat(e,"]]></VASTAdTagURI>\n        <Impression>").concat(n,"</Impression>\n        <Creatives></Creatives>\n      </Wrapper>\n    </Ad>\n  </VAST>")}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.index,r=void 0===n?a.a.index:n,s=e.vastXml?e.vastXml:o(e.vastUrl,e.vastImpUrl),c=r.getAuction(e),u={type:"xml",value:s,ttlseconds:Number(e.ttl)};return i.b.getConfig("cache.vasttrack")&&(u.bidder=e.bidder,u.bidid=e.requestId,u.aid=e.auctionId),null!=c&&(u.timestamp=c.getAuctionStart()),"string"==typeof e.customCacheKey&&""!==e.customCacheKey&&(u.key=e.customCacheKey),u}},104:function(e,t,n){t.a=function(e){var t=e.reason,n=e.message,i=e.bid,o=e.id,s={reason:t,message:n};i&&(s.bid=i),o&&(s.adId=o),Object(r.logError)(n),a.a.emit(c,s)},t.b=function(e){var t=e.doc,n=e.bid,r=e.id,i={doc:t};n&&(i.bid=n),r&&(i.adId=r),a.a.emit(u,i)};var r=n(0),i=n(10),a=n.n(i),o=n(5),s=n.n(o).a.EVENTS,c=s.AD_RENDER_FAILED,u=s.AD_RENDER_SUCCEEDED},105:function(e,t,n){n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return S})),t.d=function(e){var t;try{e=e||window.sessionStorage,t=JSON.parse(e.getItem(f))}catch(e){}t&&h(t,!0)};var r,i,a=n(3),o=n(28),s=n(8),c=n(0),u=Object(c.prefixLog)("DEBUG:"),d=u.logWarn,l=u.logMessage,f="pbjs:debugging",p=[function(e){g(),function(e){r=O.bind(e),o.c.before(r,5),i=A.bind(e),o.e.before(i,5)}(e)}],m=[g];function g(){o.c.getHooks({hook:r}).remove(),o.e.getHooks({hook:i}).remove()}function h(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a.b.setConfig({debug:!0}),p.forEach((function(t){return t(e)})),l("bidder overrides enabled".concat(t?" from session":""))}function b(){m.forEach((function(e){return e()})),l("bidder overrides disabled")}function v(e,t,n){return!(!e.bidder||e.bidder===t)||!(!e.adUnitCode||e.adUnitCode===n)}function y(e,t){return Array.isArray(e)&&-1===e.indexOf(t)}function E(e,t,n){return Object.keys(e).filter((function(e){return-1===["adUnitCode","bidder"].indexOf(e)})).reduce((function(t,r){return l("bidder overrides changed '".concat(t.adUnitCode,"/").concat(t.bidderCode,"' ").concat(n,".").concat(r," from '").concat(t[r],".js' to '").concat(e[r],"'")),t[r]=e[r],t.isDebug=!0,t}),t)}function O(e,t,n){var r=this;y(r.bidders,n.bidderCode)?d("bidder '".concat(n.bidderCode,"' excluded from auction by bidder overrides")):(Array.isArray(r.bids)&&r.bids.forEach((function(e){v(e,n.bidderCode,t)||E(e,n,"bidder")})),e(t,n))}function A(e,t){var n=this,r=t.filter((function(e){return!y(n.bidders,e.bidderCode)||(d("bidRequest '".concat(e.bidderCode,"' excluded from auction by bidder overrides")),!1)}));Array.isArray(n.bidRequests)&&r.forEach((function(e){n.bidRequests.forEach((function(t){e.bids.forEach((function(n){v(t,e.bidderCode,n.adUnitCode)||E(t,n,"bidRequest")}))}))})),e(r)}var S=Object(s.b)("sync",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.sessionStorage,r=void 0===n?window.sessionStorage:n;if(e.enabled)try{r.setItem(f,JSON.stringify(e))}catch(e){}else try{r.removeItem(f)}catch(e){}}));a.b.getConfig("debugging",(function(e){return function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).sessionStorage,n=void 0===t?window.sessionStorage:t;S(e,{sessionStorage:n}),e.enabled?h(e):b()}(e.debugging)}))},109:function(e,t,n){n(110);var r=n(56);e.exports=r("Array","find")},11:function(e,t,n){var r=n(109);e.exports=r},110:function(e,t,n){var r=n(16),i=n(64).find,a=n(55),o="find",s=!0;o in[]&&Array(1).find((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a(o)},111:function(e,t,n){var r=n(34),i=n(112),a=n(44),o=n(50),s=n(63),c=n(31),u=n(86),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=o(e),t=s(t,!0),u)try{return d(e,t)}catch(e){}if(c(e,t))return a(!i.f.call(e,t),e[t])}},112:function(e,t,n){var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,a=i&&!r.call({1:2},1);t.f=a?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},113:function(e,t,n){var r=n(29),i=/#|\.prototype\./,a=function(e,t){var n=s[o(e)];return n==u||n!=c&&("function"==typeof t?r(t):!!t)},o=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=a.data={},c=a.NATIVE="N",u=a.POLYFILL="P";e.exports=a},114:function(e,t,n){var r=n(30),i=n(115),a=n(23)("species");e.exports=function(e,t){var n;return i(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[a])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},115:function(e,t,n){var r=n(51);e.exports=Array.isArray||function(e){return"Array"==r(e)}},116:function(e,t,n){var r=n(27),i=n(33);e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},117:function(e,t,n){var r,i,a=n(27),o=n(118),s=a.process,c=s&&s.versions,u=c&&c.v8;u?i=(r=u.split("."))[0]<4?1:r[0]+r[1]:o&&(!(r=o.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/))&&(i=r[1]),e.exports=i&&+i},118:function(e,t,n){var r=n(26);e.exports=r("navigator","userAgent")||""},119:function(t,n,r){var i=r(89);t.exports=i&&!Symbol.sham&&"symbol"==e(Symbol.iterator)},12:function(e,t,n){var r=n(120);e.exports=r},120:function(e,t,n){n(121);var r=n(56);e.exports=r("Array","includes")},121:function(e,t,n){var r=n(16),i=n(90).includes,a=n(55);r({target:"Array",proto:!0},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},122:function(e,t,n){var r=n(65),i=Math.max,a=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):a(n,t)}},123:function(e,t,n){n(124),n(139),n(100),n(141);var r=n(45);e.exports=r.Set},124:function(e,t,n){var r=n(125),i=n(130);e.exports=r("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},125:function(e,t,n){var r=n(16),i=n(27),a=n(92),o=n(29),s=n(33),c=n(22),u=n(69),d=n(30),l=n(60),f=n(35).f,p=n(64).forEach,m=n(34),g=n(46),h=g.set,b=g.getterFor;e.exports=function(e,t,n){var g,v=-1!==e.indexOf("Map"),y=-1!==e.indexOf("Weak"),E=v?"set":"add",O=i[e],A=O&&O.prototype,S={};if(m&&"function"==typeof O&&(y||A.forEach&&!o((function(){(new O).entries().next()})))){g=t((function(t,n){h(u(t,g,e),{type:e,collection:new O}),null!=n&&c(n,t[E],{that:t,AS_ENTRIES:v})}));var w=b(e);p(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(e){var t="add"==e||"set"==e;!(e in A)||y&&"clear"==e||s(g.prototype,e,(function(n,r){var i=w(this).collection;if(!t&&y&&!d(n))return"get"==e&&void 0;var a=i[e](0===n?0:n,r);return t?this:a}))})),y||f(g.prototype,"size",{configurable:!0,get:function(){return w(this).collection.size}})}else g=n.getConstructor(t,e,v,E),a.REQUIRED=!0;return l(g,e,!1,!0),S[e]=g,r({global:!0,forced:!0},S),y||n.setStrong(g,e,v),g}},126:function(e,t,n){var r=n(29);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},127:function(e,t,n){var r=n(68),i=n(59);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},128:function(e,t,n){var r=n(27),i=n(129),a=r.WeakMap;e.exports="function"==typeof a&&/native code/.test(i(a))},129:function(e,t,n){var r=n(66),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},13:function(e,t,n){t.a=c,t.c=function(e){return!(!e||!e.url)},t.b=function(e,t){e.render(t)};var r=n(32),i=n(0),a=n(11),o=n.n(a),s="outstream";function c(e){var t=this,n=e.url,a=e.config,o=e.id,c=e.callback,d=e.loaded,l=e.adUnitCode;this.url=n,this.config=a,this.handlers={},this.id=o,this.loaded=d,this.cmd=[],this.push=function(e){"function"==typeof e?t.loaded?e.call():t.cmd.push(e):Object(i.logError)("Commands given to Renderer.push must be wrapped in a function")},this.callback=c||function(){t.loaded=!0,t.process()},this.render=function(){var e=this,t=arguments,a=function(){e._render?e._render.apply(e,t):Object(i.logWarn)("No render function was provided, please use .setRender on the renderer")};u(l)?(Object(i.logWarn)("External Js not loaded by Renderer since renderer url and callback is already defined on adUnit ".concat(l)),a()):(this.cmd.unshift(a),Object(r.a)(n,s,this.callback))}.bind(this)}function u(e){var t=pbjs.adUnits,n=o()(t,(function(t){return t.code===e}));if(!n)return!1;var r=Object(i.deepAccess)(n,"renderer"),a=!!(r&&r.url&&r.render),s=Object(i.deepAccess)(n,"mediaTypes.video.renderer"),c=!!(s&&s.url&&s.render);return!!(a&&!0!==r.backupOnly||c&&!0!==s.backupOnly)}c.install=function(e){return new c({url:e.url,config:e.config,id:e.id,callback:e.callback,loaded:e.loaded,adUnitCode:e.adUnitCode})},c.prototype.getConfig=function(){return this.config},c.prototype.setRender=function(e){this._render=e},c.prototype.setEventHandlers=function(e){this.handlers=e},c.prototype.handleVideoEvent=function(e){var t=e.id,n=e.eventName;"function"==typeof this.handlers[n]&&this.handlers[n](),Object(i.logMessage)("Prebid Renderer event for id ".concat(t," type ").concat(n))},c.prototype.process=function(){for(;this.cmd.length>0;)try{this.cmd.shift().call()}catch(e){Object(i.logError)("Error processing Renderer command: ",e)}}},130:function(e,t,n){var r=n(35).f,i=n(71),a=n(96),o=n(25),s=n(69),c=n(22),u=n(73),d=n(138),l=n(34),f=n(92).fastKey,p=n(46),m=p.set,g=p.getterFor;e.exports={getConstructor:function(e,t,n,u){var d=e((function(e,r){s(e,d,t),m(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),l||(e.size=0),null!=r&&c(r,e[u],{that:e,AS_ENTRIES:n})})),p=g(t),h=function(e,t,n){var r,i,a=p(e),o=b(e,t);return o?o.value=n:(a.last=o={index:i=f(t,!0),key:t,value:n,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=o),r&&(r.next=o),l?a.size++:e.size++,"F"!==i&&(a.index[i]=o)),e},b=function(e,t){var n,r=p(e),i=f(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return a(d.prototype,{clear:function(){for(var e=p(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,l?e.size=0:this.size=0},delete:function(e){var t=this,n=p(t),r=b(t,e);if(r){var i=r.next,a=r.previous;delete n.index[r.index],r.removed=!0,a&&(a.next=i),i&&(i.previous=a),n.first==r&&(n.first=i),n.last==r&&(n.last=a),l?n.size--:t.size--}return!!r},forEach:function(e){for(var t,n=p(this),r=o(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!b(this,e)}}),a(d.prototype,n?{get:function(e){var t=b(this,e);return t&&t.value},set:function(e,t){return h(this,0===e?0:e,t)}}:{add:function(e){return h(this,e=0===e?0:e,e)}}),l&&r(d.prototype,"size",{get:function(){return p(this).size}}),d},setStrong:function(e,t,n){var r=t+" Iterator",i=g(t),a=g(r);u(e,t,(function(e,t){m(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=a(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),d(t)}}},131:function(e,t,n){var r=n(34),i=n(35),a=n(17),o=n(132);e.exports=r?Object.defineProperties:function(e,t){a(e);for(var n,r=o(t),s=r.length,c=0;s>c;)i.f(e,n=r[c++],t[n]);return e}},132:function(e,t,n){var r=n(133),i=n(95);e.exports=Object.keys||function(e){return r(e,i)}},133:function(e,t,n){var r=n(31),i=n(50),a=n(90).indexOf,o=n(57);e.exports=function(e,t){var n,s=i(e),c=0,u=[];for(n in s)!r(o,n)&&r(s,n)&&u.push(n);for(;t.length>c;)r(s,n=t[c++])&&(~a(u,n)||u.push(n));return u}},134:function(e,t,n){var r=n(26);e.exports=r("document","documentElement")},135:function(e,t,n){var r=n(29);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},136:function(e,t,n){var r=n(17),i=n(137);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,a){return r(n),i(a),t?e.call(n,a):n.__proto__=a,n}}():void 0)},137:function(e,t,n){var r=n(30);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},138:function(e,t,n){var r=n(26),i=n(35),a=n(23),o=n(34),s=a("species");e.exports=function(e){var t=r(e),n=i.f;o&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},139:function(e,t){},14:function(e,t,n){t.a=function(){return window.pbjs},window.pbjs=window.pbjs||{},window.pbjs.cmd=window.pbjs.cmd||[],window.pbjs.que=window.pbjs.que||[],window._pbjsGlobals=window._pbjsGlobals||[],window._pbjsGlobals.push("pbjs")},140:function(e,t,n){var r=n(65),i=n(52),a=function(e){return function(t,n){var a,o,s=String(i(t)),c=r(n),u=s.length;return c<0||c>=u?e?"":void 0:(a=s.charCodeAt(c))<55296||a>56319||c+1===u||(o=s.charCodeAt(c+1))<56320||o>57343?e?s.charAt(c):a:e?s.slice(c,c+2):o-56320+(a-55296<<10)+65536}};e.exports={codeAt:a(!1),charAt:a(!0)}},141:function(e,t,n){n(101);var r=n(142),i=n(27),a=n(59),o=n(33),s=n(40),c=n(23)("toStringTag");for(var u in r){var d=i[u],l=d&&d.prototype;l&&a(l)!==c&&o(l,c,u),s[u]=s.Array}},142:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},143:function(e,t,n){n(16)({target:"Set",stat:!0},{from:n(144)})},144:function(e,t,n){var r=n(24),i=n(25),a=n(22);e.exports=function(e){var t,n,o,s,c=arguments.length,u=c>1?arguments[1]:void 0;return r(this),(t=void 0!==u)&&r(u),null==e?new this:(n=[],t?(o=0,s=i(u,c>2?arguments[2]:void 0,2),a(e,(function(e){n.push(s(e,o++))}))):a(e,n.push,{that:n}),new this(n))}},145:function(e,t,n){n(16)({target:"Set",stat:!0},{of:n(146)})},146:function(e,t,n){e.exports=function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}},147:function(e,t,n){var r=n(16),i=n(19),a=n(148);r({target:"Set",proto:!0,real:!0,forced:i},{addAll:function(){return a.apply(this,arguments)}})},148:function(e,t,n){var r=n(17),i=n(24);e.exports=function(){for(var e=r(this),t=i(e.add),n=0,a=arguments.length;n<a;n++)t.call(e,arguments[n]);return e}},149:function(e,t,n){var r=n(16),i=n(19),a=n(150);r({target:"Set",proto:!0,real:!0,forced:i},{deleteAll:function(){return a.apply(this,arguments)}})},150:function(e,t,n){var r=n(17),i=n(24);e.exports=function(){for(var e,t=r(this),n=i(t.delete),a=!0,o=0,s=arguments.length;o<s;o++)e=n.call(t,arguments[o]),a=a&&e;return!!a}},151:function(e,t,n){var r=n(16),i=n(19),a=n(17),o=n(25),s=n(38),c=n(22);r({target:"Set",proto:!0,real:!0,forced:i},{every:function(e){var t=a(this),n=s(t),r=o(e,arguments.length>1?arguments[1]:void 0,3);return!c(n,(function(e,n){if(!r(e,e,t))return n()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},152:function(e,t,n){var r=n(16),i=n(19),a=n(26),o=n(17),s=n(24),c=n(41),u=n(22);r({target:"Set",proto:!0,real:!0,forced:i},{difference:function(e){var t=o(this),n=new(c(t,a("Set")))(t),r=s(n.delete);return u(e,(function(e){r.call(n,e)})),n}})},153:function(e,t,n){var r=n(16),i=n(19),a=n(26),o=n(17),s=n(24),c=n(25),u=n(41),d=n(38),l=n(22);r({target:"Set",proto:!0,real:!0,forced:i},{filter:function(e){var t=o(this),n=d(t),r=c(e,arguments.length>1?arguments[1]:void 0,3),i=new(u(t,a("Set"))),f=s(i.add);return l(n,(function(e){r(e,e,t)&&f.call(i,e)}),{IS_ITERATOR:!0}),i}})},154:function(e,t,n){var r=n(16),i=n(19),a=n(17),o=n(25),s=n(38),c=n(22);r({target:"Set",proto:!0,real:!0,forced:i},{find:function(e){var t=a(this),n=s(t),r=o(e,arguments.length>1?arguments[1]:void 0,3);return c(n,(function(e,n){if(r(e,e,t))return n(e)}),{IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},155:function(e,t,n){var r=n(16),i=n(19),a=n(26),o=n(17),s=n(24),c=n(41),u=n(22);r({target:"Set",proto:!0,real:!0,forced:i},{intersection:function(e){var t=o(this),n=new(c(t,a("Set"))),r=s(t.has),i=s(n.add);return u(e,(function(e){r.call(t,e)&&i.call(n,e)})),n}})},156:function(e,t,n){var r=n(16),i=n(19),a=n(17),o=n(24),s=n(22);r({target:"Set",proto:!0,real:!0,forced:i},{isDisjointFrom:function(e){var t=a(this),n=o(t.has);return!s(e,(function(e,r){if(!0===n.call(t,e))return r()}),{INTERRUPTED:!0}).stopped}})},157:function(e,t,n){var r=n(16),i=n(19),a=n(26),o=n(17),s=n(24),c=n(74),u=n(22);r({target:"Set",proto:!0,real:!0,forced:i},{isSubsetOf:function(e){var t=c(this),n=o(e),r=n.has;return"function"!=typeof r&&(n=new(a("Set"))(e),r=s(n.has)),!u(t,(function(e,t){if(!1===r.call(n,e))return t()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},158:function(e,t,n){var r=n(16),i=n(19),a=n(17),o=n(24),s=n(22);r({target:"Set",proto:!0,real:!0,forced:i},{isSupersetOf:function(e){var t=a(this),n=o(t.has);return!s(e,(function(e,r){if(!1===n.call(t,e))return r()}),{INTERRUPTED:!0}).stopped}})},159:function(e,t,n){var r=n(16),i=n(19),a=n(17),o=n(38),s=n(22);r({target:"Set",proto:!0,real:!0,forced:i},{join:function(e){var t=a(this),n=o(t),r=void 0===e?",":String(e),i=[];return s(n,i.push,{that:i,IS_ITERATOR:!0}),i.join(r)}})},16:function(t,n,r){var i=r(27),a=r(111).f,o=r(113),s=r(45),c=r(25),u=r(33),d=r(31),l=function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t};t.exports=function(t,n){var r,f,p,m,g,h,b,v,y=t.target,E=t.global,O=t.stat,A=t.proto,S=E?i:O?i[y]:(i[y]||{}).prototype,w=E?s:s[y]||(s[y]={}),_=w.prototype;for(p in n)r=!o(E?p:y+(O?".":"#")+p,t.forced)&&S&&d(S,p),g=w[p],r&&(h=t.noTargetGet?(v=a(S,p))&&v.value:S[p]),m=r&&h?h:n[p],r&&e(g)==e(m)||(b=t.bind&&r?c(m,i):t.wrap&&r?l(m):A&&"function"==typeof m?c(Function.call,m):m,(t.sham||m&&m.sham||g&&g.sham)&&u(b,"sham",!0),w[p]=b,A&&(d(s,f=y+"Prototype")||u(s,f,{}),s[f][p]=m,t.real&&_&&!_[p]&&u(_,p,m)))}},160:function(e,t,n){var r=n(16),i=n(19),a=n(26),o=n(17),s=n(24),c=n(25),u=n(41),d=n(38),l=n(22);r({target:"Set",proto:!0,real:!0,forced:i},{map:function(e){var t=o(this),n=d(t),r=c(e,arguments.length>1?arguments[1]:void 0,3),i=new(u(t,a("Set"))),f=s(i.add);return l(n,(function(e){f.call(i,r(e,e,t))}),{IS_ITERATOR:!0}),i}})},161:function(e,t,n){var r=n(16),i=n(19),a=n(17),o=n(24),s=n(38),c=n(22);r({target:"Set",proto:!0,real:!0,forced:i},{reduce:function(e){var t=a(this),n=s(t),r=arguments.length<2,i=r?void 0:arguments[1];if(o(e),c(n,(function(n){r?(r=!1,i=n):i=e(i,n,n,t)}),{IS_ITERATOR:!0}),r)throw TypeError("Reduce of empty set with no initial value");return i}})},162:function(e,t,n){var r=n(16),i=n(19),a=n(17),o=n(25),s=n(38),c=n(22);r({target:"Set",proto:!0,real:!0,forced:i},{some:function(e){var t=a(this),n=s(t),r=o(e,arguments.length>1?arguments[1]:void 0,3);return c(n,(function(e,n){if(r(e,e,t))return n()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},163:function(e,t,n){var r=n(16),i=n(19),a=n(26),o=n(17),s=n(24),c=n(41),u=n(22);r({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:function(e){var t=o(this),n=new(c(t,a("Set")))(t),r=s(n.delete),i=s(n.add);return u(e,(function(e){r.call(n,e)||i.call(n,e)})),n}})},164:function(e,t,n){var r=n(16),i=n(19),a=n(26),o=n(17),s=n(24),c=n(41),u=n(22);r({target:"Set",proto:!0,real:!0,forced:i},{union:function(e){var t=o(this),n=new(c(t,a("Set")))(t);return u(e,s(n.add),{that:n}),n}})},165:function(e,t,n){n(100),n(166);var r=n(45);e.exports=r.Array.from},166:function(e,t,n){var r=n(16),i=n(167);r({target:"Array",stat:!0,forced:!n(170)((function(e){Array.from(e)}))},{from:i})},167:function(e,t,n){var r=n(25),i=n(53),a=n(168),o=n(93),s=n(54),c=n(169),u=n(58);e.exports=function(e){var t,n,d,l,f,p,m=i(e),g="function"==typeof this?this:Array,h=arguments.length,b=h>1?arguments[1]:void 0,v=void 0!==b,y=u(m),E=0;if(v&&(b=r(b,h>2?arguments[2]:void 0,2)),null==y||g==Array&&o(y))for(n=new g(t=s(m.length));t>E;E++)p=v?b(m[E],E):m[E],c(n,E,p);else for(f=(l=y.call(m)).next,n=new g;!(d=f.call(l)).done;E++)p=v?a(l,b,[d.value,E],!0):d.value,c(n,E,p);return n.length=E,n}},168:function(e,t,n){var r=n(17),i=n(94);e.exports=function(e,t,n,a){try{return a?t(r(n)[0],n[1]):t(n)}catch(t){throw i(e),t}}},169:function(e,t,n){var r=n(63),i=n(35),a=n(44);e.exports=function(e,t,n){var o=r(t);o in e?i.f(e,o,a(0,n)):e[o]=n}},17:function(e,t,n){var r=n(30);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},170:function(e,t,n){var r=n(23)("iterator"),i=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){i=!0}};o[r]=function(){return this},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var a={};a[r]=function(){return{next:function(){return{done:n=!0}}}},e(a)}catch(e){}return n}},171:function(t,n){t.exports=function t(n){var r=Array.isArray(n)?[]:{};for(var i in n){var a=n[i];r[i]=a&&"object"==e(a)?t(a):a}return r}},172:function(e,t,n){t.a=function(e,t,n,r,i){for(t=t.split?t.split("."):t,r=0;r<t.length;r++)e=e?e[t[r]]:i;return e===i?n:e}},173:function(e,t,n){t.a=function(e,t,n){t.split&&(t=t.split("."));for(var r,i=0,a=t.length,o=e;i<a;++i)r=o[t[i]],o=o[t[i]]=i===a-1?n:null!=r?r:!~t[i+1].indexOf(".")&&+t[i+1]>-1?[]:{}}},174:function(t,n){c.SYNC=1,c.ASYNC=2,c.QUEUE=4;var r=Object.freeze({useProxy:!0,ready:0}),i=new WeakMap,a="2,1,0"===[1].reduce((function(e,t,n){return[e,t,n]}),2).toString()?Array.prototype.reduce:function(e,t){var n,r=Object(this),i=r.length>>>0,a=0;if(t)n=t;else{for(;a<i&&!(a in r);)a++;n=r[a++]}for(;a<i;)a in r&&(n=e(n,r[a],a,r)),a++;return n};function o(e,t){return Array.prototype.slice.call(e,t)}var s=Object.assign||function(e){return a.call(o(arguments,1),(function(e,t){return t&&Object.keys(t).forEach((function(n){e[n]=t[n]})),e}),e)};function c(t){var n,u={},d=[];function l(t,n){return"function"==typeof t?g.call(null,"sync",t,n):"string"==typeof t&&"function"==typeof n?g.apply(null,arguments):"object"==e(t)?f.apply(null,arguments):void 0}function f(e,t,n){var r=!0;void 0===t&&(t=Object.getOwnPropertyNames(e),r=!1);var i={},a=["constructor"];do{(t=t.filter((function(t){return!("function"!=typeof e[t]||-1!==a.indexOf(t)||t.match(/^_/))}))).forEach((function(t){var r=t.split(":"),a=r[0],o=r[1]||"sync";if(!i[a]){var s=e[a];i[a]=e[a]=g(o,s,n?[n,a]:void 0)}})),e=Object.getPrototypeOf(e)}while(r&&e);return i}function p(e){var t=Array.isArray(e)?e:e.split(".");return a.call(t,(function(r,i,a){var o=r[i],s=!1;return o||(a===t.length-1?(n||d.push((function(){s||console.warn("fun-hooks: referenced '"+e+"' but it was never created")})),r[i]=m((function(e){r[i]=e,s=!0}))):r[i]={})}),u)}function m(t){var n=[],r=[],a=function(){},o={before:function(e,t){return u.call(this,n,"before",e,t)},after:function(e,t){return u.call(this,r,"after",e,t)},getHooks:function(t){var i=n.concat(r);"object"==e(t)&&(i=i.filter((function(e){return Object.keys(t).every((function(n){return e[n]===t[n]}))})));try{s(i,{remove:function(){return i.forEach((function(e){e.remove()})),this}})}catch(t){console.error("error adding `remove` to array, did you modify Array.prototype?")}return i},removeAll:function(){return this.getHooks().remove()}},c={install:function(e,i,o){this.type=e,a=o,o(n,r),t&&t(i)}};return i.set(o.after,c),o;function u(e,t,i,o){var s={hook:i,type:t,priority:o||10,remove:function(){var t=e.indexOf(s);-1!==t&&(e.splice(t,1),a(n,r))}};return e.push(s),e.sort((function(e,t){return t.priority-e.priority})),a(n,r),this}}function g(e,r,a){var u=r.after&&i.get(r.after);if(u){if(u.type!==e)throw"fun-hooks: recreated hookable with different type";return r}var l,f,g=a?p(a):m(),h={get:function(e,t){return g[t]||Reflect.get.apply(Reflect,arguments)}};return n||d.push(b),t.useProxy&&"function"==typeof Proxy&&Proxy.revocable?f=new Proxy(r,h):s(f=function(){return h.apply?h.apply(r,this,o(arguments)):r.apply(this,arguments)},g),i.get(f.after).install(e,f,(function(t,n){var r,i=[];function a(e){i.push(e.hook)}t.length||n.length?(t.forEach(a),r=i.push(void 0)-1,n.forEach(a),l=function(t,n,a){var s,c=0,u="async"===e&&"function"==typeof a[a.length-1]&&a.pop();function d(t){"sync"===e?s=t:u&&u.apply(null,arguments)}function l(t){if(i[c]){var r=o(arguments);return l.bail=d,r.unshift(l),i[c++].apply(n,r)}"sync"===e?s=t:u&&u.apply(null,arguments)}return i[r]=function(){var r=o(arguments,1);"async"===e&&u&&(delete l.bail,r.push(l));var i=t.apply(n,r);"sync"===e&&l(i)},l.apply(null,a),s}):l=void 0,b()})),f;function b(){!n&&("sync"!==e||t.ready&c.SYNC)&&("async"!==e||t.ready&c.ASYNC)?"sync"!==e&&t.ready&c.QUEUE?h.apply=function(){var e=arguments;d.push((function(){f.apply(e[1],e[2])}))}:h.apply=function(){throw"fun-hooks: hooked function not ready"}:h.apply=l}}return(t=s({},r,t)).ready?l.ready=function(){n=!0,function(e){for(var t;t=e.shift();)t()}(d)}:n=!0,l.get=p,l}t.exports=c},175:function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=function(e){r(this,{getAuction:function(t){var n=t.auctionId;if(null!=n)return e().find((function(e){return e.getAuctionId()===n}))},getAdUnit:function(t){var n=t.transactionId;if(null!=n)return e().flatMap((function(e){return e.getAdUnits()})).find((function(e){return e.transactionId===n}))},getMediaTypes:function(e){var t=e.transactionId,n=e.requestId;if(null!=n){var r=this.getBidRequest({requestId:n});if(null!=r&&(null==t||r.transactionId===t))return r.mediaTypes}else if(null!=t){var i=this.getAdUnit({transactionId:t});if(null!=i)return i.mediaTypes}},getBidderRequest:function(t){var n=t.requestId,r=t.bidderRequestId;if(null!=n||null!=r){var i=e().flatMap((function(e){return e.getBidRequests()}));return null!=r&&(i=i.filter((function(e){return e.bidderRequestId===r}))),null==n?i[0]:i.find((function(e){return e.bids&&null!=e.bids.find((function(e){return e.bidId===n}))}))}},getBidRequest:function(t){var n=t.requestId;if(null!=n)return e().flatMap((function(e){return e.getBidRequests()})).flatMap((function(e){return e.bids})).find((function(e){return e&&e.bidId===n}))}})}},18:function(e,t,n){n.d(t,"a",(function(){return u}));var r=n(0),i=n(28),a=n(11),o=n.n(a),s=n(175),c=n(5),u=function(){var e=[],t={addWinningBid:function(t){var n=o()(e,(function(e){return e.getAuctionId()===t.auctionId}));n?(t.status=c.BID_STATUS.RENDERED,n.addWinningBid(t)):Object(r.logWarn)("Auction not found when adding winning bid")},getAllWinningBids:function(){return e.map((function(e){return e.getWinningBids()})).reduce(r.flatten,[])},getBidsRequested:function(){return e.map((function(e){return e.getBidRequests()})).reduce(r.flatten,[])},getNoBids:function(){return e.map((function(e){return e.getNoBids()})).reduce(r.flatten,[])},getBidsReceived:function(){return e.map((function(e){if(e.getAuctionStatus()===i.a)return e.getBidsReceived()})).reduce(r.flatten,[]).filter((function(e){return e}))},getAllBidsForAdUnitCode:function(t){return e.map((function(e){return e.getBidsReceived()})).reduce(r.flatten,[]).filter((function(e){return e&&e.adUnitCode===t}))},getAdUnits:function(){return e.map((function(e){return e.getAdUnits()})).reduce(r.flatten,[])},getAdUnitCodes:function(){return e.map((function(e){return e.getAdUnitCodes()})).reduce(r.flatten,[]).filter(r.uniques)},createAuction:function(t){var n=t.adUnits,r=t.adUnitCodes,a=t.callback,o=t.cbTimeout,s=t.labels,c=t.auctionId,u=Object(i.k)({adUnits:n,adUnitCodes:r,callback:a,cbTimeout:o,labels:s,auctionId:c});return function(t){e.push(t)}(u),u},findBidByAdId:function(t){return o()(e.map((function(e){return e.getBidsReceived()})).reduce(r.flatten,[]),(function(e){return e.adId===t}))},getStandardBidderAdServerTargeting:function(){return Object(i.j)()[c.JSON_MAPPING.ADSERVER_TARGETING]},setStatusForBids:function(n,r){var i=t.findBidByAdId(n);if(i&&(i.status=r),i&&r===c.BID_STATUS.BID_TARGETING_SET){var a=o()(e,(function(e){return e.getAuctionId()===i.auctionId}));a&&a.setBidTargeting(i)}},getLastAuctionId:function(){return e.length&&e[e.length-1].getAuctionId()},clearAllAuctions:function(){e.length=0}};return t.index=new s.a((function(){return e})),t}()},19:function(e,t){e.exports=!0},2:function(e,t,n){n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r="native",i="video",a="banner",o="adpod"},20:function(e,t,n){n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u})),t.d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.index,i=void 0===n?s.a.index:n,a=Object(r.deepAccess)(i.getMediaTypes(e),"video"),o=a&&Object(r.deepAccess)(a,"context"),c=i.getAdUnit(e);return d(e,c,a,o)},n.d(t,"c",(function(){return d})),n(9);var r=n(0),i=n(3),a=n(12),o=(n.n(a),n(8)),s=n(18),c="outstream",u="instream",d=Object(o.b)("sync",(function(e,t,n,a){return n&&a!==c?i.b.getConfig("cache.url")||!e.vastXml||e.vastUrl?!(!e.vastUrl&&!e.vastXml):(Object(r.logError)('\n        This bid contains only vastXml and will not work when a prebid cache url is not specified.\n        Try enabling prebid cache with pbjs.setConfig({ cache: {url: "..."} });\n      '),!1):a!==c||!!(e.renderer||t&&t.renderer||n.renderer)}),"checkVideoBidSetup")},21:function(e,t,n){n.d(t,"a",(function(){return a}));var r=n(3),i=n(0),a=function(e){function t(e){var t=r.b.getConfig("pageUrl");if(t)return t;try{var n=e.querySelector("link[rel='canonical']");if(null!==n)return n.href}catch(e){}return null}return function(){var n,a,o,s=[],c=function(e){try{if(!e.location.ancestorOrigins)return;return e.location.ancestorOrigins}catch(e){}}(e),u=r.b.getConfig("maxNestedIframes"),d=!1,l=0,f=!1,p=!1;do{var m=n,g=p,h=void 0,b=!1,v=null;p=!1,n=n?n.parent:e;try{h=n.location.href||null}catch(e){b=!0}if(b)if(g){var y=m.context;try{a=v=y.sourceUrl,f=!0,n===e.top&&(d=!0),y.canonicalUrl&&(o=y.canonicalUrl)}catch(e){}}else{Object(i.logWarn)("Trying to access cross domain iframe. Continuing without referrer and location");try{var E=m.document.referrer;E&&(v=E,n===e.top&&(d=!0))}catch(e){}!v&&c&&c[l-1]&&(v=c[l-1]),v&&!f&&(a=v)}else{if(h&&(a=v=h,f=!1,n===e.top)){d=!0;var O=t(n.document);O&&(o=O)}n.context&&n.context.sourceUrl&&(p=!0)}s.push(v),l++}while(n!==e.top&&l<u);return s.reverse(),{referer:a||null,reachedTop:d,isAmp:f,numIframes:l-1,stack:s,canonicalUrl:o||null}}}(window)},22:function(t,n,r){var i=r(17),a=r(93),o=r(54),s=r(25),c=r(58),u=r(94),d=function(e,t){this.stopped=e,this.result=t};t.exports=function(t,n,r){var l,f,p,m,g,h,b,v=r&&r.that,y=!(!r||!r.AS_ENTRIES),E=!(!r||!r.IS_ITERATOR),O=!(!r||!r.INTERRUPTED),A=s(n,v,1+y+O),S=function(e){return l&&u(l),new d(!0,e)},w=function(e){return y?(i(e),O?A(e[0],e[1],S):A(e[0],e[1])):O?A(e,S):A(e)};if(E)l=t;else{if("function"!=typeof(f=c(t)))throw TypeError("Target is not iterable");if(a(f)){for(p=0,m=o(t.length);m>p;p++)if((g=w(t[p]))&&g instanceof d)return g;return new d(!1)}l=f.call(t)}for(h=l.next;!(b=h.call(l)).done;){try{g=w(b.value)}catch(t){throw u(l),t}if("object"==e(g)&&g&&g instanceof d)return g}return new d(!1)}},227:function(e,t,n){n(228);var r=n(56);e.exports=r("Array","findIndex")},228:function(e,t,n){var r=n(16),i=n(64).findIndex,a=n(55),o="findIndex",s=!0;o in[]&&Array(1).findIndex((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a(o)},23:function(e,t,n){var r=n(27),i=n(88),a=n(31),o=n(67),s=n(89),c=n(119),u=i("wks"),d=r.Symbol,l=c?d:d&&d.withoutSetter||o;e.exports=function(e){return a(u,e)&&(s||"string"==typeof u[e])||(s&&a(d,e)?u[e]=d[e]:u[e]=l("Symbol."+e)),u[e]}},237:function(e,t,n){t.a=function(){window.addEventListener("message",E,!1)};var r=n(10),i=n.n(r),a=n(47),o=n(5),s=n.n(o),c=n(0),u=n(18),d=n(11),l=n.n(d),f=n(13),p=n(12),m=n.n(p),g=n(3),h=n(104),b=s.a.EVENTS.BID_WON,v=s.a.EVENTS.STALE_RENDER,y={"Prebid Request":function(e,t,n){if(null!=n){if(n.status!==s.a.BID_STATUS.RENDERED||(Object(c.logWarn)("Ad id ".concat(n.adId," has been rendered before")),i.a.emit(v,n),!Object(c.deepAccess)(g.b.getConfig("auctionOptions"),"suppressStaleRender"))){try{!function(e,t){var n=e.adId,r=e.ad,i=e.adUrl,a=e.width,o=e.height,s=e.renderer,u=e.cpm;Object(f.c)(s)?Object(f.b)(s,e):n&&(O(e),t({message:"Prebid Response",ad:Object(c.replaceAuctionPrice)(r,u),adUrl:Object(c.replaceAuctionPrice)(i,u),adId:n,width:a,height:o}))}(n,e)}catch(e){return void Object(h.a)({reason:s.a.AD_RENDER_FAILED_REASON.EXCEPTION,message:e.message,id:t.adId,bid:n})}u.a.addWinningBid(n),i.a.emit(b,n)}}else Object(h.a)({reason:s.a.AD_RENDER_FAILED_REASON.CANNOT_FIND_AD,message:"Cannot find ad '".concat(t.adId,"' for cross-origin render request"),id:t.adId})},"Prebid Native":function(e,t,n){if(null!=n)switch(t.action){case"assetRequest":e(Object(a.e)(t,n));break;case"allAssetRequest":e(Object(a.d)(t,n));break;case"resizeNativeHeight":n.height=t.height,n.width=t.width,O(n);break;default:if("click"===Object(a.c)(t,n))return;u.a.addWinningBid(n),i.a.emit(b,n)}else Object(c.logError)("Cannot find ad '".concat(t.adId,"' for x-origin event request"))},"Prebid Event":function(e,t,n){if(null!=n)if(n.status===s.a.BID_STATUS.RENDERED)switch(t.event){case s.a.EVENTS.AD_RENDER_FAILED:Object(h.a)({bid:n,id:t.adId,reason:t.info.reason,message:t.info.message});break;case s.a.EVENTS.AD_RENDER_SUCCEEDED:Object(h.b)({doc:null,bid:n,id:t.adId});break;default:Object(c.logError)("Received x-origin event request for unsupported event: '".concat(t.event,"' (adId: '").concat(t.adId,"')"))}else Object(c.logWarn)("Received x-origin event request without corresponding render request for ad '".concat(t.adId,"'"));else Object(c.logError)("Cannot find ad '".concat(t.adId,"' for x-origin event request"))}};function E(e){var t=e.message?"message":"data",n={};try{n=JSON.parse(e[t])}catch(e){return}if(n&&n.adId&&n.message){var r=l()(u.a.getBidsReceived(),(function(e){return e.adId===n.adId}));y.hasOwnProperty(n.message)&&y[n.message](function(e){return null==e.origin&&0===e.ports.length?function(){var e="Cannot post message to a frame with null origin. Please update creatives to use MessageChannel, see https://github.com/prebid/Prebid.js/issues/7870";throw Object(c.logError)(e),new Error(e)}:e.ports.length>0?function(t){e.ports[0].postMessage(JSON.stringify(t))}:function(t){e.source.postMessage(JSON.stringify(t),e.origin)}}(e),n,r)}}function O(e){var t=e.adId,n=e.adUnitCode,r=e.width,i=e.height;["div","iframe"].forEach((function(e){var a=function(e){var r=function(e,t){return Object(c.isGptPubadsDefined)()?function(e){var t=l()(window.googletag.pubads().getSlots(),(function(t){return l()(t.getTargetingKeys(),(function(n){return m()(t.getTargeting(n),e)}))}));return t?t.getSlotElementId():null}(e):Object(c.isApnGetTagDefined)()?function(e){var t=window.apntag.getTag(e);return t&&t.targetId}(t):t}(t,n),i=document.getElementById(r);return i&&i.querySelector(e)}(e+':not([style*="display: none"])');if(a){var o=a.style;o.width=r+"px",o.height=i+"px"}else Object(c.logWarn)("Unable to locate matching page element for adUnitCode ".concat(n,".  Can't resize it to ad's dimensions.  Please review setup."))}))}},24:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},25:function(e,t,n){var r=n(24);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},26:function(e,t,n){var r=n(45),i=n(27),a=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?a(r[e])||a(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},27:function(t,n,r){(function(n){var r=function(e){return e&&e.Math==Math&&e};t.exports=r("object"==("undefined"==typeof globalThis?"undefined":e(globalThis))&&globalThis)||r("object"==("undefined"==typeof window?"undefined":e(window))&&window)||r("object"==("undefined"==typeof self?"undefined":e(self))&&self)||r("object"==e(n)&&n)||function(){return this}()||Function("return this")()}).call(n,r(37))},28:function(t,n,r){r.d(n,"b",(function(){return I})),r.d(n,"a",(function(){return C})),n.k=function(e){var t,n,r,a,o=e.adUnits,s=e.adUnitCodes,c=e.callback,d=e.cbTimeout,l=e.labels,f=e.auctionId,p=o,m=l,h=s,b=[],y=[],E=[],O=f||Object(i.generateUUID)(),D=c,B=d,L=[],V=new Set;function F(){return{auctionId:O,timestamp:t,auctionEnd:n,auctionStatus:r,adUnits:p,adUnitCodes:h,labels:m,bidderRequests:b,noBids:E,bidsReceived:y,winningBids:L,timeout:B}}function q(e,t){if(t&&clearTimeout(a),void 0===n){var s=[];e&&(Object(i.logMessage)("Auction ".concat(O," timedOut")),c=V,(s=b.map((function(e){return(e.bids||[]).filter((function(e){return!c.has(e.bidder)}))})).reduce(i.flatten,[]).map((function(e){return{bidId:e.bidId,bidder:e.bidder,adUnitCode:e.adUnitCode,auctionId:e.auctionId}}))).length&&w.emit(_.EVENTS.BID_TIMEOUT,s)),r=C,n=Date.now(),w.emit(_.EVENTS.AUCTION_END,F()),N(p,(function(){try{if(null!=D){var t=h,n=y.filter(i.bind.call(i.adUnitsFilter,this,t)).reduce(W,{});D.apply(pbjs,[n,e,O]),D=null}}catch(e){Object(i.logError)("Error executing bidsBackHandler",null,e)}finally{s.length&&S.callTimedOutBidders(o,s,B);var r=u.b.getConfig("userSync")||{};r.enableOverride||A(r.syncDelay)}}))}var c}function G(){u.b.resetBidder(),Object(i.logInfo)("Bids Received for Auction with id: ".concat(O),y),r=C,q(!1,!0)}function z(e){V.add(e)}function H(e){var t=this;e.forEach((function(e){var t;t=e,b=b.concat(t)}));var n={},o={bidRequests:e,run:function(){var o,d;o=q.bind(null,!0),d=setTimeout(o,B),a=d,r=I,w.emit(_.EVENTS.AUCTION_INIT,F());var l=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).index,r=void 0===n?v.a.index:n,a=0,o=!1,s=new Set,c={},d={};function l(e,t){null==d[e]&&(d[e]=Promise.resolve()),d[e]=d[e].then((function(){return Promise.resolve(t).catch((function(){}))}))}function f(e,n){var r=e.timeout;(null==r||r>t.getTimeout())&&(r=t.getTimeout());var i=t.getAuctionStart()+r-Date.now(),a=d[e.bidderRequestId],o=d[""];(null!=a||null!=o)&&i>0?Promise.race([new Promise((function(e){return setTimeout(e,i)})),Promise.resolve(o).then((function(){return a}))]).then(n):n()}function p(){a--,o&&0===a&&e()}function m(e,n){c[n.requestId]=!0,a++;var r=U({adUnitCode:e,bid:n,auctionId:t.getAuctionId()});"video"===r.mediaType?M(t,r,p):(R(t,r),p())}function h(){var n=t.getBidRequests(),r=u.b.getConfig("auctionOptions");if(s.add(this),r&&!Object(i.isEmpty)(r)){var d=r.secondaryBidders;d&&!n.every((function(e){return g()(d,e.bidderCode)}))&&(n=n.filter((function(e){return!g()(d,e.bidderCode)})))}o=n.every((function(e){return s.has(e)})),this.bids.forEach((function(e){c[e.bidId]||(t.addNoBid(e),w.emit(_.EVENTS.NO_BID,e))})),o&&0===a&&e()}return{addBidResponse:function(e,t){var n=r.getBidderRequest(t);l(n&&n.bidderRequestId||"",k.call({dispatch:m},e,t))},adapterDone:function(){f(this,h.bind(this))}}}(G,t);S.callBids(p,e,l.addBidResponse,l.adapterDone,{request:function(e,t){c(T,t),c(n,e),j[e]||(j[e]={SRA:!0,origin:t}),n[e]>1&&(j[e].SRA=!1)},done:function(e){T[e]--,P[0]&&s(P[0])&&P.shift()}},B,z)}};function s(e){var t=!0,n=u.b.getConfig("maxRequestsPerOrigin")||4;return e.bidRequests.some((function(e){var r=1,i=void 0!==e.src&&e.src===_.S2S.SRC?"s2s":e.bidderCode;return j[i]&&(!1===j[i].SRA&&(r=Math.min(e.bids.length,n)),T[j[i].origin]+r>n&&(t=!1)),!t})),t&&e.run(),t}function c(e,t){void 0===e[t]?e[t]=1:e[t]++}s(o)||(Object(i.logWarn)("queueing auction due to limited endpoint capacity"),P.push(o))}return{addBidReceived:function(e){y=y.concat(e)},addNoBid:function(e){E=E.concat(e)},executeCallback:q,callBids:function(){r="started",t=Date.now();var e=S.makeBidRequests(p,t,O,B,m);Object(i.logInfo)("Bids Requested for Auction with id: ".concat(O),e),e.length<1?(Object(i.logWarn)("No valid bid requests returned for auction"),G()):x.call({dispatch:H,context:this},e)},addWinningBid:function(e){L=L.concat(e),S.callBidWonBidder(e.bidder,e,o)},setBidTargeting:function(e){S.callSetTargetingBidder(e.bidder,e)},getWinningBids:function(){return L},getAuctionStart:function(){return t},getTimeout:function(){return B},getAuctionId:function(){return O},getAuctionStatus:function(){return r},getAdUnits:function(){return p},getAdUnitCodes:function(){return h},getBidRequests:function(){return b},getBidsReceived:function(){return y},getNoBids:function(){return E}}},r.d(n,"c",(function(){return k})),r.d(n,"e",(function(){return x})),n.g=D,n.d=R,r.d(n,"f",(function(){return B})),r.d(n,"i",(function(){return V})),r.d(n,"h",(function(){return F})),n.j=G;var i=r(0),a=r(49),o=r(47),s=r(103),c=r(13),u=r(3),d=r(61),l=r(8),f=r(11),p=r.n(f),m=r(12),g=r.n(m),h=r(20),b=r(2),v=r(18),y=r(42);function E(t){return(E="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var A=d.a.syncUsers,S=r(9).default,w=r(10),_=r(5),I="inProgress",C="completed";w.on(_.EVENTS.BID_ADJUSTMENT,(function(e){!function(e){var t=e.bidderCode,n=e.cpm,r=y.a.get(t||null,"bidCpmAdjustment");if(r&&"function"==typeof r)try{n=r(e.cpm,O({},e))}catch(e){Object(i.logError)("Error during bid adjustment","bidmanager.js",e)}n>=0&&(e.cpm=n)}(e)}));var T={},j={},P=[],k=Object(l.b)("sync",(function(e,t){this.dispatch.call(null,e,t)}),"addBidResponse"),x=Object(l.b)("sync",(function(e){this.dispatch.call(this.context,e)}),"addBidderRequests"),N=Object(l.b)("async",(function(e,t){t&&t()}),"bidsBackCallback");function D(e,t){t.timeToRespond>e.getTimeout()+u.b.getConfig("timeoutBuffer")&&e.executeCallback(!0)}function R(e,t){!function(e){var t,n=!0===y.a.get(e.bidderCode,"allowZeroCpmBids")?e.cpm>=0:e.cpm>0;e.bidderCode&&(n||e.dealId)&&(t=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).index,r=void 0===n?v.a.index:n;if(!t)return{};var i=r.getBidRequest(t),a={},s=G(t.mediaType,e);return z(a,s,t,i),e&&y.a.getOwn(e,_.JSON_MAPPING.ADSERVER_TARGETING)&&(z(a,y.a.ownSettingsFor(e),t,i),t.sendStandardTargeting=y.a.get(e,"sendStandardTargeting")),t.native&&(a=O({},a,Object(o.f)(t))),a}(e.bidderCode,e)),e.adserverTargeting=O(e.adserverTargeting||{},t)}(t),w.emit(_.EVENTS.BID_RESPONSE,t),e.addBidReceived(t),D(e,t)}function M(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=r.index,o=void 0===a?v.a.index:a,s=!0,c=Object(i.deepAccess)(o.getMediaTypes({requestId:t.originalRequestId||t.requestId,transactionId:t.transactionId}),"video"),d=c&&Object(i.deepAccess)(c,"context");u.b.getConfig("cache.url")&&d!==h.b&&(!t.videoCacheKey||u.b.getConfig("cache.ignoreBidderCacheKey")?(s=!1,B(e,t,n,c)):t.vastUrl||(Object(i.logError)("videoCacheKey specified but not required vastUrl for video bid"),s=!1)),s&&(R(e,t),n())}var B=Object(l.b)("async",(function(e,t,n,r){Object(s.b)([t],(function(r,a){r?(Object(i.logWarn)("Failed to save to the video cache: ".concat(r,". Video bid must be discarded.")),D(e,t)):""===a[0].uuid?(Object(i.logWarn)("Supplied video cache key was already in use by Prebid Cache; caching attempt was rejected. Video bid must be discarded."),D(e,t)):(t.videoCacheKey=a[0].uuid,t.vastUrl||(t.vastUrl=Object(s.a)(t.videoCacheKey)),R(e,t),n())}))}),"callPrebidCache");function U(e){var t=e.adUnitCode,n=e.bid,r=e.auctionId,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=o.index,d=void 0===s?v.a.index:s,l=d.getBidderRequest(n),f=l&&l.start||n.requestTimestamp,p=O({},n,{auctionId:r,responseTimestamp:Object(i.timestamp)(),requestTimestamp:f,cpm:parseFloat(n.cpm)||0,bidder:n.bidderCode,adUnitCode:t});p.timeToRespond=p.responseTimestamp-p.requestTimestamp,w.emit(_.EVENTS.BID_ADJUSTMENT,p);var m=d.getAdUnit(p).renderer,g=p.mediaType,h=d.getMediaTypes(p),b=h&&h[g],y=b&&b.renderer,A=null;y&&y.url&&y.render&&(!0!==y.backupOnly||!n.renderer)?A=y:m&&m.url&&m.render&&(!0!==m.backupOnly||!n.renderer)&&(A=m),A&&(p.renderer=c.a.install({url:A.url}),p.renderer.setRender(A.render));var S=L(n.mediaType,h,u.b.getConfig("mediaTypePriceGranularity")),I=Object(a.a)(p.cpm,"object"===E(S)?S:u.b.getConfig("customPriceBucket"),u.b.getConfig("currency.granularityMultiplier"));return p.pbLg=I.low,p.pbMg=I.med,p.pbHg=I.high,p.pbAg=I.auto,p.pbDg=I.dense,p.pbCg=I.custom,p}function L(e,t,n){if(e&&n){if(e===b.d){var r=Object(i.deepAccess)(t,"".concat(b.d,".context"),"instream");if(n["".concat(b.d,"-").concat(r)])return n["".concat(b.d,"-").concat(r)]}return n[e]}}var V=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.index,r=void 0===n?v.a.index:n,i=L(e.mediaType,r.getMediaTypes(e),u.b.getConfig("mediaTypePriceGranularity")),a="string"==typeof e.mediaType&&i?"string"==typeof i?i:"custom":u.b.getConfig("priceGranularity");return a},F=function(e){return function(t){var n=e||V(t);return n===_.GRANULARITY_OPTIONS.AUTO?t.pbAg:n===_.GRANULARITY_OPTIONS.DENSE?t.pbDg:n===_.GRANULARITY_OPTIONS.LOW?t.pbLg:n===_.GRANULARITY_OPTIONS.MEDIUM?t.pbMg:n===_.GRANULARITY_OPTIONS.HIGH?t.pbHg:n===_.GRANULARITY_OPTIONS.CUSTOM?t.pbCg:void 0}};function q(e,t){return{key:e,val:"function"==typeof t?function(e,n){return t(e,n)}:function(e){return Object(i.getValue)(e,t)}}}function G(e,t){var n=_.TARGETING_KEYS,r=O({},y.a.settingsFor(null));if(r[_.JSON_MAPPING.ADSERVER_TARGETING]||(r[_.JSON_MAPPING.ADSERVER_TARGETING]=function(){var e=_.TARGETING_KEYS;return[q(e.BIDDER,"bidderCode"),q(e.AD_ID,"adId"),q(e.PRICE_BUCKET,F()),q(e.SIZE,"size"),q(e.DEAL,"dealId"),q(e.SOURCE,"source"),q(e.FORMAT,"mediaType"),q(e.ADOMAIN,(function(e){return e.meta&&e.meta.advertiserDomains&&e.meta.advertiserDomains.length>0?e.meta.advertiserDomains[0]:""}))]}()),"video"===e){var a=r[_.JSON_MAPPING.ADSERVER_TARGETING].slice();if(r[_.JSON_MAPPING.ADSERVER_TARGETING]=a,[n.UUID,n.CACHE_ID].forEach((function(e){void 0===p()(a,(function(t){return t.key===e}))&&a.push(q(e,"videoCacheKey"))})),u.b.getConfig("cache.url")&&(!t||!1!==y.a.get(t,"sendStandardTargeting"))){var o=Object(i.parseUrl)(u.b.getConfig("cache.url"));void 0===p()(a,(function(e){return e.key===n.CACHE_HOST}))&&a.push(q(n.CACHE_HOST,(function(e){return Object(i.deepAccess)(e,"adserverTargeting.".concat(n.CACHE_HOST))?e.adserverTargeting[n.CACHE_HOST]:o.hostname})))}}return r}function z(e,t,n,r){var a=t[_.JSON_MAPPING.ADSERVER_TARGETING];return n.size=n.getSize(),Object(i._each)(a,(function(a){var o=a.key,s=a.val;if(e[o]&&Object(i.logWarn)("The key: "+o+" is being overwritten"),Object(i.isFn)(s))try{s=s(n,r)}catch(e){Object(i.logError)("bidmanager","ERROR",e)}(void 0===t.suppressEmptyKeys||!0!==t.suppressEmptyKeys)&&o!==_.TARGETING_KEYS.DEAL||!Object(i.isEmptyStr)(s)&&null!=s?e[o]=s:Object(i.logInfo)("suppressing empty key '"+o+"' from adserver targeting")})),e}function W(e,t){return e[t.adUnitCode]||(e[t.adUnitCode]={bids:[]}),e[t.adUnitCode].bids.push(t),e}},29:function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},3:function(t,n,r){r.d(n,"a",(function(){return O})),r.d(n,"b",(function(){return _}));var i=r(49),a=r(11),o=r.n(a),s=r(12),c=r.n(s),u=r(91),d=r.n(u),l=r(0),f=["fpd"];function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(t){return(g="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var b=r(75),v=r(5),y="TRUE"===Object(l.getParameterByName)(v.DEBUG_MODE).toUpperCase(),E=window.location.origin,O="random",A={};A[O]=!0,A.fixed=!0;var S=O,w={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},_=function(){var e,t,n,r=[],a=null;function s(){e={};var r={_debug:y,get debug(){return this._debug},set debug(e){this._debug=e},_bidderTimeout:3e3,get bidderTimeout(){return this._bidderTimeout},set bidderTimeout(e){this._bidderTimeout=e},_publisherDomain:E,get publisherDomain(){return this._publisherDomain},set publisherDomain(e){this._publisherDomain=e},_priceGranularity:w.MEDIUM,set priceGranularity(e){s(e)&&("string"==typeof e?this._priceGranularity=a(e)?e:w.MEDIUM:Object(l.isPlainObject)(e)&&(this._customPriceBucket=e,this._priceGranularity=w.CUSTOM,Object(l.logMessage)("Using custom price granularity")))},get priceGranularity(){return this._priceGranularity},_customPriceBucket:{},get customPriceBucket(){return this._customPriceBucket},_mediaTypePriceGranularity:{},get mediaTypePriceGranularity(){return this._mediaTypePriceGranularity},set mediaTypePriceGranularity(e){var t=this;this._mediaTypePriceGranularity=Object.keys(e).reduce((function(n,r){return s(e[r])?"string"==typeof e?n[r]=a(e[r])?e[r]:t._priceGranularity:Object(l.isPlainObject)(e)&&(n[r]=e[r],Object(l.logMessage)("Using custom price granularity for ".concat(r))):Object(l.logWarn)("Invalid price granularity for media type: ".concat(r)),n}),{})},_sendAllBids:!0,get enableSendAllBids(){return this._sendAllBids},set enableSendAllBids(e){this._sendAllBids=e},_useBidCache:!1,get useBidCache(){return this._useBidCache},set useBidCache(e){this._useBidCache=e},_deviceAccess:!0,get deviceAccess(){return this._deviceAccess},set deviceAccess(e){this._deviceAccess=e},_bidderSequence:S,get bidderSequence(){return this._bidderSequence},set bidderSequence(e){A[e]?this._bidderSequence=e:Object(l.logWarn)("Invalid order: ".concat(e,". Bidder Sequence was not set."))},_timeoutBuffer:400,get timeoutBuffer(){return this._timeoutBuffer},set timeoutBuffer(e){this._timeoutBuffer=e},_disableAjaxTimeout:!1,get disableAjaxTimeout(){return this._disableAjaxTimeout},set disableAjaxTimeout(e){this._disableAjaxTimeout=e},_maxNestedIframes:10,get maxNestedIframes(){return this._maxNestedIframes},set maxNestedIframes(e){this._maxNestedIframes=e},_auctionOptions:{},get auctionOptions(){return this._auctionOptions},set auctionOptions(e){(function(e){if(!Object(l.isPlainObject)(e))return Object(l.logWarn)("Auction Options must be an object"),!1;for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];if("secondaryBidders"!==r&&"suppressStaleRender"!==r)return Object(l.logWarn)("Auction Options given an incorrect param: ".concat(r)),!1;if("secondaryBidders"===r){if(!Object(l.isArray)(e[r]))return Object(l.logWarn)("Auction Options ".concat(r," must be of type Array")),!1;if(!e[r].every(l.isStr))return Object(l.logWarn)("Auction Options ".concat(r," must be only string")),!1}else if("suppressStaleRender"===r&&!Object(l.isBoolean)(e[r]))return Object(l.logWarn)("Auction Options ".concat(r," must be of type boolean")),!1}return!0})(e)&&(this._auctionOptions=e)}};function a(e){return o()(Object.keys(w),(function(t){return e===w[t]}))}function s(e){if(!e)return Object(l.logError)("Prebid Error: no value passed to `setPriceGranularity()`"),!1;if("string"==typeof e)a(e)||Object(l.logWarn)("Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default.");else if(Object(l.isPlainObject)(e)&&!Object(i.b)(e))return Object(l.logError)("Invalid custom price value passed to `setPriceGranularity()`"),!1;return!0}t&&C(Object.keys(t).reduce((function(e,n){return t[n]!==r[n]&&(e[n]=r[n]||{}),e}),{})),t=r,n={}}function u(){if(a&&n&&Object(l.isPlainObject)(n[a])){var e=n[a],r=new d.a(Object.keys(t).concat(Object.keys(e)));return b(r).reduce((function(n,r){return void 0===e[r]?n[r]=t[r]:void 0===t[r]?n[r]=e[r]:Object(l.isPlainObject)(e[r])?n[r]=Object(l.mergeDeep)({},t[r],e[r]):n[r]=e[r],n}),{})}return h({},t)}function v(e){var t={};return Object.keys(e).forEach((function(n){var r="context"===n?"site":n;t[r]="site"===r||"user"===r?Object.keys(e[n]).reduce((function(t,r){return"data"===r?Object(l.mergeDeep)(t,{ext:{data:e[n][r]}}):Object(l.mergeDeep)(t,m({},r,e[n][r])),t}),{}):e[n]})),t}function O(e){var t={};return Object.keys(e).filter((function(e){return"context"===e})).forEach((function(n){Object.keys(e[n]).forEach((function(r){"data"===r?Object(l.mergeDeep)(t,{ext:{data:e[n][r]}}):"object"!==g(e[n][r])||Array.isArray(e[n][r])?Object(l.mergeDeep)(t,{ext:{data:m({},r.toLowerCase(),e[n][r])}}):Object.keys(e[n][r]).forEach((function(i){Object(l.mergeDeep)(t,{ext:{data:m({},r.toLowerCase(),m({},i.toLowerCase(),e[n][r][i]))}})}))}))})),t}function _(n){if(Object(l.isPlainObject)(n)){var r=Object.keys(n),i={};r.forEach((function(r){var a="fpd"===r?"ortb2":r,o="fpd"===r?v(n[r]):n[r];Object(l.isPlainObject)(e[a])&&Object(l.isPlainObject)(o)&&(o=h({},e[a],o)),i[a]=t[a]=o})),C(i)}else Object(l.logError)("setConfig options must be an object")}function I(e,t){var n=t;if("string"!=typeof e&&(n=e,e="*"),"function"==typeof n){var i={topic:e,callback:n};return r.push(i),function(){r.splice(r.indexOf(i),1)}}Object(l.logError)("listener must be a function")}function C(e){var t=Object.keys(e);r.filter((function(e){return c()(t,e.topic)})).forEach((function(t){t.callback(m({},t.topic,e[t.topic]))})),r.filter((function(e){return"*"===e.topic})).forEach((function(t){return t.callback(e)}))}function T(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{r(e),e.bidders.forEach((function(r){n[r]||(n[r]={}),Object.keys(e.config).forEach((function(i){var a="fpd"===i?"ortb2":i,o="fpd"===i?v(e.config[i]):e.config[i];if(Object(l.isPlainObject)(o)){var s=t?l.mergeDeep:Object.assign;n[r][a]=s({},n[r][a]||{},o)}else n[r][a]=o}))}))}catch(e){Object(l.logError)(e)}function r(e){if(!Object(l.isPlainObject)(e))throw"setBidderConfig bidder options must be an object";if(!Array.isArray(e.bidders)||!e.bidders.length)throw"setBidderConfig bidder options must contain a bidders list with at least 1 bidder";if(!Object(l.isPlainObject)(e.config))throw"setBidderConfig bidder options must contain a config object"}}function j(e,t){a=e;try{return t()}finally{P()}}function P(){a=null}return s(),{getCurrentBidder:function(){return a},resetBidder:P,getConfig:function(){if(arguments.length<=1&&"function"!=typeof(arguments.length<=0?void 0:arguments[0])){var e=arguments.length<=0?void 0:arguments[0];return e?Object(l.deepAccess)(u(),e):u()}return I.apply(void 0,arguments)},readConfig:function(){if(arguments.length<=1&&"function"!=typeof(arguments.length<=0?void 0:arguments[0])){var e=arguments.length<=0?void 0:arguments[0],t=Object(l.deepClone)(u());return e?Object(l.deepAccess)(t,e):t}return I.apply(void 0,arguments)},setConfig:_,mergeConfig:function(e){if(Object(l.isPlainObject)(e)){var t=Object.keys(e).reduce((function(t,n){var r=u()[n]||{};return t[n]=Object(l.mergeDeep)(r,e[n]),t}),{});return _(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t)),t}Object(l.logError)("mergeConfig input must be an object")},setDefaults:function(n){Object(l.isPlainObject)(e)?(h(e,n),h(t,n)):Object(l.logError)("defaults must be an object")},resetConfig:s,runWithBidder:j,callbackWithBidder:function(e){return function(t){return function(){if("function"==typeof t){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return j(e,l.bind.call.apply(l.bind,[t,this].concat(r)))}Object(l.logWarn)("config.callbackWithBidder callback is not a function")}}},setBidderConfig:T,getBidderConfig:function(){return n},mergeBidderConfig:function(e){return T(e,!0)},convertAdUnitFpd:function(e){var t=[];return e.forEach((function(e){e.fpd?(e.ortb2Imp?Object(l.mergeDeep)(e.ortb2Imp,O(e.fpd)):e.ortb2Imp=O(e.fpd),t.push(function(e){return e.fpd,function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,f)}(e))):t.push(e)})),t},getLegacyFpd:function(e){if("object"===g(e)){var t={};return Object.keys(e).forEach((function(n){var r="site"===n?"context":n;t[r]="context"===r||"user"===r?Object.keys(e[n]).filter((function(e){return"data"!==e})).reduce((function(t,r){return"ext"===r?Object(l.mergeDeep)(t,e[n][r]):Object(l.mergeDeep)(t,m({},r,e[n][r])),t}),{}):e[n]})),t}},getLegacyImpFpd:function(e){if("object"===g(e)){var t={};return Object(l.deepAccess)(e,"ext.data")&&Object.keys(e.ext.data).forEach((function(n){"pbadslot"===n?Object(l.mergeDeep)(t,{context:{pbAdSlot:e.ext.data[n]}}):"adserver"===n?Object(l.mergeDeep)(t,{context:{adServer:e.ext.data[n]}}):Object(l.mergeDeep)(t,{context:{data:m({},n,e.ext.data[n])}})})),t}}}}()},30:function(t,n){t.exports=function(t){return"object"==e(t)?null!==t:"function"==typeof t}},31:function(e,t,n){var r=n(53),i={}.hasOwnProperty;e.exports=Object.hasOwn||function(e,t){return i.call(r(e),t)}},32:function(e,t,n){t.a=function(e,t,n){if(t&&e){if(i()(s,t))return o[e]?(n&&"function"==typeof n&&(o[e].loaded?n():o[e].callbacks.push(n)),o[e].tag):(o[e]={loaded:!1,tag:null,callbacks:[]},n&&"function"==typeof n&&o[e].callbacks.push(n),Object(a.logWarn)("module ".concat(t," is loading external JavaScript")),function(t,n){var r=document.createElement("script");return r.type="text/javascript",r.async=!0,o[e].tag=r,r.readyState?r.onreadystatechange=function(){"loaded"!==r.readyState&&"complete"!==r.readyState||(r.onreadystatechange=null,n())}:r.onload=function(){n()},r.src=t,Object(a.insertElement)(r),r}(e,(function(){o[e].loaded=!0;try{for(var t=0;t<o[e].callbacks.length;t++)o[e].callbacks[t]()}catch(e){Object(a.logError)("Error executing callback","adloader.js:loadExternalScript",e)}})));Object(a.logError)("".concat(t," not whitelisted for loading external JavaScript"))}else Object(a.logError)("cannot load external script without url and moduleCode")};var r=n(12),i=n.n(r),a=n(0),o={},s=["adloox","criteo","outstream","adagio","browsi","brandmetrics","justtag"]},33:function(e,t,n){var r=n(34),i=n(35),a=n(44);e.exports=r?function(e,t,n){return i.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},34:function(e,t,n){var r=n(29);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},35:function(e,t,n){var r=n(34),i=n(86),a=n(17),o=n(63),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(a(e),t=o(t,!0),a(n),i)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},37:function(t,n){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==("undefined"==typeof window?"undefined":e(window))&&(r=window)}t.exports=r},38:function(e,t,n){var r=n(19),i=n(74);e.exports=r?i:function(e){return Set.prototype.values.call(e)}},39:function(e,t,n){n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return I})),t.c=C,n.d(t,"d",(function(){return T}));var r=n(0),i=n(3),a=n(47),o=n(18),s=n(102),c=n(2),u=n(8),d=n(42),l=n(12),f=n.n(l),p=n(11),m=n.n(p);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y=n(5),E=[],O="targetingControls.allowTargetingKeys",A="targetingControls.addTargetingKeys",S='Only one of "'.concat(O,'" or "').concat(A,'" can be set'),w=Object.keys(y.TARGETING_KEYS).map((function(e){return y.TARGETING_KEYS[e]})),_={isBidNotExpired:function(e){return e.responseTimestamp+1e3*e.ttl-1e3>Object(r.timestamp)()},isUnusedBid:function(e){return e&&(e.status&&!f()([y.BID_STATUS.RENDERED],e.status)||!e.status)}},I=Object(u.b)("sync",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!a){var o=[],s=i.b.getConfig("sendBidsControl.dealPrioritization"),c=Object(r.groupBy)(e,"adUnitCode");return Object.keys(c).forEach((function(e){var i=[],a=Object(r.groupBy)(c[e],"bidderCode");Object.keys(a).forEach((function(e){return i.push(a[e].reduce(t))})),n>0?(i=s?i.sort(C(!0)):i.sort((function(e,t){return t.cpm-e.cpm})),o.push.apply(o,b(i.slice(0,n)))):o.push.apply(o,b(i))})),o}return e}));function C(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){return void 0!==t.adserverTargeting.hb_deal&&void 0===n.adserverTargeting.hb_deal?-1:void 0===t.adserverTargeting.hb_deal&&void 0!==n.adserverTargeting.hb_deal?1:e?n.cpm-t.cpm:n.adserverTargeting.hb_pb-t.adserverTargeting.hb_pb}}var T=function(e){var t={},n={};function o(e,t){return e.adserverTargeting&&t&&(Object(r.isArray)(t)&&f()(t,e.adUnitCode)||"string"==typeof t&&e.adUnitCode===t)}function u(e,t){if(!0===i.b.getConfig("targetingControls.alwaysIncludeDeals")){var n=w.concat(a.a);return I(t,r.getHighestCpm).map((function(t){if(t.dealId&&o(t,e))return h({},t.adUnitCode,B(t,n.filter((function(e){return void 0!==t.adserverTargeting[e]}))))})).filter((function(e){return e}))}return[]}function l(e,t){var n=g({},y.TARGETING_KEYS,y.NATIVE_KEYS),i=Object.keys(n),a={};Object(r.logInfo)("allowTargetingKeys - allowed keys [ ".concat(t.map((function(e){return n[e]})).join(", ")," ]")),e.map((function(e){var r=Object.keys(e)[0],o=e[r].filter((function(e){var r=Object.keys(e)[0],o=0===i.filter((function(e){return 0===r.indexOf(n[e])})).length||m()(t,(function(e){var t=n[e];return 0===r.indexOf(t)}));return a[r]=!o,o}));e[r]=o}));var o=Object.keys(a).filter((function(e){return a[e]}));return Object(r.logInfo)("allowTargetingKeys - removed keys [ ".concat(o.join(", ")," ]")),e.filter((function(e){return e[Object.keys(e)[0]].length>0}))}function p(e,t){var n=Object(r.deepClone)(e);return Object.keys(n).map((function(e){return{adUnitCode:e,adserverTargeting:n[e]}})).sort(C()).reduce((function(e,i,a,o){var s,c=(s=i.adserverTargeting,Object.keys(s).reduce((function(e,t){return e+"".concat(t,"%3d").concat(encodeURIComponent(s[t]),"%26")}),""));a+1===o.length&&(c=c.slice(0,-3));var u=i.adUnitCode,d=c.length;return d<=t?(t-=d,Object(r.logInfo)("AdUnit '".concat(u,"' auction keys comprised of ").concat(d," characters.  Deducted from running threshold; new limit is ").concat(t),n[u]),e[u]=n[u]):Object(r.logWarn)("The following keys for adUnitCode '".concat(u,"' exceeded the current limit of the 'auctionKeyMaxChars' setting.\nThe key-set size was ").concat(d,", the current allotted amount was ").concat(t,".\n"),n[u]),a+1===o.length&&0===Object.keys(e).length&&Object(r.logError)("No auction targeting keys were permitted due to the setting in setConfig(targetingControls.auctionKeyMaxChars).  Please review setup and consider adjusting."),e}),{})}function v(e){return e.map((function(e){return h({},Object.keys(e)[0],e[Object.keys(e)[0]].map((function(e){return h({},Object.keys(e)[0],e[Object.keys(e)[0]].join(","))})).reduce((function(e,t){return g(t,e)}),{}))})).reduce((function(e,t){var n=Object.keys(t)[0];return e[n]=g({},e[n],t[n]),e}),{})}function T(t){return"string"==typeof t?[t]:Object(r.isArray)(t)?t:e.getAdUnitCodes()||[]}function j(){var t=e.getBidsReceived();if(i.b.getConfig("useBidCache")){var a=i.b.getConfig("bidCacheFilterFunction");"function"==typeof a&&(t=t.filter((function(e){return n[e.adUnitCode]===e.auctionId||!!a(e)})))}else t=t.filter((function(e){return n[e.adUnitCode]===e.auctionId}));return t=t.filter((function(e){return Object(r.deepAccess)(e,"video.context")!==c.a})).filter((function(e){return"banner"!==e.mediaType||Object(s.c)([e.width,e.height])})).filter(_.isUnusedBid).filter(_.isBidNotExpired),I(t,r.getOldestHighestCpmBid)}function P(e,n){var r=t.getWinningBids(e,n),i=k();return r.map((function(e){return h({},e.adUnitCode,Object.keys(e.adserverTargeting).filter((function(t){return void 0===e.sendStandardTargeting||e.sendStandardTargeting||-1===i.indexOf(t)})).reduce((function(t,n){var r=[e.adserverTargeting[n]],i=h({},n.substring(0,20),r);if(n===y.TARGETING_KEYS.DEAL){var a=h({},"".concat(n,"_").concat(e.bidderCode).substring(0,20),r);return[].concat(b(t),[i,a])}return[].concat(b(t),[i])}),[]))}))}function k(){return e.getStandardBidderAdServerTargeting().map((function(e){return e.key})).concat(w).filter(r.uniques)}function x(e,t,n,i){return Object.keys(t.adserverTargeting).filter(N()).forEach((function(n){e.length&&e.filter(function(e){return function(n){return n.adUnitCode===t.adUnitCode&&n.adserverTargeting[e]}}(n)).forEach(function(e){return function(n){Object(r.isArray)(n.adserverTargeting[e])||(n.adserverTargeting[e]=[n.adserverTargeting[e]]),n.adserverTargeting[e]=n.adserverTargeting[e].concat(t.adserverTargeting[e]).filter(r.uniques),delete t.adserverTargeting[e]}}(n))})),e.push(t),e}function N(){var e=k().concat(a.a);return function(t){return-1===e.indexOf(t)}}function D(e){return h({},e.adUnitCode,Object.keys(e.adserverTargeting).filter(N()).map((function(t){return h({},t.substring(0,20),[e.adserverTargeting[t]])})))}function R(e,t){return t.filter((function(t){return f()(e,t.adUnitCode)})).map((function(e){return g({},e)})).reduce(x,[]).map(D).filter((function(e){return e}))}function M(e,t){var n=w.concat(a.a),s=i.b.getConfig("sendBidsControl.bidLimit"),c=I(t,r.getHighestCpm,s),u=i.b.getConfig("targetingControls.allowSendAllBidsTargetingKeys"),d=u?u.map((function(e){return y.TARGETING_KEYS[e]})):n;return c.map((function(t){if(o(t,e))return h({},t.adUnitCode,B(t,n.filter((function(e){return void 0!==t.adserverTargeting[e]&&-1!==d.indexOf(e)}))))})).filter((function(e){return e}))}function B(e,t){return t.map((function(t){return h({},"".concat(t,"_").concat(e.bidderCode).substring(0,20),[e.adserverTargeting[t]])}))}function U(t){function n(e){return Object(r.deepAccess)(e,y.JSON_MAPPING.ADSERVER_TARGETING)}return e.getAdUnits().filter((function(e){return f()(t,e.code)&&n(e)})).map((function(e){return h({},e.code,function(e){var t=n(e);return Object.keys(t).map((function(e){return Object(r.isStr)(t[e])&&(t[e]=t[e].split(",").map((function(e){return e.trim()}))),Object(r.isArray)(t[e])||(t[e]=[t[e]]),h({},e,t[e])}))}(e))}))}return t.setLatestAuctionForAdUnit=function(e,t){n[e]=t},t.resetPresetTargeting=function(t,n){if(Object(r.isGptPubadsDefined)()){var i=T(t),a=e.getAdUnits().filter((function(e){return f()(i,e.code)})),o=E.reduce((function(e,t){return e[t]=null,e}),{});window.googletag.pubads().getSlots().forEach((function(e){var t=Object(r.isFn)(n)&&n(e);a.forEach((function(n){(n.code===e.getAdUnitPath()||n.code===e.getSlotElementId()||Object(r.isFn)(t)&&t(n.code))&&e.updateTargetingFromMap(o)}))}))}},t.resetPresetTargetingAST=function(e){T(e).forEach((function(e){var t=window.apntag.getTag(e);if(t&&t.keywords){var n=Object.keys(t.keywords),r={};n.forEach((function(e){f()(E,e.toLowerCase())||(r[e]=t.keywords[e])})),window.apntag.modifyTag(e,{keywords:r})}}))},t.getAllTargeting=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j(),n=T(e),a=P(n,t).concat(R(n,t)).concat(i.b.getConfig("enableSendAllBids")?M(n,t):u(n,t)).concat(U(n));a.map((function(e){Object.keys(e).map((function(t){e[t].map((function(e){-1===E.indexOf(Object.keys(e)[0])&&(E=Object.keys(e).concat(E))}))}))}));var o=Object.keys(g({},y.DEFAULT_TARGETING_KEYS,y.NATIVE_KEYS)),s=i.b.getConfig(O),c=i.b.getConfig(A);if(null!=c&&null!=s)throw new Error(S);s=null!=c?o.concat(c):s||o,Array.isArray(s)&&s.length>0&&(a=l(a,s)),a=v(a);var d=i.b.getConfig("targetingControls.auctionKeyMaxChars");return d&&(Object(r.logInfo)("Detected 'targetingControls.auctionKeyMaxChars' was active for this auction; set with a limit of ".concat(d," characters.  Running checks on auction keys...")),a=p(a,d)),n.forEach((function(e){a[e]||(a[e]={})})),a},i.b.getConfig("targetingControls",(function(e){null!=Object(r.deepAccess)(e,O)&&null!=Object(r.deepAccess)(e,A)&&Object(r.logError)(S)})),t.setTargetingForGPT=function(e,t){window.googletag.pubads().getSlots().forEach((function(n){Object.keys(e).filter(t?t(n):Object(r.isAdUnitCodeMatchingSlot)(n)).forEach((function(t){Object.keys(e[t]).forEach((function(n){var r=e[t][n];"string"==typeof r&&-1!==r.indexOf(",")&&(r=r.split(",")),e[t][n]=r})),Object(r.logMessage)("Attempting to set targeting-map for slot: ".concat(n.getSlotElementId()," with targeting-map:"),e[t]),n.updateTargetingFromMap(e[t])}))}))},t.getWinningBids=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j(),n=T(e);return t.filter((function(e){return f()(n,e.adUnitCode)})).filter((function(e){return!0===d.a.get(e.bidderCode,"allowZeroCpmBids")?e.cpm>=0:e.cpm>0})).map((function(e){return e.adUnitCode})).filter(r.uniques).map((function(e){return t.filter((function(t){return t.adUnitCode===e?t:null})).reduce(r.getHighestCpm)}))},t.setTargetingForAst=function(e){var n=t.getAllTargeting(e);try{t.resetPresetTargetingAST(e)}catch(e){Object(r.logError)("unable to reset targeting for AST"+e)}Object.keys(n).forEach((function(e){return Object.keys(n[e]).forEach((function(t){if(Object(r.logMessage)("Attempting to set targeting for targetId: ".concat(e," key: ").concat(t," value: ").concat(n[e][t])),Object(r.isStr)(n[e][t])||Object(r.isArray)(n[e][t])){var i={};t.search(/pt[0-9]/)<0?i[t.toUpperCase()]=n[e][t]:i[t]=n[e][t],window.apntag.setKeywords(e,i,{overrideKeyValue:!0})}}))}))},t.isApntagDefined=function(){if(window.apntag&&Object(r.isFn)(window.apntag.setKeywords))return!0},t}(o.a)},392:function(e,t,n){n(393);var r=n(56);e.exports=r("String","includes")},393:function(e,t,n){var r=n(16),i=n(394),a=n(52);r({target:"String",proto:!0,forced:!n(396)("includes")},{includes:function(e){return!!~String(a(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},394:function(e,t,n){var r=n(395);e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},395:function(e,t,n){var r=n(30),i=n(51),a=n(23)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},396:function(e,t,n){var r=n(23)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},4:function(t,n,r){r.d(n,"a",(function(){return c})),n.b=u;var i=r(3),a=r(0);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(t){return(s="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}var c=u();function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.request,r=t.done;return function(t,c,u){var d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{var l,f=d.method||(u?"POST":"GET"),p=document.createElement("a");p.href=t;var m="object"===s(c)&&null!==c?c:{success:function(){Object(a.logMessage)("xhr success")},error:function(e){Object(a.logError)("xhr error",null,e)}};if("function"==typeof c&&(m.success=c),(l=new window.XMLHttpRequest).onreadystatechange=function(){if(4===l.readyState){"function"==typeof r&&r(p.origin);var e=l.status;e>=200&&e<300||304===e?m.success(l.responseText,l):m.error(l.statusText,l)}},i.b.getConfig("disableAjaxTimeout")||(l.ontimeout=function(){Object(a.logError)("  xhr timeout after ",l.timeout,"ms")}),"GET"===f&&u){var g=Object(a.parseUrl)(t,d);o(g.search,u),t=Object(a.buildUrl)(g)}l.open(f,t,!0),i.b.getConfig("disableAjaxTimeout")||(l.timeout=e),d.withCredentials&&(l.withCredentials=!0),Object(a._each)(d.customHeaders,(function(e,t){l.setRequestHeader(t,e)})),d.preflight&&l.setRequestHeader("X-Requested-With","XMLHttpRequest"),l.setRequestHeader("Content-Type",d.contentType||"text/plain"),"function"==typeof n&&n(p.origin),"POST"===f&&u?l.send(u):l.send()}catch(e){Object(a.logError)("xhr construction",e),"object"===s(c)&&null!==c&&c.error(e)}}}},40:function(e,t){e.exports={}},41:function(e,t,n){var r=n(17),i=n(24),a=n(23)("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||null==(n=r(o)[a])?t:i(n)}},42:function(e,t,n){n.d(t,"a",(function(){return u}));var r=n(0),i=n(14);function a(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var o=n(5),s=new WeakSet;function c(e){return null==e?this.defaultScope:e}var u=new(function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s.add(this),this.getSettings=t,this.defaultScope=n}var t;return(t=[{key:"get",value:function(e,t){var n=this.getOwn(e,t);return void 0===n&&(n=this.getOwn(null,t)),n}},{key:"getOwn",value:function(e,t){return e=a(this,s,c).call(this,e),Object(r.deepAccess)(this.getSettings(),"".concat(e,".").concat(t))}},{key:"getScopes",value:function(){var e=this;return Object.keys(this.getSettings()).filter((function(t){return t!==e.defaultScope}))}},{key:"settingsFor",value:function(e){return Object(r.mergeDeep)({},this.ownSettingsFor(null),this.ownSettingsFor(e))}},{key:"ownSettingsFor",value:function(e){return e=a(this,s,c).call(this,e),this.getSettings()[e]||{}}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}())((function(){return Object(i.a)().bidderSettings||{}}),o.JSON_MAPPING.BD_SETTING_STANDARD)},43:function(e,t,n){t.a=function(e,t){return new i(e,t)};var r=n(0);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.src,i=void 0===n?"client":n,a=t.bidder,o=void 0===a?"":a,s=t.bidId,c=t.transactionId,u=t.auctionId,d=i,l=e||0;function f(){switch(l){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}}this.bidderCode=o,this.width=0,this.height=0,this.statusMessage=f(),this.adId=Object(r.getUniqueIdentifierStr)(),this.requestId=s,this.transactionId=c,this.auctionId=u,this.mediaType="banner",this.source=d,this.getStatusCode=function(){return l},this.getSize=function(){return this.width+"x"+this.height},this.getIdentifiers=function(){return{src:this.source,bidder:this.bidderCode,bidId:this.requestId,transactionId:this.transactionId,auctionId:this.auctionId}}}},44:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},45:function(e,t){e.exports={}},46:function(e,t,n){var r,i,a,o=n(128),s=n(27),c=n(30),u=n(33),d=n(31),l=n(66),f=n(70),p=n(57),m="Object already initialized",g=s.WeakMap;if(o||l.state){var h=l.state||(l.state=new g),b=h.get,v=h.has,y=h.set;r=function(e,t){if(v.call(h,e))throw new TypeError(m);return t.facade=e,y.call(h,e,t),t},i=function(e){return b.call(h,e)||{}},a=function(e){return v.call(h,e)}}else{var E=f("state");p[E]=!0,r=function(e,t){if(d(e,E))throw new TypeError(m);return t.facade=e,u(e,E,t),t},i=function(e){return d(e,E)?e[E]:{}},a=function(e){return d(e,E)}}e.exports={set:r,get:i,has:a,enforce:function(e){return a(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},47:function(t,n,r){r.d(n,"g",(function(){return p})),r.d(n,"a",(function(){return m})),n.b=function(e){e.forEach((function(e){var t=e.nativeParams||Object(i.deepAccess)(e,"mediaTypes.native");t&&(e.nativeParams=function(e){return e&&e.type&&function(e){return!(!e||!o()(Object.keys(g),e))||(Object(i.logError)("".concat(e," nativeParam is not supported")),!1)}(e.type)?g[e.type]:e}(t))}))},n.h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.index,r=void 0===n?s.a.index:n;if(!Object(i.deepAccess)(e,"native.clickUrl"))return!1;var a=r.getAdUnit(e).nativeParams;if(!a)return!0;var c=Object.keys(a).filter((function(e){return a[e].required})),u=Object.keys(e.native).filter((function(t){return e.native[t]}));return c.every((function(e){return o()(u,e)}))},n.c=function(e,t){var n;return"click"===e.action?n=t.native&&t.native.clickTrackers:(n=t.native&&t.native.impressionTrackers,t.native&&t.native.javascriptTrackers&&Object(i.insertHtmlIntoIframe)(t.native.javascriptTrackers)),(n||[]).forEach(i.triggerPixel),e.action},n.f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.index,r=void 0===n?s.a.index:n,a={},o=r.getAdUnit(e);Object(i.deepAccess)(o,"nativeParams.rendererUrl")?e.native.rendererUrl=h(o.nativeParams.rendererUrl):Object(i.deepAccess)(o,"nativeParams.adTemplate")&&(e.native.adTemplate=h(o.nativeParams.adTemplate));var c=!1!==Object(i.deepAccess)(o,"nativeParams.sendTargetingKeys"),u=b(o),l=d(d({},e.native),e.native.ext);return delete l.ext,Object.keys(l).forEach((function(t){var n=u[t],r=h(e.native[t])||h(Object(i.deepAccess)(e,"native.ext.".concat(t)));if("adTemplate"!==t&&n&&r){var s=Object(i.deepAccess)(o,"nativeParams.".concat(t,".sendId"));"boolean"!=typeof s&&(s=Object(i.deepAccess)(o,"nativeParams.ext.".concat(t,".sendId"))),s&&(r="".concat(n,":").concat(e.adId));var d=Object(i.deepAccess)(o,"nativeParams.".concat(t,".sendTargetingKeys"));"boolean"!=typeof d&&(d=Object(i.deepAccess)(o,"nativeParams.ext.".concat(t,".sendTargetingKeys"))),("boolean"==typeof d?d:c)&&(a[n]=r)}})),a},n.e=function(e,t){var n={message:"assetResponse",adId:e.adId,assets:[]};return t.native.hasOwnProperty("adTemplate")&&(n.adTemplate=h(t.native.adTemplate)),t.native.hasOwnProperty("rendererUrl")&&(n.rendererUrl=h(t.native.rendererUrl)),e.assets.forEach((function(e){var r=Object(i.getKeyByValue)(f.NATIVE_KEYS,e),a=h(t.native[r]);n.assets.push({key:r,value:a})})),n},n.d=function(e,t){var n={message:"assetResponse",adId:e.adId,assets:[]};return Object.keys(t.native).forEach((function(e,r){if("adTemplate"===e&&t.native[e])n.adTemplate=h(t.native[e]);else if("rendererUrl"===e&&t.native[e])n.rendererUrl=h(t.native[e]);else if("ext"===e)Object.keys(t.native[e]).forEach((function(r){if(t.native[e][r]){var i=h(t.native[e][r]);n.assets.push({key:r,value:i})}}));else if(t.native[e]&&f.NATIVE_KEYS.hasOwnProperty(e)){var i=h(t.native[e]);n.assets.push({key:e,value:i})}})),n};var i=r(0),a=r(12),o=r.n(a),s=r(18);function c(t){return(c="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=r(5),p=[],m=Object.keys(f.NATIVE_KEYS).map((function(e){return f.NATIVE_KEYS[e]})),g={image:{image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1}}};function h(e){return"object"===c(e)&&e.url?e.url:e}function b(e){var t={};return Object(i.deepAccess)(e,"nativeParams.ext")&&Object.keys(e.nativeParams.ext).forEach((function(e){t[e]="hb_native_".concat(e)})),d(d({},f.NATIVE_KEYS),t)}},477:function(e,t,n){n(478);var r=n(45);e.exports=r.URLSearchParams},478:function(e,t,n){n(101);var r=n(16),i=n(26),a=n(479),o=n(72),s=n(96),c=n(60),u=n(97),d=n(46),l=n(69),f=n(31),p=n(25),m=n(59),g=n(17),h=n(30),b=n(71),v=n(44),y=n(74),E=n(58),O=n(23),A=i("fetch"),S=i("Headers"),w=O("iterator"),_="URLSearchParams",I="URLSearchParamsIterator",C=d.set,T=d.getterFor(_),j=d.getterFor(I),P=/\+/g,k=Array(4),x=function(e){return k[e-1]||(k[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},N=function(e){try{return decodeURIComponent(e)}catch(t){return e}},D=function(e){var t=e.replace(P," "),n=4;try{return decodeURIComponent(t)}catch(e){for(;n;)t=t.replace(x(n--),N);return t}},R=/[!'()~]|%20/g,M={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},B=function(e){return M[e]},U=function(e){return encodeURIComponent(e).replace(R,B)},L=function(e,t){if(t)for(var n,r,i=t.split("&"),a=0;a<i.length;)(n=i[a++]).length&&(r=n.split("="),e.push({key:D(r.shift()),value:D(r.join("="))}))},V=function(e){this.entries.length=0,L(this.entries,e)},F=function(e,t){if(e<t)throw TypeError("Not enough arguments")},q=u((function(e,t){C(this,{type:I,iterator:y(T(e).entries),kind:t})}),"Iterator",(function(){var e=j(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n})),G=function e(){l(this,e,_);var t,n,r,i,a,o,s,c,u,d=arguments.length>0?arguments[0]:void 0,p=this,m=[];if(C(p,{type:_,entries:m,updateURL:function(){},updateSearchParams:V}),void 0!==d)if(h(d))if("function"==typeof(t=E(d)))for(r=(n=t.call(d)).next;!(i=r.call(n)).done;){if((s=(o=(a=y(g(i.value))).next).call(a)).done||(c=o.call(a)).done||!o.call(a).done)throw TypeError("Expected sequence with length 2");m.push({key:s.value+"",value:c.value+""})}else for(u in d)f(d,u)&&m.push({key:u,value:d[u]+""});else L(m,"string"==typeof d?"?"===d.charAt(0)?d.slice(1):d:d+"")},z=G.prototype;s(z,{append:function(e,t){F(arguments.length,2);var n=T(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){F(arguments.length,1);for(var t=T(this),n=t.entries,r=e+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;t.updateURL()},get:function(e){F(arguments.length,1);for(var t=T(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){F(arguments.length,1);for(var t=T(this).entries,n=e+"",r=[],i=0;i<t.length;i++)t[i].key===n&&r.push(t[i].value);return r},has:function(e){F(arguments.length,1);for(var t=T(this).entries,n=e+"",r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){F(arguments.length,1);for(var n,r=T(this),i=r.entries,a=!1,o=e+"",s=t+"",c=0;c<i.length;c++)(n=i[c]).key===o&&(a?i.splice(c--,1):(a=!0,n.value=s));a||i.push({key:o,value:s}),r.updateURL()},sort:function(){var e,t,n,r=T(this),i=r.entries,a=i.slice();for(i.length=0,n=0;n<a.length;n++){for(e=a[n],t=0;t<n;t++)if(i[t].key>e.key){i.splice(t,0,e);break}t===n&&i.push(e)}r.updateURL()},forEach:function(e){for(var t,n=T(this).entries,r=p(e,arguments.length>1?arguments[1]:void 0,3),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new q(this,"keys")},values:function(){return new q(this,"values")},entries:function(){return new q(this,"entries")}},{enumerable:!0}),o(z,w,z.entries),o(z,"toString",(function(){for(var e,t=T(this).entries,n=[],r=0;r<t.length;)e=t[r++],n.push(U(e.key)+"="+U(e.value));return n.join("&")}),{enumerable:!0}),c(G,_),r({global:!0,forced:!a},{URLSearchParams:G}),a||"function"!=typeof A||"function"!=typeof S||r({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,r,i=[e];return arguments.length>1&&(h(t=arguments[1])&&(n=t.body,m(n)===_&&((r=t.headers?new S(t.headers):new S).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=b(t,{body:v(0,String(n)),headers:v(0,r)}))),i.push(t)),A.apply(this,i)}}),e.exports={URLSearchParams:G,getState:T}},479:function(e,t,n){var r=n(29),i=n(23),a=n(19),o=i("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),a&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},49:function(e,t,n){n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return p}));var r=n(11),i=n.n(r),a=n(0),o={buckets:[{max:5,increment:.5}]},s={buckets:[{max:20,increment:.1}]},c={buckets:[{max:20,increment:.01}]},u={buckets:[{max:3,increment:.01},{max:8,increment:.05},{max:20,increment:.5}]},d={buckets:[{max:5,increment:.05},{max:10,increment:.1},{max:20,increment:.5}]};function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=parseFloat(e);return isNaN(r)&&(r=""),{low:""===r?"":f(e,o,n),med:""===r?"":f(e,s,n),high:""===r?"":f(e,c,n),auto:""===r?"":f(e,d,n),dense:""===r?"":f(e,u,n),custom:""===r?"":f(e,t,n)}}function f(e,t,n){var r="";if(!p(t))return r;var a=t.buckets.reduce((function(e,t){return e.max>t.max?e:t}),{max:0}),o=0,s=i()(t.buckets,(function(t){if(e>a.max*n){var i=t.precision;void 0===i&&(i=2),r=(t.max*n).toFixed(i)}else{if(e<=t.max*n&&e>=o*n)return t.min=o,t;o=t.max}}));return s&&(r=function(e,t,n){var r=void 0!==t.precision?t.precision:2,i=t.increment*n,a=t.min*n,o=Math.pow(10,r+2),s=(e*o-a*o)/(i*o),c=Math.floor(s)*i+a;return(c=Number(c.toFixed(10))).toFixed(r)}(e,s,n)),r}function p(e){if(Object(a.isEmpty)(e)||!e.buckets||!Array.isArray(e.buckets))return!1;var t=!0;return e.buckets.forEach((function(e){e.max&&e.increment||(t=!1)})),t}},5:function(e,t){e.exports={JSON_MAPPING:{PL_CODE:"code",PL_SIZE:"sizes",PL_BIDS:"bids",BD_BIDDER:"bidder",BD_ID:"paramsd",BD_PL_ID:"placementId",ADSERVER_TARGETING:"adserverTargeting",BD_SETTING_STANDARD:"standard"},DEBUG_MODE:"pbjs_debug",STATUS:{GOOD:1,NO_BID:2},CB:{TYPE:{ALL_BIDS_BACK:"allRequestedBidsBack",AD_UNIT_BIDS_BACK:"adUnitBidsBack",BID_WON:"bidWon",REQUEST_BIDS:"requestBids"}},EVENTS:{AUCTION_INIT:"auctionInit",AUCTION_END:"auctionEnd",BID_ADJUSTMENT:"bidAdjustment",BID_TIMEOUT:"bidTimeout",BID_REQUESTED:"bidRequested",BID_RESPONSE:"bidResponse",NO_BID:"noBid",BID_WON:"bidWon",BIDDER_DONE:"bidderDone",BIDDER_ERROR:"bidderError",SET_TARGETING:"setTargeting",BEFORE_REQUEST_BIDS:"beforeRequestBids",BEFORE_BIDDER_HTTP:"beforeBidderHttp",REQUEST_BIDS:"requestBids",ADD_AD_UNITS:"addAdUnits",AD_RENDER_FAILED:"adRenderFailed",AD_RENDER_SUCCEEDED:"adRenderSucceeded",TCF2_ENFORCEMENT:"tcf2Enforcement",AUCTION_DEBUG:"auctionDebug",BID_VIEWABLE:"bidViewable",STALE_RENDER:"staleRender"},AD_RENDER_FAILED_REASON:{PREVENT_WRITING_ON_MAIN_DOCUMENT:"preventWritingOnMainDocument",NO_AD:"noAd",EXCEPTION:"exception",CANNOT_FIND_AD:"cannotFindAd",MISSING_DOC_OR_ADID:"missingDocOrAdid"},EVENT_ID_PATHS:{bidWon:"adUnitCode"},GRANULARITY_OPTIONS:{LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},TARGETING_KEYS:{BIDDER:"hb_bidder",AD_ID:"hb_adid",PRICE_BUCKET:"hb_pb",SIZE:"hb_size",DEAL:"hb_deal",SOURCE:"hb_source",FORMAT:"hb_format",UUID:"hb_uuid",CACHE_ID:"hb_cache_id",CACHE_HOST:"hb_cache_host",ADOMAIN:"hb_adomain"},DEFAULT_TARGETING_KEYS:{BIDDER:"hb_bidder",AD_ID:"hb_adid",PRICE_BUCKET:"hb_pb",SIZE:"hb_size",DEAL:"hb_deal",FORMAT:"hb_format",UUID:"hb_uuid",CACHE_HOST:"hb_cache_host"},NATIVE_KEYS:{title:"hb_native_title",body:"hb_native_body",body2:"hb_native_body2",privacyLink:"hb_native_privacy",privacyIcon:"hb_native_privicon",sponsoredBy:"hb_native_brand",image:"hb_native_image",icon:"hb_native_icon",clickUrl:"hb_native_linkurl",displayUrl:"hb_native_displayurl",cta:"hb_native_cta",rating:"hb_native_rating",address:"hb_native_address",downloads:"hb_native_downloads",likes:"hb_native_likes",phone:"hb_native_phone",price:"hb_native_price",salePrice:"hb_native_saleprice",rendererUrl:"hb_renderer_url",adTemplate:"hb_adTemplate"},S2S:{SRC:"s2s",DEFAULT_ENDPOINT:"https://prebid.adnxs.com/pbs/v1/openrtb2/auction",SYNCED_BIDDERS_KEY:"pbjsSyncs"},BID_STATUS:{BID_TARGETING_SET:"targetingSet",RENDERED:"rendered",BID_REJECTED:"bidRejected"}}},50:function(e,t,n){var r=n(85),i=n(52);e.exports=function(e){return r(i(e))}},51:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},52:function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},53:function(e,t,n){var r=n(52);e.exports=function(e){return Object(r(e))}},54:function(e,t,n){var r=n(65),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},55:function(e,t){e.exports=function(){}},56:function(e,t,n){var r=n(26);e.exports=r},57:function(e,t){e.exports={}},58:function(e,t,n){var r=n(59),i=n(40),a=n(23)("iterator");e.exports=function(e){if(null!=e)return e[a]||e["@@iterator"]||i[r(e)]}},59:function(e,t,n){var r=n(68),i=n(51),a=n(23)("toStringTag"),o="Arguments"==i(function(){return arguments}());e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?n:o?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},60:function(e,t,n){var r=n(68),i=n(35).f,a=n(33),o=n(31),s=n(127),c=n(23)("toStringTag");e.exports=function(e,t,n,u){if(e){var d=n?e:e.prototype;o(d,c)||i(d,c,{configurable:!0,value:t}),u&&!r&&a(d,"toString",s)}}},61:function(e,t,n){n.d(t,"a",(function(){return p}));var r=n(0),i=n(3),a=n(12),o=n.n(a),s=n(7);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}i.b.setDefaults({userSync:Object(r.deepClone)({syncEnabled:!0,filterSettings:{image:{bidders:"*",filter:"include"}},syncsPerBidder:5,syncDelay:3e3,auctionDelay:0})});var l=Object(s.a)("usersync"),f=!Object(r.isSafariBrowser)()&&l.cookiesAreEnabled(),p=function(e){var t={},n={image:[],iframe:[]},a=new Set,s={},u={image:!0,iframe:!1},l=e.config;function f(){if(l.syncEnabled&&e.browserSupportsCookies){try{u.iframe&&p(n.iframe,(function(e){var t=c(e,2),i=t[0],a=t[1];Object(r.logMessage)("Invoking iframe user sync for bidder: ".concat(i)),Object(r.insertUserSyncIframe)(a),function(e,t){e.image=e.image.filter((function(e){return e[0]!==t}))}(n,i)})),u.image&&p(n.image,(function(e){var t=c(e,2),n=t[0],i=t[1];Object(r.logMessage)("Invoking image pixel user sync for bidder: ".concat(n)),Object(r.triggerPixel)(i)}))}catch(e){return Object(r.logError)("Error firing user syncs",e)}n={image:[],iframe:[]}}}function p(e,t){Object(r.shuffle)(e).forEach((function(e){t(e),a.add(e[0])}))}return i.b.getConfig("userSync",(function(e){if(e.userSync){var t=e.userSync.filterSettings;Object(r.isPlainObject)(t)&&(t.image||t.all||(e.userSync.filterSettings.image={bidders:"*",filter:"include"}))}l=d(l,e.userSync)})),t.registerSync=function(e,i,o){return a.has(i)?Object(r.logMessage)('already fired syncs for "'.concat(i,'", ignoring registerSync call')):l.syncEnabled&&Object(r.isArray)(n[e])?i?0!==l.syncsPerBidder&&Number(s[i])>=l.syncsPerBidder?Object(r.logWarn)('Number of user syncs exceeded for "'.concat(i,'"')):t.canBidderRegisterSync(e,i)?(n[e].push([i,o]),void(s=function(e,t){return e[t]?e[t]+=1:e[t]=1,e}(s,i))):Object(r.logWarn)('Bidder "'.concat(i,'" not permitted to register their "').concat(e,'" userSync pixels.')):Object(r.logWarn)("Bidder is required for registering sync"):Object(r.logWarn)('User sync type "'.concat(e,'" not supported'))},t.syncUsers=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e)return setTimeout(f,Number(e));f()},t.triggerUserSyncs=function(){l.enableOverride&&t.syncUsers()},t.canBidderRegisterSync=function(e,t){return!l.filterSettings||!function(e,t){var n=l.filterSettings;if(function(e,t){if(e.all&&e[t])return Object(r.logWarn)('Detected presence of the "filterSettings.all" and "filterSettings.'.concat(t,'" in userSync config.  You cannot mix "all" with "iframe/image" configs; they are mutually exclusive.')),!1;var n=e.all?e.all:e[t],i=e.all?"all":t;if(!n)return!1;var a=n.filter,o=n.bidders;return a&&"include"!==a&&"exclude"!==a?(Object(r.logWarn)('UserSync "filterSettings.'.concat(i,".filter\" setting '").concat(a,"' is not a valid option; use either 'include' or 'exclude'.")),!1):!!("*"===o||Array.isArray(o)&&o.length>0&&o.every((function(e){return Object(r.isStr)(e)&&"*"!==e})))||(Object(r.logWarn)('Detected an invalid setup in userSync "filterSettings.'.concat(i,".bidders\"; use either '*' (to represent all bidders) or an array of bidders.")),!1)}(n,e)){u[e]=!0;var i=n.all?n.all:n[e],a="*"===i.bidders?[t]:i.bidders;return{include:function(e,t){return!o()(e,t)},exclude:function(e,t){return o()(e,t)}}[i.filter||"include"](a,t)}return!u[e]}(e,t)},t}({config:i.b.getConfig("userSync"),browserSupportsCookies:f})},62:function(e,t,n){t.a=function(e,t){a.adServers=a.adServers||{},a.adServers[e]=a.adServers[e]||{},Object.keys(t).forEach((function(n){a.adServers[e][n]?Object(i.logWarn)("Attempting to add an already registered function property ".concat(n," for AdServer ").concat(e,".")):a.adServers[e][n]=t[n]}))};var r=n(14),i=n(0),a=Object(r.a)()},63:function(e,t,n){var r=n(30);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},64:function(e,t,n){var r=n(25),i=n(85),a=n(53),o=n(54),s=n(114),c=[].push,u=function(e){var t=1==e,n=2==e,u=3==e,d=4==e,l=6==e,f=7==e,p=5==e||l;return function(m,g,h,b){for(var v,y,E=a(m),O=i(E),A=r(g,h,3),S=o(O.length),w=0,_=b||s,I=t?_(m,S):n||f?_(m,0):void 0;S>w;w++)if((p||w in O)&&(y=A(v=O[w],w,E),e))if(t)I[w]=y;else if(y)switch(e){case 3:return!0;case 5:return v;case 6:return w;case 2:c.call(I,v)}else switch(e){case 4:return!1;case 7:c.call(I,v)}return l?-1:u||d?d:I}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterOut:u(7)}},65:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},66:function(e,t,n){var r=n(27),i=n(116),a="__core-js_shared__",o=r[a]||i(a,{});e.exports=o},67:function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},68:function(e,t,n){var r={};r[n(23)("toStringTag")]="z",e.exports="[object z]"===String(r)},69:function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},7:function(e,t,n){n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return d})),t.a=function(e){return u({moduleName:e,moduleType:"core"})},t.b=function(e,t){return u({gvlid:e,moduleName:t})};var r=n(8),i=n(0),a=n(12),o=n.n(a),s=["core","prebid-module"],c=[];function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.gvlid,n=e.moduleName,r=e.moduleType;function a(e){return o()(s,r)?e({valid:!0}):(d(t,n,{hasEnforcementHook:!1},(function(t){if(t&&t.hasEnforcementHook)a=e(t);else{var n={hasEnforcementHook:!1,valid:Object(i.hasDeviceAccess)()};a=e(n)}})),a);var a}var u=function(e,t,n,r,i,o){var s=function(a){if(a&&a.valid){var o=i&&""!==i?" ;domain=".concat(encodeURIComponent(i)):"",s=n&&""!==n?" ;expires=".concat(n):"",c=null!=r&&"none"==r.toLowerCase()?"; Secure":"";document.cookie="".concat(e,"=").concat(encodeURIComponent(t)).concat(s,"; path=/").concat(o).concat(r?"; SameSite=".concat(r):"").concat(c)}};if(!o||"function"!=typeof o)return a(s);c.push((function(){var e=a(s);o(e)}))},l=function(e,t){var n=function(t){if(t&&t.valid){var n=window.document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)");return n?decodeURIComponent(n[2]):null}return null};if(!t||"function"!=typeof t)return a(n);c.push((function(){var e=a(n);t(e)}))},f=function(e){var t=function(e){if(e&&e.valid)try{return localStorage.setItem("prebid.cookieTest","1"),"1"===localStorage.getItem("prebid.cookieTest")}catch(e){}finally{try{localStorage.removeItem("prebid.cookieTest")}catch(e){}}return!1};if(!e||"function"!=typeof e)return a(t);c.push((function(){var n=a(t);e(n)}))},p=function(e){var t=function(e){return!(!e||!e.valid||!Object(i.checkCookieSupport)()&&(window.document.cookie="prebid.cookieTest",-1===window.document.cookie.indexOf("prebid.cookieTest")))};if(!e||"function"!=typeof e)return a(t);c.push((function(){var n=a(t);e(n)}))},m=function(e,t,n){var r=function(n){n&&n.valid&&b()&&window.localStorage.setItem(e,t)};if(!n||"function"!=typeof n)return a(r);c.push((function(){var e=a(r);n(e)}))},g=function(e,t){var n=function(t){return t&&t.valid&&b()?window.localStorage.getItem(e):null};if(!t||"function"!=typeof t)return a(n);c.push((function(){var e=a(n);t(e)}))},h=function(e,t){var n=function(t){t&&t.valid&&b()&&window.localStorage.removeItem(e)};if(!t||"function"!=typeof t)return a(n);c.push((function(){var e=a(n);t(e)}))},b=function(e){var t=function(e){if(e&&e.valid)try{return!!window.localStorage}catch(e){Object(i.logError)("Local storage api disabled")}return!1};if(!e||"function"!=typeof e)return a(t);c.push((function(){var n=a(t);e(n)}))},v=function(e,t){var n=function(t){if(t&&t.valid){var n=[];if(Object(i.hasDeviceAccess)())for(var r=document.cookie.split(";");r.length;){var a=r.pop(),o=a.indexOf("=");o=o<0?a.length:o,decodeURIComponent(a.slice(0,o).replace(/^\s+/,"")).indexOf(e)>=0&&n.push(decodeURIComponent(a.slice(o+1)))}return n}};if(!t||"function"!=typeof t)return a(n);c.push((function(){var e=a(n);t(e)}))};return{setCookie:u,getCookie:l,localStorageIsEnabled:f,cookiesAreEnabled:p,setDataInLocalStorage:m,getDataFromLocalStorage:g,removeDataFromLocalStorage:h,hasLocalStorage:b,findSimilarCookies:v}}var d=Object(r.b)("async",(function(e,t,n,r){r(n)}),"validateStorageEnforcement")},70:function(e,t,n){var r=n(88),i=n(67),a=r("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},71:function(e,t,n){var r,i=n(17),a=n(131),o=n(95),s=n(57),c=n(134),u=n(87),d=n(70)("IE_PROTO"),l=function(){},f=function(e){return"<script>"+e+"<\/script>"},p=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;p=r?function(e){e.write(f("")),e.close();var t=e.parentWindow.Object;return e=null,t}(r):((t=u("iframe")).style.display="none",c.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(f("document.F=Object")),e.close(),e.F);for(var n=o.length;n--;)delete p.prototype[o[n]];return p()};s[d]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(l.prototype=i(e),n=new l,l.prototype=null,n[d]=e):n=p(),void 0===t?n:a(n,t)}},72:function(e,t,n){var r=n(33);e.exports=function(e,t,n,i){i&&i.enumerable?e[t]=n:r(e,t,n)}},73:function(e,t,n){var r=n(16),i=n(97),a=n(99),o=n(136),s=n(60),c=n(33),u=n(72),d=n(23),l=n(19),f=n(40),p=n(98),m=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,h=d("iterator"),b="keys",v="values",y="entries",E=function(){return this};e.exports=function(e,t,n,d,p,O,A){i(n,t,d);var S,w,_,I=function(e){if(e===p&&k)return k;if(!g&&e in j)return j[e];switch(e){case b:case v:case y:return function(){return new n(this,e)}}return function(){return new n(this)}},C=t+" Iterator",T=!1,j=e.prototype,P=j[h]||j["@@iterator"]||p&&j[p],k=!g&&P||I(p),x="Array"==t&&j.entries||P;if(x&&(S=a(x.call(new e)),m!==Object.prototype&&S.next&&(l||a(S)===m||(o?o(S,m):"function"!=typeof S[h]&&c(S,h,E)),s(S,C,!0,!0),l&&(f[C]=E))),p==v&&P&&P.name!==v&&(T=!0,k=function(){return P.call(this)}),l&&!A||j[h]===k||c(j,h,k),f[t]=k,p)if(w={values:I(v),keys:O?k:I(b),entries:I(y)},A)for(_ in w)(g||T||!(_ in j))&&u(j,_,w[_]);else r({target:t,proto:!0,forced:g||T},w);return w}},74:function(e,t,n){var r=n(17),i=n(58);e.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return r(t.call(e))}},75:function(e,t,n){var r=n(165);e.exports=r},76:function(e,t,n){n.d(t,"a",(function(){return o}));var r=n(0),i={};function a(e,t,n){var r=function(e,t){var n=i[e]=i[e]||{bidders:{}};return t?n.bidders[t]=n.bidders[t]||{}:n}(e,n);return r[t]=(r[t]||0)+1,r[t]}var o={incrementRequestsCounter:function(e){return a(e,"requestsCounter")},incrementBidderRequestsCounter:function(e,t){return a(e,"requestsCounter",t)},incrementBidderWinsCounter:function(e,t){return a(e,"winsCounter",t)},getRequestsCounter:function(e){return Object(r.deepAccess)(i,"".concat(e,".requestsCounter"))||0},getBidderRequestsCounter:function(e,t){return Object(r.deepAccess)(i,"".concat(e,".bidders.").concat(t,".requestsCounter"))||0},getBidderWinsCounter:function(e,t){return Object(r.deepAccess)(i,"".concat(e,".bidders.").concat(t,".winsCounter"))||0}}},8:function(e,t,n){n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c})),t.d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15,r=e.getHooks({hook:t});0===r.length&&e.before(t,n)},t.c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.postInstallAllowed,i=void 0!==r&&r;s("async",(function(n){n.forEach((function(e){return t.apply(void 0,a(e))})),i&&(u[e]=t)}),e)([])},t.e=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=u[e];if(i)return i.apply(void 0,n);c(e).before((function(e,t){t.push(n),e(t)}))};var r=n(174),i=n.n(r);function a(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=i()({ready:i.a.SYNC|i.a.ASYNC|i.a.QUEUE}),c=s.get,u={}},80:function(e,t,n){var r=n(227);e.exports=r},81:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"adUnitSetupChecks",(function(){return K})),n.d(t,"checkAdUnitSetup",(function(){return Y})),t.executeCallbacks=X;var r=n(14),i=n(0),a=n(237),o=n(61),s=n(3),c=n(18),u=n(39),d=n(8),l=n(105),f=n(12),p=n.n(f),m=n(76),g=n(13),h=n(43),b=n(7),v=n(104),y=n(9);function E(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var S=Object(r.a)(),w=n(5),_=n(9).default,I=n(10),C=o.a.triggerUserSyncs,T=w.EVENTS,j=T.ADD_AD_UNITS,P=T.BID_WON,k=T.REQUEST_BIDS,x=T.SET_TARGETING,N=T.STALE_RENDER,D=w.AD_RENDER_FAILED_REASON,R=D.PREVENT_WRITING_ON_MAIN_DOCUMENT,M=D.NO_AD,B=D.EXCEPTION,U=D.CANNOT_FIND_AD,L=D.MISSING_DOC_OR_ADID,V={bidWon:function(e){var t=c.a.getBidsRequested().map((function(e){return e.bids.map((function(e){return e.adUnitCode}))})).reduce(i.flatten).filter(i.uniques);if(Object(i.contains)(t,e))return!0;Object(i.logError)('The "'+e+'" placement is not defined.')}};function F(e,t,n){e.defaultView&&e.defaultView.frameElement&&(e.defaultView.frameElement.width=t,e.defaultView.frameElement.height=n)}function q(e,t){var n=[];return Object(i.isArray)(e)&&(t?e.length===t:e.length>0)&&(e.every((function(e){return Object(i.isArrayOfNums)(e,2)}))?n=e:Object(i.isArrayOfNums)(e,2)&&n.push(e)),n}function G(e){var t=Object(i.deepClone)(e),n=t.mediaTypes.banner,r=q(n.sizes);return r.length>0?(n.sizes=r,t.sizes=r):(Object(i.logError)("Detected a mediaTypes.banner object without a proper sizes field.  Please ensure the sizes are listed like: [[300, 250], ...].  Removing invalid mediaTypes.banner object from request."),delete t.mediaTypes.banner),t}function z(e){var t=Object(i.deepClone)(e),n=t.mediaTypes.video;if(n.playerSize){var r="number"==typeof n.playerSize[0]?2:1,a=q(n.playerSize,r);a.length>0?(2===r&&Object(i.logInfo)("Transforming video.playerSize from [640,480] to [[640,480]] so it's in the proper format."),n.playerSize=a,t.sizes=a):(Object(i.logError)("Detected incorrect configuration of mediaTypes.video.playerSize.  Please specify only one set of dimensions in a format like: [[640, 480]]. Removing invalid mediaTypes.video.playerSize property from request."),delete t.mediaTypes.video.playerSize)}return t}function W(e){var t=Object(i.deepClone)(e),n=t.mediaTypes.native;return n.image&&n.image.sizes&&!Array.isArray(n.image.sizes)&&(Object(i.logError)("Please use an array of sizes for native.image.sizes field.  Removing invalid mediaTypes.native.image.sizes property from request."),delete t.mediaTypes.native.image.sizes),n.image&&n.image.aspect_ratios&&!Array.isArray(n.image.aspect_ratios)&&(Object(i.logError)("Please use an array of sizes for native.image.aspect_ratios field.  Removing invalid mediaTypes.native.image.aspect_ratios property from request."),delete t.mediaTypes.native.image.aspect_ratios),n.icon&&n.icon.sizes&&!Array.isArray(n.icon.sizes)&&(Object(i.logError)("Please use an array of sizes for native.icon.sizes field.  Removing invalid mediaTypes.native.icon.sizes property from request."),delete t.mediaTypes.native.icon.sizes),t}function H(e,t){var n=Object(i.deepAccess)(e,"mediaTypes.".concat(t,".pos"));if(!Object(i.isNumber)(n)||isNaN(n)||!isFinite(n)){var r="Value of property 'pos' on ad unit ".concat(e.code," should be of type: Number");Object(i.logWarn)(r),I.emit(w.EVENTS.AUCTION_DEBUG,{type:"WARNING",arguments:r}),delete e.mediaTypes[t].pos}return e}Object(l.d)(),S.bidderSettings=S.bidderSettings||{},S.libLoaded=!0,S.version="v6.13.0",Object(i.logInfo)("Prebid.js v6.13.0 loaded"),S.installedModules=S.installedModules||[],S.adUnits=S.adUnits||[],S.triggerUserSyncs=C;var K={validateBannerMediaType:G,validateVideoMediaType:z,validateNativeMediaType:W,validateSizes:q},Y=Object(d.b)("sync",(function(e){var t=[];return e.forEach((function(e){var n,r,a,o=e.mediaTypes,s=e.bids;if(s&&Object(i.isArray)(s))if(o&&0!==Object.keys(o).length){o.banner&&(n=G(e),o.banner.hasOwnProperty("pos")&&(n=H(n,"banner"))),o.video&&(r=z(n||e),o.video.hasOwnProperty("pos")&&(r=H(r,"video"))),o.native&&(a=W(r||n||e));var c=A({},n,r,a);t.push(c)}else Object(i.logError)("Detected adUnit.code '".concat(e.code,"' did not have a 'mediaTypes' object defined.  This is a required field for the auction, so this adUnit has been removed."));else Object(i.logError)("Detected adUnit.code '".concat(e.code,"' did not have 'adUnit.bids' defined or 'adUnit.bids' is not an array. Removing adUnit from auction."))})),t}),"checkAdUnitSetup");function $(e){var t=c.a[e]().filter(i.bind.call(i.adUnitsFilter,this,c.a.getAdUnitCodes())),n=c.a.getLastAuctionId();return t.map((function(e){return e.adUnitCode})).filter(i.uniques).map((function(e){return t.filter((function(t){return t.auctionId===n&&t.adUnitCode===e}))})).filter((function(e){return e&&e[0]&&e[0].adUnitCode})).map((function(e){return t={},r={bids:e},(n=e[0].adUnitCode)in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t;var t,n,r})).reduce((function(e,t){return A(e,t)}),{})}function J(e,t,n){var r=t.querySelector(n);e.parentNode&&e.parentNode===r||Object(i.insertElement)(e,t,n)}function X(e,t){function n(e){for(var t;t=e.shift();)t()}n(b.c),n(Q),e.call(this,t)}S.getAdserverTargetingForAdUnitCodeStr=function(e){if(Object(i.logInfo)("Invoking pbjs.getAdserverTargetingForAdUnitCodeStr",arguments),e){var t=S.getAdserverTargetingForAdUnitCode(e);return Object(i.transformAdServerTargetingObj)(t)}Object(i.logMessage)("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode")},S.getHighestUnusedBidResponseForAdUnitCode=function(e){if(e){var t=c.a.getAllBidsForAdUnitCode(e).filter(u.a.isUnusedBid).filter(u.a.isBidNotExpired);return t.length?t.reduce(i.getHighestCpm):{}}Object(i.logMessage)("Need to call getHighestUnusedBidResponseForAdUnitCode with adunitCode")},S.getAdserverTargetingForAdUnitCode=function(e){return S.getAdserverTargeting(e)[e]},S.getAdserverTargeting=function(e){return Object(i.logInfo)("Invoking pbjs.getAdserverTargeting",arguments),u.d.getAllTargeting(e)},S.getConsentMetadata=function(){return Object(i.logInfo)("Invoking pbjs.getConsentMetadata"),{gdpr:y.gdprDataHandler.getConsentMeta(),usp:y.uspDataHandler.getConsentMeta(),coppa:!!s.b.getConfig("coppa")}},S.getNoBids=function(){return Object(i.logInfo)("Invoking pbjs.getNoBids",arguments),$("getNoBids")},S.getNoBidsForAdUnitCode=function(e){return{bids:c.a.getNoBids().filter((function(t){return t.adUnitCode===e}))}},S.getBidResponses=function(){return Object(i.logInfo)("Invoking pbjs.getBidResponses",arguments),$("getBidsReceived")},S.getBidResponsesForAdUnitCode=function(e){return{bids:c.a.getBidsReceived().filter((function(t){return t.adUnitCode===e}))}},S.setTargetingForGPTAsync=function(e,t){if(Object(i.logInfo)("Invoking pbjs.setTargetingForGPTAsync",arguments),Object(i.isGptPubadsDefined)()){var n=u.d.getAllTargeting(e);u.d.resetPresetTargeting(e,t),u.d.setTargetingForGPT(n,t),Object.keys(n).forEach((function(e){Object.keys(n[e]).forEach((function(t){"hb_adid"===t&&c.a.setStatusForBids(n[e][t],w.BID_STATUS.BID_TARGETING_SET)}))})),I.emit(x,n)}else Object(i.logError)("window.googletag is not defined on the page")},S.setTargetingForAst=function(e){Object(i.logInfo)("Invoking pbjs.setTargetingForAn",arguments),u.d.isApntagDefined()?(u.d.setTargetingForAst(e),I.emit(x,u.d.getAllTargeting())):Object(i.logError)("window.apntag is not defined on the page")},S.renderAd=Object(d.b)("async",(function(e,t,n){if(Object(i.logInfo)("Invoking pbjs.renderAd",arguments),Object(i.logMessage)("Calling renderAd with adId :"+t),e&&t)try{var r=c.a.findBidByAdId(t);if(r){var a=!0;if(r&&r.status===w.BID_STATUS.RENDERED&&(Object(i.logWarn)("Ad id ".concat(r.adId," has been rendered before")),I.emit(N,r),Object(i.deepAccess)(s.b.getConfig("auctionOptions"),"suppressStaleRender")&&(a=!1)),a){if(r.ad=Object(i.replaceAuctionPrice)(r.ad,r.cpm),r.adUrl=Object(i.replaceAuctionPrice)(r.adUrl,r.cpm),n&&n.clickThrough){var o=n.clickThrough;r.ad=Object(i.replaceClickThrough)(r.ad,o),r.adUrl=Object(i.replaceClickThrough)(r.adUrl,o)}c.a.addWinningBid(r),I.emit(P,r);var u=r.height,d=r.width,l=r.ad,f=r.mediaType,p=r.adUrl,m=r.renderer,h=document.createComment("Creative ".concat(r.creativeId," served by ").concat(r.bidder," Prebid.js Header Bidding"));if(Object(i.insertElement)(h,e,"html"),Object(g.c)(m))Object(g.b)(m,r),J(h,e,"html"),Object(v.b)({doc:e,bid:r,id:t});else if(e===document&&!Object(i.inIframe)()||"video"===f){var b="Error trying to write ad. Ad render call ad id ".concat(t," was prevented from writing to the main document.");Object(v.a)({reason:R,message:b,bid:r,id:t})}else if(l){if(navigator.userAgent&&navigator.userAgent.toLowerCase().indexOf("firefox/")>-1){var y=/firefox\/([\d\.]+)/,E=navigator.userAgent.toLowerCase().match(y)[1];E&&parseInt(E,10)<67&&e.open("text/html","replace")}e.write(l),e.close(),F(e,d,u),J(h,e,"html"),Object(i.callBurl)(r),Object(v.b)({doc:e,bid:r,id:t})}else if(p){var O=Object(i.createInvisibleIframe)();O.height=u,O.width=d,O.style.display="inline",O.style.overflow="hidden",O.src=p,Object(i.insertElement)(O,e,"body"),F(e,d,u),J(h,e,"html"),Object(i.callBurl)(r),Object(v.b)({doc:e,bid:r,id:t})}else{var A="Error trying to write ad. No ad for bid response id: ".concat(t);Object(v.a)({reason:M,message:A,bid:r,id:t})}}}else{var S="Error trying to write ad. Cannot find ad by given id : ".concat(t);Object(v.a)({reason:U,message:S,id:t})}}catch(e){var _="Error trying to write ad Id :".concat(t," to the page:").concat(e.message);Object(v.a)({reason:B,message:_,id:t})}else{var C="Error trying to write ad Id :".concat(t," to the page. Missing document or adId");Object(v.a)({reason:L,message:C,id:t})}})),S.removeAdUnit=function(e){Object(i.logInfo)("Invoking pbjs.removeAdUnit",arguments),e?(Object(i.isArray)(e)?e:[e]).forEach((function(e){for(var t=S.adUnits.length-1;t>=0;t--)S.adUnits[t].code===e&&S.adUnits.splice(t,1)})):S.adUnits=[]},S.requestBids=Object(d.b)("async",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.bidsBackHandler,n=e.timeout,r=e.adUnits,a=e.adUnitCodes,o=e.labels,d=e.auctionId;I.emit(k);var l=n||s.b.getConfig("bidderTimeout");r=r&&s.b.convertAdUnitFpd(Object(i.isArray)(r)?r:[r])||S.adUnits,Object(i.logInfo)("Invoking pbjs.requestBids",arguments);var f=[],g=[];if(s.b.getConfig("s2sConfig",(function(e){e&&e.s2sConfig&&(f=Array.isArray(e.s2sConfig)?e.s2sConfig:[e.s2sConfig])})),f.forEach((function(e){g.push.apply(g,E(e.bidders))})),r=Y(r),a&&a.length?r=r.filter((function(e){return p()(a,e.code)})):a=r&&r.map((function(e){return e.code})),r.forEach((function(e){var t=Object.keys(e.mediaTypes||{banner:"banner"}),n=e.bids.map((function(e){return e.bidder})),r=_.bidderRegistry,a=g?n.filter((function(e){return!p()(g,e)})):n;e.transactionId=Object(i.generateUUID)(),a.forEach((function(n){var a=r[n],o=a&&a.getSpec&&a.getSpec(),s=o&&o.supportedMediaTypes||["banner"];t.some((function(e){return p()(s,e)}))?m.a.incrementBidderRequestsCounter(e.code,n):(Object(i.logWarn)(Object(i.unsupportedBidderMessage)(e,n)),e.bids=e.bids.filter((function(e){return e.bidder!==n})))})),m.a.incrementRequestsCounter(e.code)})),r&&0!==r.length){var h=c.a.createAuction({adUnits:r,adUnitCodes:a,callback:t,cbTimeout:l,labels:o,auctionId:d}),b=r.length;b>15&&Object(i.logInfo)("Current auction ".concat(h.getAuctionId()," contains ").concat(b," adUnits."),r),a.forEach((function(e){return u.d.setLatestAuctionForAdUnit(e,h.getAuctionId())})),h.callBids()}else if(Object(i.logMessage)("No adUnits configured. No bids requested."),"function"==typeof t)try{t()}catch(e){Object(i.logError)("Error executing bidsBackHandler",null,e)}})),S.requestBids.before(X,49),S.addAdUnits=function(e){Object(i.logInfo)("Invoking pbjs.addAdUnits",arguments),S.adUnits.push.apply(S.adUnits,s.b.convertAdUnitFpd(Object(i.isArray)(e)?e:[e])),I.emit(j)},S.onEvent=function(e,t,n){Object(i.logInfo)("Invoking pbjs.onEvent",arguments),Object(i.isFn)(t)?!n||V[e].call(null,n)?I.on(e,t,n):Object(i.logError)('The id provided is not valid for event "'+e+'" and no handler was set.'):Object(i.logError)('The event handler provided is not a function and was not set on event "'+e+'".')},S.offEvent=function(e,t,n){Object(i.logInfo)("Invoking pbjs.offEvent",arguments),n&&!V[e].call(null,n)||I.off(e,t,n)},S.getEvents=function(){return Object(i.logInfo)("Invoking pbjs.getEvents"),I.getEvents()},S.registerBidAdapter=function(e,t){Object(i.logInfo)("Invoking pbjs.registerBidAdapter",arguments);try{_.registerBidAdapter(e(),t)}catch(e){Object(i.logError)("Error registering bidder adapter : "+e.message)}},S.registerAnalyticsAdapter=function(e){Object(i.logInfo)("Invoking pbjs.registerAnalyticsAdapter",arguments);try{_.registerAnalyticsAdapter(e)}catch(e){Object(i.logError)("Error registering analytics adapter : "+e.message)}},S.createBid=function(e){return Object(i.logInfo)("Invoking pbjs.createBid",arguments),Object(h.a)(e)};var Q=[],Z=Object(d.b)("async",(function(e){e&&!Object(i.isEmpty)(e)?(Object(i.logInfo)("Invoking pbjs.enableAnalytics for: ",e),_.enableAnalytics(e)):Object(i.logError)("pbjs.enableAnalytics should be called with option {}")}),"enableAnalyticsCb");function ee(e){e.forEach((function(e){if(void 0===e.called)try{e.call(),e.called=!0}catch(e){Object(i.logError)("Error processing command :","prebid.js",e)}}))}S.enableAnalytics=function(e){Q.push(Z.bind(this,e))},S.aliasBidder=function(e,t,n){Object(i.logInfo)("Invoking pbjs.aliasBidder",arguments),e&&t?_.aliasBidAdapter(e,t,n):Object(i.logError)("bidderCode and alias must be passed as arguments","pbjs.aliasBidder")},S.getAllWinningBids=function(){return c.a.getAllWinningBids()},S.getAllPrebidWinningBids=function(){return c.a.getBidsReceived().filter((function(e){return e.status===w.BID_STATUS.BID_TARGETING_SET}))},S.getHighestCpmBids=function(e){return u.d.getWinningBids(e)},S.markWinningBidAsUsed=function(e){var t=[];e.adUnitCode&&e.adId?t=c.a.getBidsReceived().filter((function(t){return t.adId===e.adId&&t.adUnitCode===e.adUnitCode})):e.adUnitCode?t=u.d.getWinningBids(e.adUnitCode):e.adId?t=c.a.getBidsReceived().filter((function(t){return t.adId===e.adId})):Object(i.logWarn)("Improper use of markWinningBidAsUsed. It needs an adUnitCode or an adId to function."),t.length>0&&(t[0].status=w.BID_STATUS.RENDERED)},S.getConfig=s.b.getConfig,S.readConfig=s.b.readConfig,S.mergeConfig=s.b.mergeConfig,S.mergeBidderConfig=s.b.mergeBidderConfig,S.setConfig=s.b.setConfig,S.setBidderConfig=s.b.setBidderConfig,S.que.push((function(){return Object(a.a)()})),S.cmd.push=function(e){if("function"==typeof e)try{e.call()}catch(e){Object(i.logError)("Error processing command :",e.message,e.stack)}else Object(i.logError)("Commands written into pbjs.cmd.push must be wrapped in a function")},S.que.push=S.cmd.push,S.processQueue=function(){d.b.ready(),ee(S.que),ee(S.cmd)},t.default=S},83:function(e,t,n){var r=n(392);e.exports=r},84:function(e,t,n){t.a=function(e){var t=e;return{callBids:function(){},setBidderCode:function(e){t=e},getBidderCode:function(){return t}}}},85:function(e,t,n){var r=n(29),i=n(51),a="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?a.call(e,""):Object(e)}:Object},86:function(e,t,n){var r=n(34),i=n(29),a=n(87);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},87:function(e,t,n){var r=n(27),i=n(30),a=r.document,o=i(a)&&i(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},88:function(e,t,n){var r=n(19),i=n(66);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.15.1",mode:r?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},89:function(e,t,n){var r=n(117),i=n(29);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},9:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"gdprDataHandler",(function(){return k})),n.d(t,"uspDataHandler",(function(){return x})),n.d(t,"coppaDataHandler",(function(){return N})),n.d(t,"clientTestAdapters",(function(){return D})),n.d(t,"allS2SBidders",(function(){return R})),t.getAllS2SBidders=M,t.setS2STestingModule=function(e){A=e};var r=n(0),i=n(102),a=n(47),o=n(1),s=n(4),c=n(3),u=n(8),d=n(12),l=n.n(d),f=n(11),p=n.n(f),m=n(76),g=n(21);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var A,S=n(5),w=n(10),_={},I=_.bidderRegistry={},C=_.aliasRegistry={},T=[];c.b.getConfig("s2sConfig",(function(e){e&&e.s2sConfig&&(T=Object(r.isArray)(e.s2sConfig)?e.s2sConfig:[e.s2sConfig])}));var j={},P=Object(u.b)("sync",(function(e){var t=e.bidderCode,n=e.auctionId,a=e.bidderRequestId,o=e.adUnits,s=e.labels,c=e.src;return o.reduce((function(e,o){var u=Object(i.b)(Object(i.a)(o,s),o.mediaTypes,o.sizes),d=u.active,l=u.mediaTypes,f=u.filterResults;return d?f&&Object(r.logInfo)('Size mapping filtered adUnit "'.concat(o.code,'" banner sizes from '),f.before,"to ",f.after):Object(r.logInfo)('Size mapping disabled adUnit "'.concat(o.code,'"')),d&&e.push(o.bids.filter((function(e){return e.bidder===t})).reduce((function(e,t){t=O({},t,Object(r.getDefinedParams)(o,["nativeParams","ortb2Imp","mediaType","renderer","storedAuctionResponse"]));var u=Object(i.b)(Object(i.a)(t,s),l),d=u.active,f=u.mediaTypes,p=u.filterResults;return d?p&&Object(r.logInfo)('Size mapping filtered adUnit "'.concat(o.code,'" bidder "').concat(t.bidder,'" banner sizes from '),p.before,"to ",p.after):Object(r.logInfo)('Size mapping deactivated adUnit "'.concat(o.code,'" bidder "').concat(t.bidder,'"')),Object(r.isValidMediaTypes)(f)?t=O({},t,{mediaTypes:f}):Object(r.logError)("mediaTypes is not correctly configured for adunit ".concat(o.code)),d&&e.push(O({},t,{adUnitCode:o.code,transactionId:o.transactionId,sizes:Object(r.deepAccess)(f,"banner.sizes")||Object(r.deepAccess)(f,"video.playerSize")||[],bidId:t.bid_id||Object(r.getUniqueIdentifierStr)(),bidderRequestId:a,auctionId:n,src:c,bidRequestsCount:m.a.getRequestsCounter(o.code),bidderRequestsCount:m.a.getBidderRequestsCounter(o.code,t.bidder),bidderWinsCount:m.a.getBidderWinsCounter(o.code,t.bidder)})),e}),[])),e}),[]).reduce(r.flatten,[]).filter((function(e){return""!==e}))}),"getBids"),k={consentData:null,generatedTime:null,setConsentData:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(r.timestamp)();k.consentData=e,k.generatedTime=t},getConsentData:function(){return k.consentData},getConsentMeta:function(){if(k.consentData&&k.consentData.vendorData&&k.generatedTime)return{gdprApplies:k.consentData.gdprApplies,consentStringSize:Object(r.isStr)(k.consentData.vendorData.tcString)?k.consentData.vendorData.tcString.length:0,generatedAt:k.generatedTime,apiVersion:k.consentData.apiVersion}}},x={consentData:null,generatedTime:null,setConsentData:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(r.timestamp)();x.consentData=e,x.generatedTime=t},getConsentData:function(){return x.consentData},getConsentMeta:function(){if(x.consentData&&x.generatedTime)return{usp:x.consentData,generatedAt:x.generatedTime}}},N={getCoppa:function(){return!!c.b.getConfig("coppa")}},D=[],R=[];function M(){_.s2STestingEnabled=!1,T.forEach((function(e){e&&e.enabled&&e.bidders&&e.bidders.length&&R.push.apply(R,function(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.bidders))}))}function B(e){return e&&e.enabled&&e.testing&&A}function U(e,t,n){try{var i=I[e].getSpec();i&&i[t]&&"function"==typeof i[t]&&(Object(r.logInfo)("Invoking ".concat(e,".").concat(t)),c.b.runWithBidder(e,r.bind.call(i[t],i,n)))}catch(n){Object(r.logWarn)("Error calling ".concat(t," of ").concat(e))}}_.makeBidRequests=Object(u.b)("sync",(function(e,t,n,i,o){w.emit(S.EVENTS.BEFORE_REQUEST_BIDS,e),Object(a.b)(e);var s=Object(r.getBidderCodes)(e);c.b.getConfig("bidderSequence")===c.a&&(s=Object(r.shuffle)(s));var u=Object(g.a)(),d=s,f=[];0===R.length&&M(),T.forEach((function(t){t&&t.enabled&&B(t)&&(A.calculateBidSources(t),A.getSourceBidderMap(e,R)[A.CLIENT].forEach((function(e){l()(D,e)||D.push(e)})))})),d=s.filter((function(e){return!l()(R,e)||l()(D,e)}));var m=R;T.forEach((function(i){if(i&&i.enabled){(function(e){return Boolean(B(e)&&e.testServerOnly)})(i)&&function(e,t){return Boolean(p()(e,(function(e){return p()(e.bids,(function(e){return(e.bidSource||t.bidderControl&&t.bidderControl[e.bidder])&&e.finalSource===A.SERVER}))})))}(e,i)&&(Object(r.logWarn)("testServerOnly: True.  All client requests will be suppressed."),d.length=0);var a=function(e,t){var n=t.bidders,i=Object(r.deepClone)(e);return i.forEach((function(e){e.bids=e.bids.filter((function(e){return l()(n,e.bidder)&&(!B(t)||e.finalSource!==A.CLIENT)})).map((function(e){return e.bid_id=Object(r.getUniqueIdentifierStr)(),e}))})),i.filter((function(e){return 0!==e.bids.length}))}(e,i),s=Object(r.generateUUID)();m.forEach((function(e){var c=Object(r.getUniqueIdentifierStr)(),d={bidderCode:e,auctionId:n,bidderRequestId:c,uniquePbsTid:s,bids:P({bidderCode:e,auctionId:n,bidderRequestId:c,adUnits:Object(r.deepClone)(a),labels:o,src:S.S2S.SRC}),auctionStart:t,timeout:i.timeout,src:S.S2S.SRC,refererInfo:u};0!==d.bids.length&&f.push(d)})),a.forEach((function(e){var t=e.bids.filter((function(e){return p()(f,(function(t){return p()(t.bids,(function(t){return t.bidId===e.bid_id}))}))}));e.bids=t})),f.forEach((function(e){void 0===e.adUnitsS2SCopy&&(e.adUnitsS2SCopy=a.filter((function(e){return e.bids.length>0})))}))}}));var h=function(e){var t=Object(r.deepClone)(e);return t.forEach((function(e){e.bids=e.bids.filter((function(e){return!D.length||e.finalSource!==A.SERVER}))})),t.filter((function(e){return 0!==e.bids.length}))}(e);return d.forEach((function(e){var a=Object(r.getUniqueIdentifierStr)(),s={bidderCode:e,auctionId:n,bidderRequestId:a,bids:P({bidderCode:e,auctionId:n,bidderRequestId:a,adUnits:Object(r.deepClone)(h),labels:o,src:"client"}),auctionStart:t,timeout:i,refererInfo:u},c=I[e];c||Object(r.logError)("Trying to make a request for bidder that does not exist: ".concat(e)),c&&s.bids&&0!==s.bids.length&&f.push(s)})),k.getConsentData()&&f.forEach((function(e){e.gdprConsent=k.getConsentData()})),x.getConsentData()&&f.forEach((function(e){e.uspConsent=x.getConsentData()})),f}),"makeBidRequests"),_.callBids=function(e,t,n,i,a,o,u){if(t.length){var d=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),2!==a.length);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e)||y(e,2)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.reduce((function(e,t){return e[Number(void 0!==t.src&&t.src===S.S2S.SRC)].push(t),e}),[[],[]])),f=d[0],p=d[1],m=[];p.forEach((function(e){for(var t=-1,n=0;n<m.length;++n)if(e.uniquePbsTid===m[n].uniquePbsTid){t=n;break}t<=-1&&m.push(e)}));var g=0,h=Object(r.generateUUID)();T.forEach((function(e){if(e&&m[g]&&l()(e.bidders,m[g].bidderCode)){var t=Object(s.b)(o,a?{request:a.request.bind(null,"s2s"),done:a.done}:void 0),c=e.bidders,u=I[e.adapter],d=m[g].uniquePbsTid,f=m[g].adUnitsS2SCopy,v=p.filter((function(e){return e.uniquePbsTid===d}));if(u){var y={tid:h,ad_units:f,s2sConfig:e};if(y.ad_units.length){var E=v.map((function(e){return e.start=Object(r.timestamp)(),i.bind(e)})),O=y.ad_units.reduce((function(e,t){return e.concat((t.bids||[]).reduce((function(e,t){return e.concat(t.bidder)}),[]))}),[]);Object(r.logMessage)("CALLING S2S HEADER BIDDERS ==== ".concat(c.filter((function(e){return l()(O,e)})).join(","))),v.forEach((function(e){w.emit(S.EVENTS.BID_REQUESTED,b(b({},e),{},{tid:h}))})),u.callBids(y,p,n,(function(){return E.forEach((function(e){return e()}))}),t)}}else Object(r.logError)("missing "+e.adapter);g++}})),f.forEach((function(e){e.start=Object(r.timestamp)();var t=I[e.bidderCode];c.b.runWithBidder(e.bidderCode,(function(){Object(r.logMessage)("CALLING BIDDER"),w.emit(S.EVENTS.BID_REQUESTED,e)}));var d=Object(s.b)(o,a?{request:a.request.bind(null,e.bidderCode),done:a.done}:void 0),l=i.bind(e);try{c.b.runWithBidder(e.bidderCode,r.bind.call(t.callBids,t,e,n,l,d,u,c.b.callbackWithBidder(e.bidderCode)))}catch(t){Object(r.logError)("".concat(e.bidderCode," Bid Adapter emitted an uncaught error when parsing their bidRequest"),{e:t,bidRequest:e}),l()}}))}else Object(r.logWarn)("callBids executed with no bidRequests.  Were they filtered by labels or sizing?")},_.videoAdapters=[],_.registerBidAdapter=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.supportedMediaTypes,o=void 0===i?[]:i;e&&t?"function"==typeof e.callBids?(I[t]=e,l()(o,"video")&&_.videoAdapters.push(t),l()(o,"native")&&a.g.push(t)):Object(r.logError)("Bidder adaptor error for bidder code: "+t+"bidder must implement a callBids() function"):Object(r.logError)("bidAdapter or bidderCode not specified")},_.aliasBidAdapter=function(e,t,n){if(void 0===I[t]){var i=I[e];if(void 0===i){var s=[];T.forEach((function(n){if(n.bidders&&n.bidders.length){var r=n&&n.bidders;n&&l()(r,t)?C[t]=e:s.push(e)}})),s.forEach((function(e){Object(r.logError)('bidderCode "'+e+'" is not an existing bidder.',"adapterManager.aliasBidAdapter")}))}else try{var c,u=function(e){var t=[];return l()(_.videoAdapters,e)&&t.push("video"),l()(a.g,e)&&t.push("native"),t}(e);if(i.constructor.prototype!=Object.prototype)(c=new i.constructor).setBidderCode(t);else{var d=i.getSpec(),f=n&&n.gvlid,p=n&&n.skipPbsAliasing;c=Object(o.newBidder)(O({},d,{code:t,gvlid:f,skipPbsAliasing:p})),C[t]=e}_.registerBidAdapter(c,t,{supportedMediaTypes:u})}catch(t){Object(r.logError)(e+" bidder does not currently support aliasing.","adapterManager.aliasBidAdapter")}}else Object(r.logMessage)('alias name "'+t+'" has been already specified.')},_.registerAnalyticsAdapter=function(e){var t=e.adapter,n=e.code,i=e.gvlid;t&&n?"function"==typeof t.enableAnalytics?(t.code=n,j[n]={adapter:t,gvlid:i}):Object(r.logError)('Prebid Error: Analytics adaptor error for analytics "'.concat(n,'"\n        analytics adapter must implement an enableAnalytics() function')):Object(r.logError)("Prebid Error: analyticsAdapter or analyticsCode not specified")},_.enableAnalytics=function(e){Object(r.isArray)(e)||(e=[e]),Object(r._each)(e,(function(e){var t=j[e.provider].adapter;t?t.enableAnalytics(e):Object(r.logError)("Prebid Error: no analytics adapter found in registry for\n        ".concat(e.provider,"."))}))},_.getBidAdapter=function(e){return I[e]},_.getAnalyticsAdapter=function(e){return j[e]},_.callTimedOutBidders=function(e,t,n){t=t.map((function(t){return t.params=Object(r.getUserConfiguredParams)(e,t.adUnitCode,t.bidder),t.timeout=n,t})),t=Object(r.groupBy)(t,"bidder"),Object.keys(t).forEach((function(e){U(e,"onTimeout",t[e])}))},_.callBidWonBidder=function(e,t,n){t.params=Object(r.getUserConfiguredParams)(n,t.adUnitCode,t.bidder),m.a.incrementBidderWinsCounter(t.adUnitCode,t.bidder),U(e,"onBidWon",t)},_.callSetTargetingBidder=function(e,t){U(e,"onSetTargeting",t)},_.callBidViewableBidder=function(e,t){U(e,"onBidViewable",t)},_.callBidderError=function(e,t,n){U(e,"onBidderError",{error:t,bidderRequest:n})},t.default=_},90:function(e,t,n){var r=n(50),i=n(54),a=n(122),o=function(e){return function(t,n,o){var s,c=r(t),u=i(c.length),d=a(o,u);if(e&&n!=n){for(;u>d;)if((s=c[d++])!=s)return!0}else for(;u>d;d++)if((e||d in c)&&c[d]===n)return e||d||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},91:function(e,t,n){var r=n(123);n(143),n(145),n(147),n(149),n(151),n(152),n(153),n(154),n(155),n(156),n(157),n(158),n(159),n(160),n(161),n(162),n(163),n(164),e.exports=r},92:function(t,n,r){var i=r(57),a=r(30),o=r(31),s=r(35).f,c=r(67),u=r(126),d=c("meta"),l=0,f=Object.isExtensible||function(){return!0},p=function(e){s(e,d,{value:{objectID:"O"+ ++l,weakData:{}}})},m=t.exports={REQUIRED:!1,fastKey:function(t,n){if(!a(t))return"symbol"==e(t)?t:("string"==typeof t?"S":"P")+t;if(!o(t,d)){if(!f(t))return"F";if(!n)return"E";p(t)}return t[d].objectID},getWeakData:function(e,t){if(!o(e,d)){if(!f(e))return!0;if(!t)return!1;p(e)}return e[d].weakData},onFreeze:function(e){return u&&m.REQUIRED&&f(e)&&!o(e,d)&&p(e),e}};i[d]=!0},93:function(e,t,n){var r=n(23),i=n(40),a=r("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[a]===e)}},94:function(e,t,n){var r=n(17);e.exports=function(e){var t=e.return;if(void 0!==t)return r(t.call(e)).value}},95:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},96:function(e,t,n){var r=n(72);e.exports=function(e,t,n){for(var i in t)n&&n.unsafe&&e[i]?e[i]=t[i]:r(e,i,t[i],n);return e}},97:function(e,t,n){var r=n(98).IteratorPrototype,i=n(71),a=n(44),o=n(60),s=n(40),c=function(){return this};e.exports=function(e,t,n){var u=t+" Iterator";return e.prototype=i(r,{next:a(1,n)}),o(e,u,!1,!0),s[u]=c,e}},98:function(e,t,n){var r,i,a,o=n(29),s=n(99),c=n(33),u=n(31),d=n(23),l=n(19),f=d("iterator"),p=!1;[].keys&&("next"in(a=[].keys())?(i=s(s(a)))!==Object.prototype&&(r=i):p=!0);var m=null==r||o((function(){var e={};return r[f].call(e)!==e}));m&&(r={}),l&&!m||u(r,f)||c(r,f,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},99:function(e,t,n){var r=n(31),i=n(53),a=n(70),o=n(135),s=a("IE_PROTO"),c=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=i(e),r(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?c:null}}}),pbjsChunk([386],{235:function(e,t,n){e.exports=n(236)},236:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.callPrebidCacheHook=k,t.checkAdUnitSetupHook=x,t.checkVideoBidSetupHook=N,t.adpodSetConfig=D,t.callPrebidCacheAfterAuction=R,t.sortByPricePerSecond=M,t.getTargeting=B;var r=n(0),i=n(28),a=n(81),o=n(20),s=n(8),c=n(103),u=n(3),d=n(2),l=n(91),f=n.n(l),p=n(11),m=n.n(p),g=n(18),h=n(5),b=n.n(h);function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||O(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){if(e){if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S=n(75),w="hb_pb_cat_dur",_="hb_cache_id",I=50,C=5,T=function(){var e={};return{addBid:function(t){e[t.auctionId]||function(t){var n,i,a;e[t]={},e[t].bidStorage=new f.a,e[t].queueDispatcher=(n=I,a=1,function(e,t,r,o){var s=this,c=function(){P.call(s,e,t,r)};clearTimeout(i),o?a=1:a===C?(a=1,c()):(a++,i=setTimeout(c,n))}),e[t].initialCacheKey=Object(r.generateUUID)()}(t.auctionId),e[t.auctionId].bidStorage.add(t)},removeBid:function(t){e[t.auctionId].bidStorage.delete(t)},getBids:function(t){return e[t.auctionId]&&e[t.auctionId].bidStorage.values()},getQueueDispatcher:function(t){return e[t.auctionId]&&e[t.auctionId].queueDispatcher},setupInitialCacheKey:function(t){e[t.auctionId]||(e[t.auctionId]={},e[t.auctionId].initialCacheKey=Object(r.generateUUID)())},getInitialCacheKey:function(t){return e[t.auctionId]&&e[t.auctionId].initialCacheKey}}}();function j(e,t){var n,a=T.getInitialCacheKey(e),o=Object(r.deepAccess)(e,"video.durationBucket"),s=function(e){var t;if(u.b.getConfig("adpod.prioritizeDeals")&&Object(r.deepAccess)(e,"video.dealTier")){var n=u.b.getConfig("adpod.dealTier.".concat(e.bidderCode,".prefix"));t=n?n+Object(r.deepAccess)(e,"video.dealTier"):Object(r.deepAccess)(e,"video.dealTier")}else{var a=Object(i.i)(e);t=Object(i.h)(a)(e)}return t}(e);if(t){var c=Object(r.deepAccess)(e,"meta.adServerCatId");n="".concat(s,"_").concat(c,"_").concat(o,"s")}else n="".concat(s,"_").concat(o,"s");e.adserverTargeting||(e.adserverTargeting={}),e.adserverTargeting.hb_pb_cat_dur=n,e.adserverTargeting.hb_cache_id=a,e.videoCacheKey=a,e.customCacheKey="".concat(n,"_").concat(a)}function P(e,t,n){!function(e){for(var t=0;t<e.length;t++)T.removeBid(e[t])}(t),Object(c.b)(t,(function(a,o){if(a){Object(r.logWarn)("Failed to save to the video cache: ".concat(a,". Video bid(s) must be discarded."));for(var s=0;s<t.length;s++)Object(i.g)(e,t[s])}else for(var c=0;c<o.length;c++)""!==o[c].uuid?Object(i.d)(e,t[c]):Object(r.logInfo)("Detected a bid was not cached because the custom key was already registered.  Attempted to use key: ".concat(t[c].customCacheKey,". Bid was: "),t[c]),n()}))}function k(e,t,n,a,o){if(o&&o.context===d.a){var s=u.b.getConfig("adpod.brandCategoryExclusion");!Object(r.deepAccess)(n,"meta.adServerCatId")&&s?(Object(r.logWarn)("Detected a bid without meta.adServerCatId while setConfig({adpod.brandCategoryExclusion}) was enabled.  This bid has been rejected:",n),a()):!1===u.b.getConfig("adpod.deferCaching")?(T.addBid(n),j(n,s),function(e,t,n){var a=T.getBids(t);if(a){var o=S(a),s=T.getQueueDispatcher(t),c=!(e.getAuctionStatus()===i.b);s(e,o,n,c)}else Object(r.logWarn)("Attempted to cache a bid from an unknown auction. Bid:",t)}(t,n,a)):(T.setupInitialCacheKey(n),j(n,s),Object(i.d)(t,n),a())}else e.call(this,t,n,a,o)}function x(e,t){var n=t.filter((function(e){var t=Object(r.deepAccess)(e,"mediaTypes"),n=Object(r.deepAccess)(t,"video");if(n&&n.context===d.a){if(Object.keys(t).length>1)return Object(r.logWarn)("Detected more than one mediaType in adUnitCode: ".concat(e.code," while attempting to define an 'adpod' video adUnit.  'adpod' adUnits cannot be mixed with other mediaTypes.  This adUnit will be removed from the auction.")),!1;var i="Detected missing or incorrectly setup fields for an adpod adUnit.  Please review the following fields of adUnitCode: ".concat(e.code,".  This adUnit will be removed from the auction."),a=!!(n.playerSize&&(Object(r.isArrayOfNums)(n.playerSize,2)||Object(r.isArray)(n.playerSize)&&n.playerSize.every((function(e){return Object(r.isArrayOfNums)(e,2)})))||n.sizeConfig),o=!!(n.adPodDurationSec&&Object(r.isNumber)(n.adPodDurationSec)&&n.adPodDurationSec>0),s=!!(n.durationRangeSec&&Object(r.isArrayOfNums)(n.durationRangeSec)&&n.durationRangeSec.every((function(e){return e>0})));if(!a||!o||!s)return i+=a?"":"\nmediaTypes.video.playerSize",i+=o?"":"\nmediaTypes.video.adPodDurationSec",i+=s?"":"\nmediaTypes.video.durationRangeSec",Object(r.logWarn)(i),!1}return!0}));t=n,e.call(this,t)}function N(e,t,n,i,a){if(a===d.a){var o=!0;u.b.getConfig("adpod.brandCategoryExclusion")&&!Object(r.deepAccess)(t,"meta.primaryCatId")&&(o=!1),Object(r.deepAccess)(t,"video")&&(Object(r.deepAccess)(t,"video.context")&&t.video.context===d.a||(o=!1),!Object(r.deepAccess)(t,"video.durationSeconds")||t.video.durationSeconds<=0?o=!1:function(e,t){var n=Object(r.deepAccess)(t,"video.durationSeconds"),i=e.durationRangeSec;if(i.sort((function(e,t){return e-t})),e.requireExactDuration){if(!m()(i,(function(e){return e===n})))return Object(r.logWarn)("Detected a bid with a duration value not part of the list of accepted ranges specified in adUnit.mediaTypes.video.durationRangeSec.  Exact match durations must be used for this adUnit. Rejecting bid: ",t),!1;t.video.durationBucket=n}else{var a=Math.max.apply(Math,function(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||O(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(i));if(!(n<=a+2))return Object(r.logWarn)("Detected a bid with a duration value outside the accepted ranges specified in adUnit.mediaTypes.video.durationRangeSec.  Rejecting bid: ",t),!1;var o=m()(i,(function(e){return e+2>=n}));t.video.durationBucket=o}return!0}(i,t)||(o=!1)),u.b.getConfig("cache.url")||!t.vastXml||t.vastUrl||(Object(r.logError)('\n        This bid contains only vastXml and will not work when a prebid cache url is not specified.\n        Try enabling prebid cache with pbjs.setConfig({ cache: {url: "..."} });\n      '),o=!1),e.bail(o)}else e.call(this,t,n,i,a)}function D(e){void 0!==e.bidQueueTimeDelay&&("number"==typeof e.bidQueueTimeDelay&&e.bidQueueTimeDelay>0?I=e.bidQueueTimeDelay:Object(r.logWarn)("Detected invalid value for adpod.bidQueueTimeDelay in setConfig; must be a positive number.  Using default: ".concat(I))),void 0!==e.bidQueueSizeLimit&&("number"==typeof e.bidQueueSizeLimit&&e.bidQueueSizeLimit>0?C=e.bidQueueSizeLimit:Object(r.logWarn)("Detected invalid value for adpod.bidQueueSizeLimit in setConfig; must be a positive number.  Using default: ".concat(C)))}function R(e,t){Object(c.b)(e,(function(n,r){if(n)t(n,null);else{for(var i=[],a=0;a<r.length;a++)""!==r[a]&&i.push(e[a]);t(null,i)}}))}function M(e,t){return e.adserverTargeting[b.a.TARGETING_KEYS.PRICE_BUCKET]/e.video.durationBucket<t.adserverTargeting[b.a.TARGETING_KEYS.PRICE_BUCKET]/t.video.durationBucket?1:e.adserverTargeting[b.a.TARGETING_KEYS.PRICE_BUCKET]/e.video.durationBucket>t.adserverTargeting[b.a.TARGETING_KEYS.PRICE_BUCKET]/t.video.durationBucket?-1:0}function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.codes,n=e.callback;if(n){var i=U(t=t||[]),a=g.a.getBidsReceived(),o=u.b.getConfig("adpod.brandCategoryExclusion"),s=u.b.getConfig("adpod.deferCaching"),c="boolean"!=typeof s||s,d=V(a,i);d=o||c?L(d):d;var l=u.b.getConfig("adpod.prioritizeDeals");if(l){var f=d.reduce((function(e,t){var n=Object(r.deepAccess)(t,"video.dealTier"),i=u.b.getConfig("adpod.dealTier.".concat(t.bidderCode,".minDealTier"));return i&&n?n>=i?e[1].push(t):e[0].push(t):n?e[1].push(t):e[0].push(t),e}),[[],[]]),p=E(f,2),m=p[0],h=p[1];h.sort(M),m.sort(M),d=h.concat(m)}else d.sort(M);var b={};if(!1===c)i.forEach((function(e){var t=[],n=Object(r.deepAccess)(e,"mediaTypes.video.adPodDurationSec");d.filter((function(t){return t.adUnitCode===e.code})).forEach((function(e,r,i){e.video.durationBucket<=n&&(t.push(y({},w,e.adserverTargeting.hb_pb_cat_dur)),n-=e.video.durationBucket),r===i.length-1&&t.length>0&&t.push(y({},_,e.adserverTargeting.hb_cache_id))})),b[e.code]=t})),n(null,b);else{var v=[];i.forEach((function(e){var t=Object(r.deepAccess)(e,"mediaTypes.video.adPodDurationSec");d.filter((function(t){return t.adUnitCode===e.code})).forEach((function(e){e.video.durationBucket<=t&&(v.push(e),t-=e.video.durationBucket)}))})),R(v,(function(e,t){if(e)n(e,null);else{var i=Object(r.groupBy)(t,"adUnitCode");Object.keys(i).forEach((function(e){var t=[];i[e].forEach((function(e,n,r){t.push(y({},w,e.adserverTargeting.hb_pb_cat_dur)),n===r.length-1&&t.length>0&&t.push(y({},_,e.adserverTargeting.hb_cache_id))})),b[e]=t})),n(null,b)}}))}return b}Object(r.logError)("No callback function was defined in the getTargeting call.  Aborting getTargeting().")}function U(e){return g.a.getAdUnits().filter((function(e){return Object(r.deepAccess)(e,"mediaTypes.video.context")===d.a})).filter((function(t){return!(e.length>0)||-1!=e.indexOf(t.code)}))}function L(e){var t=e.map((function(e){return v({},e,y({},w,e.adserverTargeting.hb_pb_cat_dur))}));t=Object(r.groupBy)(t,w);var n=[];return Object.keys(t).forEach((function(e){t[e].sort(Object(r.compareOn)("responseTimestamp")),n.push(t[e][0])})),n}function V(e,t){var n=t.map((function(e){return e.code}));return e.filter((function(e){return-1!=n.indexOf(e.adUnitCode)&&e.video&&e.video.context===d.a}))}u.b.getConfig("adpod",(function(e){return D(e.adpod)})),Object(s.d)(i.f,k),Object(s.d)(a.checkAdUnitSetup,x),Object(s.d)(o.c,N);var F={TARGETING_KEY_PB_CAT_DUR:w,TARGETING_KEY_CACHE_ID:_,getTargeting:B};Object.freeze(F),Object(s.c)("adpod",(function(){function e(e,t){for(var n in t)e[n]=t[n]}Object(r.isPlainObject)(arguments.length<=0?void 0:arguments[0])?e(arguments.length<=0?void 0:arguments[0],F):Object(r.logError)("Adpod module needs plain object to share methods with submodule")})),window.pbjs.installedModules.push("adpod")}},[235]),pbjsChunk([361],{296:function(e,t,n){e.exports=n(82)},82:function(t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),r.d(n,"spec",(function(){return k}));var i=r(0),a=r(13),o=r(3),s=r(1),c=r(2),u=r(18),d=r(11),l=r.n(d),f=r(12),p=r.n(f),m=r(20),g=r(7),h=r(42);function b(t){return(b="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O="appnexus",A=["id","minduration","maxduration","skippable","playback_method","frameworks","context","skipoffset"],S=["minduration","maxduration","skip","skipafter","playbackmethod","api"],w=["age","externalUid","segments","gender","dnt","language"],_=["geo","device_id"],I=["enabled","dongle","member_id","debug_timeout"],C={playback_method:{unknown:0,auto_play_sound_on:1,auto_play_sound_off:2,click_to_play:3,mouse_over:4,auto_play_sound_unknown:5},context:{unknown:0,pre_roll:1,mid_roll:2,post_roll:3,outstream:4,"in-banner":5}},T={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0}},icon:{serverName:"icon",requiredParams:{required:!0}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},j=/\/\/cdn\.adnxs\.com\/v|\/\/cdn\.adnxs\-simple\.com\/v/,P=Object(g.b)(32,O),k={code:O,gvlid:32,aliases:[{code:"appnexusAst",gvlid:32},{code:"brealtime"},{code:"emxdigital",gvlid:183},{code:"pagescience"},{code:"defymedia"},{code:"gourmetads"},{code:"matomy"},{code:"featureforward"},{code:"oftmedia"},{code:"districtm",gvlid:144},{code:"adasta"},{code:"beintoo",gvlid:618}],supportedMediaTypes:[c.b,c.d,c.c],isBidRequestValid:function(e){return!!(e.params.placementId||e.params.member&&e.params.invCode)},buildRequests:function(e,t){var n=e.map(M),r=l()(e,U),a={};!0===o.b.getConfig("coppa")&&(a={coppa:!0}),r&&Object.keys(r.params.user).filter((function(e){return p()(w,e)})).forEach((function(e){var t=Object(i.convertCamelToUnderscore)(e);if("segments"===e&&Object(i.isArray)(r.params.user[e])){var n=[];r.params.user[e].forEach((function(e){Object(i.isNumber)(e)?n.push({id:e}):Object(i.isPlainObject)(e)&&n.push(e)})),a[t]=n}else"segments"!==e&&(a[t]=r.params.user[e])}));var s,c=l()(e,V);c&&c.params&&c.params.app&&(s={},Object.keys(c.params.app).filter((function(e){return p()(_,e)})).forEach((function(e){return s[e]=c.params.app[e]})));var u,d=l()(e,F);d&&d.params&&c.params.app&&c.params.app.id&&(u={appid:d.params.app.id});var f={},m={},g=P.getCookie("apn_prebid_debug")||null;if(g)try{f=JSON.parse(g)}catch(e){Object(i.logError)("AppNexus Debug Auction Cookie Error:\n\n"+e)}else{var h=l()(e,q);h&&h.debug&&(f=h.debug)}f&&f.enabled&&Object.keys(f).filter((function(e){return p()(I,e)})).forEach((function(e){m[e]=f[e]}));var b=l()(e,L),v=b?parseInt(b.params.member,10):0,E=e[0].schain,O=l()(e,z),A={tags:y(n),user:a,sdk:{source:"pbjs",version:"6.13.0"},schain:E};O&&(A.iab_support={omidpn:"Appnexus",omidpv:"6.13.0"}),v>0&&(A.member_id=v),c&&(A.device=s),d&&(A.app=u);var S=o.b.getConfig("appnexusAuctionKeywords");if(Object(i.isPlainObject)(S)){var C=Object(i.transformBidderParamKeywords)(S);C.length>0&&C.forEach(N),A.keywords=C}if(o.b.getConfig("adpod.brandCategoryExclusion")&&(A.brand_category_uniqueness=!0),m.enabled&&(A.debug=m,Object(i.logInfo)("AppNexus Debug Auction Settings:\n\n"+JSON.stringify(m,null,4))),t&&t.gdprConsent&&(A.gdpr_consent={consent_string:t.gdprConsent.consentString,consent_required:t.gdprConsent.gdprApplies},t.gdprConsent.addtlConsent&&-1!==t.gdprConsent.addtlConsent.indexOf("~"))){var T=t.gdprConsent.addtlConsent,j=T.substring(T.indexOf("~")+1);A.gdpr_consent.addtl_consent=j.split(".").map((function(e){return parseInt(e,10)}))}if(t&&t.uspConsent&&(A.us_privacy=t.uspConsent),t&&t.refererInfo){var k={rd_ref:encodeURIComponent(t.refererInfo.referer),rd_top:t.refererInfo.reachedTop,rd_ifs:t.refererInfo.numIframes,rd_stk:t.refererInfo.stack.map((function(e){return encodeURIComponent(e)})).join(",")};A.referrer_detection=k}if(l()(e,G)&&e.filter(G).forEach((function(e){var t=function(e,t){var n=t.mediaTypes.video,r=n.durationRangeSec,a=n.requireExactDuration,o=function(e){var t=e.adPodDurationSec,n=e.durationRangeSec,r=e.requireExactDuration,a=Object(i.getMinValueFromArray)(n),o=Math.floor(t/a);return r?Math.max(o,n.length):o}(t.mediaTypes.video),s=Object(i.getMaxValueFromArray)(r),c=e.filter((function(e){return e.uuid===t.bidId})),u=i.fill.apply(void 0,y(c).concat([o]));if(a){var d=Math.ceil(o/r.length),l=Object(i.chunk)(u,d);r.forEach((function(e,t){l[t].map((function(t){W(t,"minduration",e),W(t,"maxduration",e)}))}))}else u.map((function(e){return W(e,"maxduration",s)}));return u}(n,e),r=A.tags.filter((function(t){return t.uuid!==e.bidId}));A.tags=[].concat(y(r),y(t))})),e[0].userId){var x=[];Y(x,Object(i.deepAccess)(e[0],"userId.flocId.id"),"chrome.com",null),Y(x,Object(i.deepAccess)(e[0],"userId.criteoId"),"criteo.com",null),Y(x,Object(i.deepAccess)(e[0],"userId.netId"),"netid.de",null),Y(x,Object(i.deepAccess)(e[0],"userId.idl_env"),"liveramp.com",null),Y(x,Object(i.deepAccess)(e[0],"userId.tdid"),"adserver.org","TDID"),Y(x,Object(i.deepAccess)(e[0],"userId.uid2.id"),"uidapi.com","UID2"),x.length&&(A.eids=x)}return n[0].publisher_id&&(A.publisher_id=n[0].publisher_id),function(e,t){var n=[],r={withCredentials:!0},a="https://ib.adnxs.com/ut/v3/prebid";if(R(t)||(a="https://ib.adnxs-simple.com/ut/v3/prebid"),"TRUE"!==Object(i.getParameterByName)("apn_test").toUpperCase()&&!0!==o.b.getConfig("apn_test")||(r.customHeaders={"X-Is-Test":1}),e.tags.length>15){var s=Object(i.deepClone)(e);Object(i.chunk)(e.tags,15).forEach((function(e){s.tags=e;var i=JSON.stringify(s);n.push({method:"POST",url:a,data:i,bidderRequest:t,options:r})}))}else{var c=JSON.stringify(e);n={method:"POST",url:a,data:c,bidderRequest:t,options:r}}return n}(A,t)},interpretResponse:function(e,t){var n=this,r=t.bidderRequest;e=e.body;var o=[];if(!e||e.error){var u="in response for ".concat(r.bidderCode," adapter");return e&&e.error&&(u+=": ".concat(e.error)),Object(i.logError)(u),o}if(e.tags&&e.tags.forEach((function(e){var t,u=(t=e)&&t.ads&&t.ads.length&&l()(t.ads,(function(e){return e.rtb}));if(u&&(!0===h.a.get(r.bidderCode,"allowZeroCpmBids")?u.cpm>=0:u.cpm>0)&&p()(n.supportedMediaTypes,u.ad_type)){var d=function(e,t,n){var r=Object(i.getBidRequest)(e.uuid,[n]),o={requestId:e.uuid,cpm:t.cpm,creativeId:t.creative_id,dealId:t.deal_id,currency:"USD",netRevenue:!0,ttl:300,adUnitCode:r.adUnitCode,appnexus:{buyerMemberId:t.buyer_member_id,dealPriority:t.deal_priority,dealCode:t.deal_code}};if(t.adomain&&(o.meta=v({},o.meta,{advertiserDomains:[]})),t.advertiser_id&&(o.meta=v({},o.meta,{advertiserId:t.advertiser_id})),t.buyer_member_id&&(o.meta=v({},o.meta,{dchain:function(e){return{ver:"1.0",complete:0,nodes:[{bsid:e.buyer_member_id.toString()}]}}(t)})),t.brand_id&&(o.meta=v({},o.meta,{brandId:t.brand_id})),t.rtb.video)switch(v(o,{width:t.rtb.video.player_width,height:t.rtb.video.player_height,vastImpUrl:t.notify_url,ttl:3600}),Object(i.deepAccess)(r,"mediaTypes.video.context")){case c.a:var u=Object(s.getIabSubCategory)(r.bidder,t.brand_category_id);o.meta=v({},o.meta,{primaryCatId:u});var d=t.deal_priority;o.video={context:c.a,durationSeconds:Math.floor(t.rtb.video.duration_ms/1e3),dealTier:d},o.vastUrl=t.rtb.video.asset_url;break;case m.b:if(o.adResponse=e,o.adResponse.ad=o.adResponse.ads[0],o.adResponse.ad.video=o.adResponse.ad.rtb.video,o.vastXml=t.rtb.video.content,t.renderer_url){var f=l()(n.bids,(function(t){return t.bidId===e.uuid})),p=Object(i.deepAccess)(f,"renderer.options");o.renderer=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=a.a.install({id:t.renderer_id,url:t.renderer_url,config:n,loaded:!1,adUnitCode:e});try{r.setRender(H)}catch(e){Object(i.logWarn)("Prebid Error calling setRender on renderer",e)}return r.setEventHandlers({impression:function(){return Object(i.logMessage)("AppNexus outstream video impression event")},loaded:function(){return Object(i.logMessage)("AppNexus outstream video loaded event")},ended:function(){Object(i.logMessage)("AppNexus outstream renderer video event"),document.querySelector("#".concat(e)).style.display="none"}}),r}(o.adUnitCode,t,p)}break;case m.a:o.vastUrl=t.notify_url+"&redir="+encodeURIComponent(t.rtb.video.asset_url)}else if(t.rtb[c.c]){var g=t.rtb[c.c],h=t.viewability.config.replace("src=","data-src="),b=g.javascript_trackers;null==b?b=h:Object(i.isStr)(b)?b=[b,h]:b.push(h),o[c.c]={title:g.title,body:g.desc,body2:g.desc2,cta:g.ctatext,rating:g.rating,sponsoredBy:g.sponsored,privacyLink:g.privacy_link,address:g.address,downloads:g.downloads,likes:g.likes,phone:g.phone,price:g.price,salePrice:g.saleprice,clickUrl:g.link.url,displayUrl:g.displayurl,clickTrackers:g.link.click_trackers,impressionTrackers:g.impression_trackers,javascriptTrackers:b},g.main_img&&(o.native.image={url:g.main_img.url,height:g.main_img.height,width:g.main_img.width}),g.icon&&(o.native.icon={url:g.icon.url,height:g.icon.height,width:g.icon.width})}else{v(o,{width:t.rtb.banner.width,height:t.rtb.banner.height,ad:t.rtb.banner.content});try{if(t.rtb.trackers)for(var y=0;y<t.rtb.trackers[0].impression_urls.length;y++){var E=t.rtb.trackers[0].impression_urls[y],O=Object(i.createTrackPixelHtml)(E);o.ad+=O}}catch(e){Object(i.logError)("Error appending tracking pixel",e)}}return o}(e,u,r);d.mediaType=function(e){var t=e.ad_type;return t===c.d?c.d:t===c.c?c.c:c.b}(u),o.push(d)}})),e.debug&&e.debug.debug_info){var d="AppNexus Debug Auction for Prebid\n\n"+e.debug.debug_info;d=d.replace(/(<td>|<th>)/gm,"\t").replace(/(<\/td>|<\/th>)/gm,"\n").replace(/^<br>/gm,"").replace(/(<br>\n|<br>)/gm,"\n").replace(/<h1>(.*)<\/h1>/gm,"\n\n===== $1 =====\n\n").replace(/<h[2-6]>(.*)<\/h[2-6]>/gm,"\n\n*** $1 ***\n\n").replace(/(<([^>]+)>)/gim,""),Object(i.logMessage)("https://console.appnexus.com/docs/understanding-the-debug-auction"),Object(i.logMessage)(d)}return o},getMappingFileInfo:function(){return{url:"https://acdn.adnxs-simple.com/prebid/appnexus-mapping/mappings.json",refreshInDays:2}},getUserSyncs:function(e,t,n){if(e.iframeEnabled&&R({gdprConsent:n}))return[{type:"iframe",url:"https://acdn.adnxs.com/dmp/async_usersync.html"}]},transformBidParams:function(e,t){return e=Object(i.convertTypes)({member:"string",invCode:"string",placementId:"number",keywords:i.transformBidderParamKeywords,publisherId:"number"},e),t&&(e.use_pmt_rule="boolean"==typeof e.usePaymentRule&&e.usePaymentRule,e.usePaymentRule&&delete e.usePaymentRule,x(e.keywords)&&e.keywords.forEach(N),Object.keys(e).forEach((function(t){var n=Object(i.convertCamelToUnderscore)(t);n!==t&&(e[n]=e[t],delete e[t])}))),e},onBidWon:function(e){e.native&&function(e){var t=function(e){var t;if(Object(i.isStr)(e)&&D(e))t=e;else if(Object(i.isArray)(e))for(var n=0;n<e.length;n++){var r=e[n];D(r)&&(t=r)}return t}(e.native.javascriptTrackers);if(t)for(var n="pbjs_adid="+e.adId+";pbjs_auc="+e.adUnitCode,r=function(e){var t=e.indexOf('src="')+5,n=e.indexOf('"',t);return e.substring(t,n)}(t),a=r.replace("dom_id=%native_dom_id%",n),o=document.getElementsByTagName("iframe"),s=!1,c=0;c<o.length&&!s;c++){var u=o[c];try{var d=u.contentDocument||u.contentWindow.document;if(d)for(var l=d.getElementsByTagName("script"),f=0;f<l.length&&!s;f++){var p=l[f];p.getAttribute("data-src")==r&&(p.setAttribute("src",a),p.setAttribute("data-src",""),p.removeAttribute&&p.removeAttribute("data-src"),s=!0)}}catch(e){if(!(e instanceof DOMException&&"SecurityError"===e.name))throw e}}}(e)}};function x(e){return!!(Object(i.isArray)(e)&&e.length>0)}function N(e){x(e.value)&&""===e.value[0]&&delete e.value}function D(e){var t=e.match(j),n=null!=t&&t.length>=1,r=e.match("trk.js"),i=null!=r&&r.length>=1;return e.startsWith("<script")&&i&&n}function R(e){var t=!0;return e&&e.gdprConsent&&e.gdprConsent.gdprApplies&&2===e.gdprConsent.apiVersion&&(t=!(!0!==Object(i.deepAccess)(e.gdprConsent,"vendorData.purpose.consents.1"))),t}function M(e){var t={};t.sizes=B(e.sizes),t.primary_size=t.sizes[0],t.ad_types=[],t.uuid=e.bidId,e.params.placementId?t.id=parseInt(e.params.placementId,10):t.code=e.params.invCode,t.allow_smaller_sizes=e.params.allowSmallerSizes||!1,t.use_pmt_rule=e.params.usePaymentRule||!1,t.prebid=!0,t.disable_psa=!0;var n=function(e){if(!Object(i.isFn)(e.getFloor))return e.params.reserve?e.params.reserve:null;var t=e.getFloor({currency:"USD",mediaType:"*",size:"*"});return Object(i.isPlainObject)(t)&&!isNaN(t.floor)&&"USD"===t.currency?t.floor:null}(e);if(n&&(t.reserve=n),e.params.position&&(t.position={above:1,below:2}[e.params.position]||0),e.params.trafficSourceCode&&(t.traffic_source_code=e.params.trafficSourceCode),e.params.privateSizes&&(t.private_sizes=B(e.params.privateSizes)),e.params.supplyType&&(t.supply_type=e.params.supplyType),e.params.pubClick&&(t.pubclick=e.params.pubClick),e.params.extInvCode&&(t.ext_inv_code=e.params.extInvCode),e.params.publisherId&&(t.publisher_id=parseInt(e.params.publisherId,10)),e.params.externalImpId&&(t.external_imp_id=e.params.externalImpId),!Object(i.isEmpty)(e.params.keywords)){var r=Object(i.transformBidderParamKeywords)(e.params.keywords);r.length>0&&r.forEach(N),t.keywords=r}var a,o,s=Object(i.deepAccess)(e,"ortb2Imp.ext.data.pbadslot");if(s&&(t.gpid=s),(e.mediaType===c.c||Object(i.deepAccess)(e,"mediaTypes.".concat(c.c)))&&(t.ad_types.push(c.c),0===t.sizes.length&&(t.sizes=B([1,1])),e.nativeParams)){var d=(a=e.nativeParams,o={},Object.keys(a).forEach((function(e){var t=T[e]&&T[e].serverName||T[e]||e,n=T[e]&&T[e].requiredParams;if(o[t]=v({},n,a[e]),(t===T.image.serverName||t===T.icon.serverName)&&o[t].sizes){var r=o[t].sizes;(Object(i.isArrayOfNums)(r)||Object(i.isArray)(r)&&r.length>0&&r.every((function(e){return Object(i.isArrayOfNums)(e)})))&&(o[t].sizes=B(o[t].sizes))}t===T.privacyLink&&(o.privacy_supported=!0)})),o);t[c.c]={layouts:[d]}}var f=Object(i.deepAccess)(e,"mediaTypes.".concat(c.d)),m=Object(i.deepAccess)(e,"mediaTypes.video.context");t.hb_source=f&&"adpod"===m?7:1,(e.mediaType===c.d||f)&&t.ad_types.push(c.d),(e.mediaType===c.d||f&&"outstream"!==m)&&(t.require_asset_url=!0),e.params.video&&(t.video={},Object.keys(e.params.video).filter((function(e){return p()(A,e)})).forEach((function(n){switch(n){case"context":case"playback_method":var r=e.params.video[n];r=Object(i.isArray)(r)?r[0]:r,t.video[n]=C[n][r];break;case"frameworks":break;default:t.video[n]=e.params.video[n]}})),e.params.video.frameworks&&Object(i.isArray)(e.params.video.frameworks)&&(t.video_frameworks=e.params.video.frameworks)),f&&(t.video=t.video||{},Object.keys(f).filter((function(e){return p()(S,e)})).forEach((function(e){switch(e){case"minduration":case"maxduration":"number"!=typeof t.video[e]&&(t.video[e]=f[e]);break;case"skip":"boolean"!=typeof t.video.skippable&&(t.video.skippable=1===f[e]);break;case"skipafter":"number"!=typeof t.video.skipoffset&&(t.video.skippoffset=f[e]);break;case"playbackmethod":if("number"!=typeof t.video.playback_method){var n=f[e];(n=Object(i.isArray)(n)?n[0]:n)>=1&&n<=4&&(t.video.playback_method=n)}break;case"api":if(!t.video_frameworks&&Object(i.isArray)(f[e])){var r=f[e].map((function(e){var t=4===e?5:5===e?4:e;if(t>=1&&t<=5)return t})).filter((function(e){return e}));t.video_frameworks=r}}}))),e.renderer&&(t.video=v({},t.video,{custom_renderer_present:!0})),e.params.frameworks&&Object(i.isArray)(e.params.frameworks)&&(t.banner_frameworks=e.params.frameworks);var g=l()(u.a.getAdUnits(),(function(t){return e.transactionId===t.transactionId}));return g&&g.mediaTypes&&g.mediaTypes.banner&&t.ad_types.push(c.b),0===t.ad_types.length&&delete t.ad_types,t}function B(e){var t=[],n={};if(Object(i.isArray)(e)&&2===e.length&&!Object(i.isArray)(e[0]))n.width=parseInt(e[0],10),n.height=parseInt(e[1],10),t.push(n);else if("object"===b(e))for(var r=0;r<e.length;r++){var a=e[r];(n={}).width=parseInt(a[0],10),n.height=parseInt(a[1],10),t.push(n)}return t}function U(e){return!!e.params.user}function L(e){return!!parseInt(e.params.member,10)}function V(e){if(e.params)return!!e.params.app}function F(e){return e.params&&e.params.app?!!e.params.app.id:!!e.params.app}function q(e){return!!e.debug}function G(e){return e.mediaTypes&&e.mediaTypes.video&&e.mediaTypes.video.context===c.a}function z(e){var t=!1,n=e.params,r=e.params.video;return n.frameworks&&Object(i.isArray)(n.frameworks)&&(t=p()(e.params.frameworks,6)),!t&&r&&r.frameworks&&Object(i.isArray)(r.frameworks)&&(t=p()(e.params.video.frameworks,6)),t}function W(e,t,n){Object(i.isEmpty)(e.video)&&(e.video={}),e.video[t]=n}function H(e){var t,n;t=e.adUnitCode,(n=document.getElementById(t).querySelectorAll("div[id^='google_ads']"))[0]&&n[0].style.setProperty("display","none"),function(e){try{var t=document.getElementById(e).querySelectorAll("script[id^='sas_script']");t[0].nextSibling&&"iframe"===t[0].nextSibling.localName&&t[0].nextSibling.style.setProperty("display","none")}catch(e){}}(e.adUnitCode),e.renderer.push((function(){window.ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},K.bind(null,e))}))}function K(e,t,n){e.renderer.handleVideoEvent({id:t,eventName:n})}function Y(e,t,n,r){return t&&(r?e.push({source:n,id:t,rti_partner:r}):e.push({source:n,id:t})),e}Object(s.registerBidder)(k),window.pbjs.installedModules.push("appnexusBidAdapter")}},[296]),pbjsChunk([63],{305:function(e,t,n){e.exports=n(306)},306:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"storage",(function(){return l})),n.d(t,"analyticsUrl",(function(){return f})),t.parseBrowser=b;var r=n(0),i=n(6),a=n(5),o=n.n(a),s=n(9),c=n(4),u=n(7);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=Object(u.b)(),f="https://analytics.rlcdn.com",p=[],m=[],g=[{test:/googlebot/i,name:"Googlebot"},{test:/opera/i,name:"Opera"},{test:/opr\/|opios/i,name:"Opera"},{test:/SamsungBrowser/i,name:"Samsung Internet for Android"},{test:/Whale/i,name:"NAVER Whale Browser"},{test:/MZBrowser/i,name:"MZ Browser"},{test:/focus/i,name:"Focus"},{test:/swing/i,name:"Swing"},{test:/coast/i,name:"Opera Coast"},{test:/opt\/\d+(?:.?_?\d+)+/i,name:"Opera Touch"},{test:/yabrowser/i,name:"Yandex Browser"},{test:/ucbrowser/i,name:"UC Browser"},{test:/Maxthon|mxios/i,name:"Maxthon"},{test:/epiphany/i,name:"Epiphany"},{test:/puffin/i,name:"Puffin"},{test:/sleipnir/i,name:"Sleipnir"},{test:/k-meleon/i,name:"K-Meleon"},{test:/micromessenger/i,name:"WeChat"},{test:/qqbrowser/i,name:/qqbrowserlite/i.test(window.navigator.userAgent)?"QQ Browser Lite":"QQ Browser"},{test:/msie|trident/i,name:"Internet Explorer"},{test:/\sedg\//i,name:"Microsoft Edge"},{test:/edg([ea]|ios)/i,name:"Microsoft Edge"},{test:/vivaldi/i,name:"Vivaldi"},{test:/seamonkey/i,name:"SeaMonkey"},{test:/sailfish/i,name:"Sailfish"},{test:/silk/i,name:"Amazon Silk"},{test:/phantom/i,name:"PhantomJS"},{test:/slimerjs/i,name:"SlimerJS"},{test:/blackberry|\bbb\d+/i,name:"BlackBerry"},{test:/(web|hpw)[o0]s/i,name:"WebOS Browser"},{test:/bada/i,name:"Bada"},{test:/tizen/i,name:"Tizen"},{test:/qupzilla/i,name:"QupZilla"},{test:/firefox|iceweasel|fxios/i,name:"Firefox"},{test:/electron/i,name:"Electron"},{test:/MiuiBrowser/i,name:"Miui"},{test:/chromium/i,name:"Chromium"},{test:/chrome|crios|crmo/i,name:"Chrome"},{test:/GSA/i,name:"Google Search"},{test:/android/i,name:"Android Browser"},{test:/playstation 4/i,name:"PlayStation 4"},{test:/safari|applewebkit/i,name:"Safari"}],h=["Safari","Chrome","Firefox","Microsoft Edge"];function b(){var e=y.getUserAgent();try{var t=g.filter((function(t){return t.test.test(e)})),n=t&&t.length?t[0].name:"";return h.indexOf(n)>=0?n:"Unknown"}catch(e){Object(r.logError)("ATS Analytics - Error while checking user browser!",e)}}function v(e){try{var t={Data:e},n=JSON.stringify(t);Object(r.logInfo)("ATS Analytics - tried to send analytics data!"),Object(c.a)(f,(function(){Object(r.logInfo)("ATS Analytics - events sent successfully!")}),n,{method:"POST",contentType:"application/json"})}catch(e){Object(r.logError)("ATS Analytics - request encounter an error: ",e)}}var y=d(Object(i.a)({analyticsType:"endpoint"}),{track:function(e){var t=e.eventType,n=e.args;void 0!==n&&y.callHandler(t,n)}});y.originEnableAnalytics=y.enableAnalytics,y.shouldFireRequest=function(e){if(0!==e){var t=100===Math.floor(100*Math.random()+1);return Object(r.logInfo)("ATS Analytics - Should Fire Request: ",t),t}return Object(r.logInfo)("ATS Analytics - Should Fire Request: ",!1),!1},y.getUserAgent=function(){return window.navigator.userAgent},y.setSamplingCookie=function(e){var t=new Date;t.setTime(t.getTime()+864e5),l.setCookie("_lr_sampling_rate",e,t.toUTCString())},y.enableAnalytics=function(e){if(e.options.pid){y.context={events:[],pid:e.options.pid,bidWonTimeout:e.options.bidWonTimeout};var t=e.options;Object(r.logInfo)("ATS Analytics - adapter enabled! "),y.originEnableAnalytics(t)}else Object(r.logError)("ATS Analytics - Publisher ID (pid) option is not defined. Analytics won't work")},y.callHandler=function(e,t){if(e===o.a.EVENTS.BID_REQUESTED?p=p.concat(function(e){var t="true"===l.getCookie("_lr_env_src_ats");return e.bids.map((function(n){return{envelope_source:t,has_envelope:!!n.userId&&!!n.userId.idl_env,bidder:n.bidder,bid_id:n.bidId,auction_id:e.auctionId,user_browser:b(),user_platform:navigator.platform,auction_start:new Date(e.auctionStart).toJSON(),domain:window.location.hostname,pid:y.context.pid,adapter_version:3,bid_won:!1}}))}(t)):e===o.a.EVENTS.BID_RESPONSE&&m.push(function(e){return{bid_id:e.requestId,response_time_stamp:new Date(e.responseTimestamp).toJSON(),currency:e.currency,cpm:e.cpm,net_revenue:e.netRevenue}}(t)),e===o.a.EVENTS.AUCTION_END){var n=y.context.bidWonTimeout?y.context.bidWonTimeout:2e3,i=[];setTimeout((function(){var e=pbjs.getAllWinningBids();if(Object(r.logInfo)("ATS Analytics - winning bids: ",e),p.length){var t={};m.length?(i=p.filter((function(e){return m.filter((function(t){e.bid_id===t.bid_id&&d(e,t)}))})),e.length&&(i=i.filter((function(n){return e.filter((function(e){t.bid_id=e.requestId,t.bid_won=!0,n.bid_id===t.bid_id&&d(n,t)}))})))):i=p;try{var n=l.getCookie("_lr_env_src_ats"),a=l.getCookie("_lr_sampling_rate");a?y.shouldFireRequest(parseInt(a))&&null!=n&&(Object(r.logInfo)("ATS Analytics - events to send: ",i),v(i)):function(e,t){Object(r.logInfo)("ATS Analytics - preflight request!"),Object(c.a)("https://check.analytics.rlcdn.com/check/"+y.context.pid,{success:function(n){var i=JSON.parse(n);Object(r.logInfo)("ATS Analytics - Sampling Rate: ",i);var a=i.samplingRate;y.setSamplingCookie(a);var o=Number(a);n&&a&&y.shouldFireRequest(o)&&null!=e&&(Object(r.logInfo)("ATS Analytics - events to send: ",t),v(t))},error:function(){y.setSamplingCookie(0),Object(r.logInfo)("ATS Analytics - Sampling Rate Request Error!")}},void 0,{method:"GET",crossOrigin:!0})}(n,i),i=[]}catch(e){Object(r.logError)("ATS Analytics - preflight request encounter an error: ",e)}}}),n)}},s.default.registerAnalyticsAdapter({adapter:y,code:"atsAnalytics",gvlid:97}),t.default=y,window.pbjs.installedModules.push("atsAnalyticsAdapter")},6:function(t,n,r){n.a=function(e){var t,n=e.url,r=e.analyticsType,i=e.global,a=e.handler,l=[],j=0,P=!0;return function(){if(P){for(var e=0;e<l.length;e++)l[e]();l.push=function(e){e()},P=!1}Object(s.logMessage)("event count sent to ".concat(i,": ").concat(j))}(),{track:function(e){var t=e.eventType,n=e.args;this.getAdapterType()===T&&window[i](a,t,n),this.getAdapterType()===C&&k.apply(void 0,arguments)},enqueue:x,enableAnalytics:N,disableAnalytics:function(){Object(s._each)(t,(function(e,t){d.off(t,e)})),this.enableAnalytics=this._oldEnable?this._oldEnable:N},getAdapterType:function(){return r},getGlobal:function(){return i},getHandler:function(){return a},getUrl:function(){return n}};function k(e){var t=e.eventType,r=e.args,i=e.callback;Object(o.a)(n,i,JSON.stringify({eventType:t,args:r}))}function x(e){var t=e.eventType,n=e.args,r=this;i&&window[i]&&t&&n?this.track({eventType:t,args:n}):l.push((function(){j++,r.track({eventType:t,args:n})}))}function N(e){var n,r=this,a=this;"object"!==u(e)||"object"!==u(e.options)||void 0===e.options.sampling||Math.random()<parseFloat(e.options.sampling)?(d.getEvents().forEach((function(e){if(e){var t=e.eventType,n=e.args;t!==h&&x.call(a,{eventType:t,args:n})}})),c(n={},m,(function(e){return r.enqueue({eventType:m,args:e})})),c(n,g,(function(e){return r.enqueue({eventType:g,args:e})})),c(n,b,(function(e){return r.enqueue({eventType:b,args:e})})),c(n,v,(function(e){return r.enqueue({eventType:v,args:e})})),c(n,h,(function(e){return r.enqueue({eventType:h,args:e})})),c(n,y,(function(e){return r.enqueue({eventType:y,args:e})})),c(n,E,(function(e){return r.enqueue({eventType:E,args:e})})),c(n,O,(function(e){return r.enqueue({eventType:O,args:e})})),c(n,A,(function(e){return r.enqueue({eventType:A,args:e})})),c(n,p,(function(e){return r.enqueue({eventType:p,args:e})})),c(n,S,(function(e){return r.enqueue({eventType:S,args:e})})),c(n,w,(function(e){return r.enqueue({eventType:w,args:e})})),c(n,_,(function(e){return r.enqueue({eventType:_,args:e})})),c(n,I,(function(e){return r.enqueue({eventType:I,args:e})})),c(n,f,(function(t){t.config="object"===u(e)&&e.options||{},r.enqueue({eventType:f,args:t})})),t=n,Object(s._each)(t,(function(e,t){d.on(t,e)}))):Object(s.logMessage)('Analytics adapter for "'.concat(i,'" disabled by sampling')),this._oldEnable=this.enableAnalytics,this.enableAnalytics=function(){return Object(s.logMessage)('Analytics adapter for "'.concat(i,'" already enabled, unnecessary call to `enableAnalytics`.'))}}};var i=r(5),a=r.n(i),o=r(4),s=r(0);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(t){return(u="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}var d=r(10),l=a.a.EVENTS,f=l.AUCTION_INIT,p=l.AUCTION_END,m=l.REQUEST_BIDS,g=l.BID_REQUESTED,h=l.BID_TIMEOUT,b=l.BID_RESPONSE,v=l.NO_BID,y=l.BID_WON,E=l.BID_ADJUSTMENT,O=l.BIDDER_DONE,A=l.SET_TARGETING,S=l.AD_RENDER_FAILED,w=l.AD_RENDER_SUCCEEDED,_=l.AUCTION_DEBUG,I=l.ADD_AD_UNITS,C="endpoint",T="bundle"}},[305]),pbjsChunk([353],{313:function(e,t,n){e.exports=n(314)},314:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"VIDEO_ENDPOINT",(function(){return E})),n.d(t,"BANNER_ENDPOINT",(function(){return O})),n.d(t,"OUTSTREAM_SRC",(function(){return A})),n.d(t,"VIDEO_TARGETING",(function(){return S})),n.d(t,"DEFAULT_MIMES",(function(){return w})),n.d(t,"SUPPORTED_USER_IDS",(function(){return _})),n.d(t,"spec",(function(){return C}));var r=n(0),i=n(3),a=n(1),o=n(13),s=n(2),c=n(11),u=n.n(c),d=n(12),l=n.n(d);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var b="1.19",v="BFIO_PREBID",y="USD",E="https://reachms.bfmio.com/bid.json?exchange_id=",O="https://display.bfmio.com/prebid_display",A="https://player-cdn.beachfrontmedia.com/playerapi/loader/outstream.js",S=["mimes","playbackmethod","maxduration","placement","skip","skipmin","skipafter"],w=["video/mp4","application/javascript"],_=[{key:"tdid",source:"adserver.org",rtiPartner:"TDID",queryParam:"tdid"},{key:"idl_env",source:"liveramp.com",rtiPartner:"idl",queryParam:"idl"},{key:"uid2.id",source:"uidapi.com",rtiPartner:"UID2",queryParam:"uid2"},{key:"haloId",source:"audigent.com",atype:1,queryParam:"haloid"}],I="",C={code:"beachfront",supportedMediaTypes:[s.d,s.b],isBidRequestValid:function(e){if(R(e)){if(!B(e,"appId"))return Object(r.logWarn)("Beachfront: appId param is required for video bids."),!1;if(!B(e,"bidfloor"))return Object(r.logWarn)("Beachfront: bidfloor param is required for video bids."),!1}if(M(e)){if(!U(e,"appId"))return Object(r.logWarn)("Beachfront: appId param is required for banner bids."),!1;if(!U(e,"bidfloor"))return Object(r.logWarn)("Beachfront: bidfloor param is required for banner bids."),!1}return!0},buildRequests:function(e,t){var n=[],r=e.filter((function(e){return function(e){return R(e)&&B(e,"appId")&&B(e,"bidfloor")}(e)})),i=e.filter((function(e){return function(e){return M(e)&&U(e,"appId")&&U(e,"bidfloor")}(e)}));return r.forEach((function(e){I=B(e,"appId"),n.push({method:"POST",url:E+I,data:q(e,t),bidRequest:e})})),i.length&&(I=U(i[0],"appId"),n.push({method:"POST",url:O,data:G(i,t),bidRequest:i})),n},interpretResponse:function(e,t){var n=t.bidRequest;if(e=e.body,R(n)){if(!e||!e.bidPrice)return Object(r.logWarn)("No valid video bids from ".concat(C.code," bidder")),[];var i=j(k(n)),a=Object(r.deepAccess)(n,"mediaTypes.video.context"),o=B(n,"responseType")||"both",c=h({mediaType:s.d,advertiserDomains:[]},e.meta),d={requestId:n.bidId,bidderCode:C.code,cpm:e.bidPrice,width:i.w,height:i.h,creativeId:e.crid||e.cmpId,meta:c,renderer:"outstream"===a?T(n):null,mediaType:s.d,currency:y,netRevenue:!0,ttl:300};return"nurl"!==o&&"both"!==o||(d.vastUrl=e.url),"adm"!==o&&"both"!==o||(d.vastXml=e.vast),d}return e&&e.length?e.filter((function(e){return e.adm})).map((function(e){var t=u()(n,(function(t){return t.adUnitCode===e.slot})),r=h({mediaType:s.b,advertiserDomains:[]},e.meta);return{requestId:t.bidId,bidderCode:C.code,ad:e.adm,creativeId:e.crid,cpm:e.price,width:e.w,height:e.h,meta:r,mediaType:s.b,currency:y,netRevenue:!0,ttl:300}})):(Object(r.logWarn)("No valid banner bids from ".concat(C.code," bidder")),[])},getUserSyncs:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=[],o=n.gdprApplies,s=n.consentString,c=void 0===s?"":s,d=u()(t,(function(e){return Object(r.isArray)(e.body)}));return d?e.iframeEnabled&&d.body.filter((function(e){return e.sync})).forEach((function(e){a.push({type:"iframe",url:e.sync})})):e.iframeEnabled?a.push({type:"iframe",url:"https://sync.bfmio.com/sync_iframe?ifg=1&id=".concat(I,"&gdpr=").concat(o?1:0,"&gc=").concat(c,"&gce=1&us_privacy=").concat(i)}):e.pixelEnabled&&a.push({type:"image",url:"https://sync.bfmio.com/syncb?pid=144&id=".concat(I,"&gdpr=").concat(o?1:0,"&gc=").concat(c,"&gce=1&us_privacy=").concat(i)}),a}};function T(e){var t=o.a.install({id:e.bidId,url:A,loaded:!1});return t.setRender((function(t){t.renderer.push((function(){window.Beachfront.Player(t.adUnitCode,{adTagUrl:t.vastUrl,width:t.width,height:t.height,expandInView:L(e,"expandInView",!1),collapseOnComplete:L(e,"collapseOnComplete",!0),progressColor:L(e,"progressColor"),adPosterColor:L(e,"adPosterColor")})}))})),t}function j(e){return e&&e.length?e[0]:{w:void 0,h:void 0}}function P(e){return Object(r.parseSizesInput)(e).map((function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),2!==a.length);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return g(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.split("x")),n=t[0],r=t[1];return{w:parseInt(n,10)||void 0,h:parseInt(r,10)||void 0}}))}function k(e){return P(Object(r.deepAccess)(e,"mediaTypes.video.playerSize")||e.sizes)}function x(e){return P(Object(r.deepAccess)(e,"mediaTypes.banner.sizes")||e.sizes)}function N(){return/(ios|ipod|ipad|iphone|android)/i.test(navigator.userAgent)}function D(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNoTrack||"yes"===navigator.doNotTrack}function R(e){return Object(r.deepAccess)(e,"mediaTypes.video")}function M(e){return Object(r.deepAccess)(e,"mediaTypes.banner")||!R(e)}function B(e,t){return Object(r.deepAccess)(e,"params.video."+t)||Object(r.deepAccess)(e,"params."+t)}function U(e,t){return Object(r.deepAccess)(e,"params.banner."+t)||Object(r.deepAccess)(e,"params."+t)}function L(e,t,n){var i=Object(r.deepAccess)(e,"params.player."+t);return void 0===i?n:i}function V(e){return(Object(r.isFn)(e.getFloor)?e.getFloor({currency:y,mediaType:"banner",size:"*"}):{}).floor||U(e,"bidfloor")}function F(e){var t=e&&e.refererInfo&&e.refererInfo.referer;return Object(r.parseUrl)(i.b.getConfig("pageUrl")||t,{decodeSearchAsString:!0})}function q(e,t){var n=j(k(e)),a=function(e){var t={},n=["playerSize","context","w","h"];return Object.keys(Object(e.mediaTypes.video)).filter((function(e){return!l()(n,e)})).forEach((function(n){t[n]=e.mediaTypes.video[n]})),Object.keys(Object(e.params.video)).filter((function(e){return l()(S,e)})).forEach((function(n){t[n]=e.params.video[n]})),t}(e),o=B(e,"appId"),s=function(e){return(Object(r.isFn)(e.getFloor)?e.getFloor({currency:y,mediaType:"video",size:"*"}):{}).floor||B(e,"bidfloor")}(e),c=B(e,"tagid"),u=F(t),d=function(e){return _.map(function(e){return function(t){var n=t.key,i=t.source,a=t.rtiPartner,o=t.atype,s=Object(r.deepAccess)(e,"userId.".concat(n));return s?function(e,t,n,r){var i={id:e};return n&&(i.ext={rtiPartner:n}),r&&(i.atype=r),{source:t,uids:[i]}}(s,i,a,o):null}}(e)).filter((function(e){return e}))}(e),f=Object(r.deepClone)(i.b.getConfig("ortb2")),m={isPrebid:!0,appId:o,domain:document.location.hostname,id:Object(r.getUniqueIdentifierStr)(),imp:[{video:h({w:n.w,h:n.h,mimes:w},a),bidfloor:s,tagid:c,secure:0===u.protocol.indexOf("https")?1:0,displaymanager:v,displaymanagerver:b}],site:p(p({},Object(r.deepAccess)(f,"site",{})),{},{page:u.href,domain:u.hostname}),device:{ua:navigator.userAgent,language:navigator.language,devicetype:N()?1:/(smart[-]?tv|hbbtv|appletv|googletv|hdmi|netcast\.tv|viera|nettv|roku|\bdtv\b|sonydtv|inettvbrowser|\btv\b)/i.test(navigator.userAgent)?3:2,dnt:D()?1:0,js:1,geo:{}},app:Object(r.deepAccess)(f,"app"),user:Object(r.deepAccess)(f,"user"),cur:[y]};if(t&&t.uspConsent&&Object(r.deepSetValue)(m,"regs.ext.us_privacy",t.uspConsent),t&&t.gdprConsent){var g=t.gdprConsent,E=g.gdprApplies,O=g.consentString;Object(r.deepSetValue)(m,"regs.ext.gdpr",E?1:0),Object(r.deepSetValue)(m,"user.ext.consent",O)}e.schain&&Object(r.deepSetValue)(m,"source.ext.schain",e.schain),d.length>0&&Object(r.deepSetValue)(m,"user.ext.eids",d);var A=navigator.connection||navigator.webkitConnection;return A&&A.effectiveType&&Object(r.deepSetValue)(m,"device.connectiontype",A.effectiveType),m}function G(e,t){var n,a=F(t),o=function(){try{return window.top.document.referrer}catch(e){return""}}(),s={slots:e.map((function(e){return{slot:e.adUnitCode,id:U(e,"appId"),bidfloor:V(e),tagid:U(e,"tagid"),sizes:x(e)}})),ortb2:Object(r.deepClone)(i.b.getConfig("ortb2")),page:a.href,domain:a.hostname,search:a.search,secure:0===a.protocol.indexOf("https")?1:0,referrer:o,ua:navigator.userAgent,deviceOs:(n=u()([{s:"Android",r:/Android/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"Linux",r:/(Linux|X11)/},{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"UNIX",r:/UNIX/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}],(function(e){return e.r.test(navigator.userAgent)})),n?n.s:"unknown"),isMobile:N()?1:0,dnt:D()?1:0,adapterVersion:b,adapterName:v};if(t&&t.uspConsent&&(s.usPrivacy=t.uspConsent),t&&t.gdprConsent){var c=t.gdprConsent,d=c.gdprApplies,l=c.consentString;s.gdpr=d?1:0,s.gdprConsent=l}return e[0]&&e[0].schain&&(s.schain=e[0].schain),_.forEach((function(t){var n=t.key,i=t.queryParam,a=Object(r.deepAccess)(e,"0.userId.".concat(n));a&&(s[i]=a)})),s}Object(a.registerBidder)(C),window.pbjs.installedModules.push("beachfrontBidAdapter")}},[313]),pbjsChunk([323],{386:function(e,t,n){e.exports=n(387)},387:function(t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),r.d(n,"connectIdSubmodule",(function(){return m}));var i=r(4),a=r(8),o=r(0),s=r(12),c=r.n(s);function u(t){return(u="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}var d="connectId",l="__PIXEL_ID__",f="https://ups.analytics.yahoo.com/ups/".concat(l,"/fed");function p(e){return!!(e&&e.gdpr&&e.gdpr.gdprApplies)}var m={name:d,gvlid:25,decode:function(e){return"object"===u(e)&&e.connectid?{connectId:e.connectid}:void 0},getId:function(e,t){var n=e.params||{};if(n&&"string"==typeof n.he&&(void 0!==n.pixelId||void 0!==n.endpoint)){var r={"1p":c()([1,"1",!0],n["1p"])?"1":"0",he:n.he,gdpr:p(t)?"1":"0",gdpr_consent:p(t)?t.gdpr.consentString:"",us_privacy:t&&t.uspConsent?t.uspConsent:""};return n.pixelId&&(r.pixelId=n.pixelId),{callback:function(e){var t={success:function(t){var n;if(t)try{n=JSON.parse(t)}catch(e){Object(o.logError)(e)}e(n)},error:function(t){Object(o.logError)("".concat(d,": ID fetch encountered an error"),t),e()}},i=f.replace(l,n.pixelId),a="".concat(n.endpoint||i,"?").concat(Object(o.formatQS)(r));m.getAjaxFn()(a,t,null,{method:"GET",withCredentials:!0})}}}Object(o.logError)("The connectId submodule requires the 'he' and 'pixelId' parameters to be defined.")},getAjaxFn:function(){return i.a}};Object(a.e)("userId",m),window.pbjs.installedModules.push("connectIdSystem")}},[386]),pbjsChunk([322],{390:function(e,t,n){e.exports=n(391)},391:function(t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),r.d(n,"allowAuction",(function(){return v})),r.d(n,"userCMP",(function(){return p})),r.d(n,"consentTimeout",(function(){return m})),r.d(n,"gdprScope",(function(){return g})),r.d(n,"staticConsentData",(function(){return h})),n.requestBidsHook=A,n.resetConsentData=function(){b=void 0,p=void 0,y=0,o.gdprDataHandler.setConsentData(null)},n.setConsentConfig=T;var i=r(0),a=r(3),o=r(9),s=r(12),c=r.n(s),u=r(83),d=r.n(u);function l(t){return(l="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p,m,g,h,b,v={value:!0,definedInConfig:!1},y=0,E=!1,O={iab:function(e,t,n){function r(r,a){Object(i.logInfo)("Received a response from CMP",r),a?!1!==r.gdprApplies&&"tcloaded"!==r.eventStatus&&"useractioncomplete"!==r.eventStatus||e(r,n):t("CMP unable to register callback function.  Please check CMP setup.",n)}var a=function(){var t={};function r(){t.getConsentData&&t.getVendorConsents&&(Object(i.logInfo)("Received all requested responses from CMP",t),e(t,n))}return{consentDataCallback:function(e){t.getConsentData=e,r()},vendorConsentsCallback:function(e){t.getVendorConsents=e,r()}}}(),o={},s=function(){for(var e,t,n=window;!e;){try{if("function"==typeof n.__tcfapi||"function"==typeof n.__cmp){"function"==typeof n.__tcfapi?(y=2,t=n.__tcfapi):(y=1,t=n.__cmp),e=n;break}}catch(e){}try{if(n.frames.__tcfapiLocator){y=2,e=n;break}}catch(e){}try{if(n.frames.__cmpLocator){y=1,e=n;break}}catch(e){}if(n===window.top)break;n=n.parent}return{cmpFrame:e,cmpFunction:t}}(),c=s.cmpFrame,u=s.cmpFunction;if(!c)return t("CMP not found.",n);function l(e,t){var r=n.adUnits,a=1,o=1;if(Array.isArray(r)&&r.length>0){var s=Object(i.getAdUnitSizes)(r[0]);a=s[0][0],o=s[0][1]}window.$sf.ext.register(a,o,(function(n,r){if("cmpReturn"===n){var i="getConsentData"===e?r.vendorConsentData:r.vendorConsents;t(i)}})),window.$sf.ext.cmp(e)}function p(e,t,n){var r=2===y?"__tcfapi":"__cmp",i="".concat(r,"Call");function a(e){var t="".concat(r,"Return"),n="string"==typeof e.data&&d()(e.data,t)?JSON.parse(e.data):e.data;if(n[t]&&n[t].callId){var i=n[t];void 0!==o[i.callId]&&o[i.callId](i.returnValue,i.success)}}2===y?(window[r]=function(e,n,r,a){var s=Math.random()+"",c=f({},i,{command:e,version:n,parameter:a,callId:s});o[s]=r,t.postMessage(c,"*")},window.addEventListener("message",a,!1),window[r](e,y,n)):(window[r]=function(e,n,r){var a=Math.random()+"",s=f({},i,{command:e,parameter:n,callId:a});o[a]=r,t.postMessage(s,"*")},window.addEventListener("message",a,!1),window[r](e,void 0,n))}Object(i.isFn)(u)?(Object(i.logInfo)("Detected CMP API is directly accessible, calling it now..."),1===y?(u("getConsentData",null,a.consentDataCallback),u("getVendorConsents",null,a.vendorConsentsCallback)):2===y&&u("addEventListener",y,r)):1===y&&window.$sf&&window.$sf.ext&&"function"==typeof window.$sf.ext.cmp?(Object(i.logInfo)("Detected Prebid.js is encased in a SafeFrame and CMP is registered, calling it now..."),l("getConsentData",a.consentDataCallback),l("getVendorConsents",a.vendorConsentsCallback)):(Object(i.logInfo)("Detected CMP is outside the current iframe where Prebid.js is located, calling it now..."),1===y?(p("getConsentData",c,a.consentDataCallback),p("getVendorConsents",c,a.vendorConsentsCallback)):2===y&&p("addEventListener",c,r))},static:function(e,t,n){e(h,n)}};function A(e,t){var n={context:this,args:[t],nextFn:e,adUnits:t.adUnits||pbjs.adUnits,bidsBackHandler:t.bidsBackHandler,haveExited:!1,timer:null};return b?(Object(i.logInfo)("User consent information already known.  Pulling internally stored information..."),C(null,n)):c()(Object.keys(O),p)?(O[p].call(this,S,_,n),void(n.haveExited||(0===m?S(void 0,n):n.timer=setTimeout(w.bind(null,n),m)))):(Object(i.logWarn)("CMP framework (".concat(p,") is not a supported framework.  Aborting consentManagement module and resuming auction.")),n.nextFn.apply(n.context,n.args))}function S(e,t){"static"===p&&2==(y=e.getConsentData?1:e.getTCData?2:0)&&(e=e.getTCData);var n=1===y?function(e){var t=e&&e.getConsentData&&e.getConsentData.gdprApplies;return!("boolean"==typeof t&&(!0!==t||Object(i.isStr)(e.getConsentData.consentData)&&Object(i.isPlainObject)(e.getVendorConsents)&&Object.keys(e.getVendorConsents).length>1))}:2===y?function(){var t=e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:g,n=e&&e.tcString;return!("boolean"==typeof t&&(!0!==t||Object(i.isStr)(n)))}:null;v.definedInConfig&&2===y?Object(i.logWarn)("'allowAuctionWithoutConsent' ignored for TCF 2"):v.definedInConfig||1!==y||Object(i.logInfo)("'allowAuctionWithoutConsent' using system default: (".concat(!0,").")),Object(i.isFn)(n)?n(e)?_("CMP returned unexpected value during lookup process.",t,e):(clearTimeout(t.timer),I(e),C(null,t)):_("Unable to derive CMP version to process data.  Consent object does not conform to TCF v1 or v2 specs.",t,e)}function w(e){2===y?(Object(i.logWarn)("No response from CMP, continuing auction..."),I(void 0),C(null,e)):_("CMP workflow exceeded timeout threshold.",e)}function _(e,t,n){clearTimeout(t.timer),v.value&&1===y&&I(void 0),C(e,t,n)}function I(e){1===y?b={consentString:e?e.getConsentData.consentData:void 0,vendorData:e?e.getVendorConsents:void 0,gdprApplies:e?e.getConsentData.gdprApplies:g}:(b={consentString:e?e.tcString:void 0,vendorData:e||void 0,gdprApplies:e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:g},e&&e.addtlConsent&&Object(i.isStr)(e.addtlConsent)&&(b.addtlConsent=e.addtlConsent)),b.apiVersion=y,o.gdprDataHandler.setConsentData(b)}function C(e,t,n){if(!1===t.haveExited){t.haveExited=!0;var r=t.context,a=t.args,o=t.nextFn;e?v.value&&1===y?(Object(i.logWarn)(e+" 'allowAuctionWithoutConsent' activated.",n),o.apply(r,a)):(Object(i.logError)(e+" Canceling auction as per consentManagement config.",n),"function"==typeof t.bidsBackHandler?t.bidsBackHandler():Object(i.logError)("Error executing bidsBackHandler")):o.apply(r,a)}}function T(e){(e=e&&(e.gdpr||e.usp?e.gdpr:e))&&"object"===l(e)?(Object(i.isStr)(e.cmpApi)?p=e.cmpApi:(p="iab",Object(i.logInfo)("consentManagement config did not specify cmp.  Using system default setting (".concat("iab",")."))),Object(i.isNumber)(e.timeout)?m=e.timeout:(m=1e4,Object(i.logInfo)("consentManagement config did not specify timeout.  Using system default setting (".concat(1e4,")."))),"boolean"==typeof e.allowAuctionWithoutConsent&&(v.value=e.allowAuctionWithoutConsent,v.definedInConfig=!0),g=!0===e.defaultGdprScope,Object(i.logInfo)("consentManagement module has been activated..."),"static"===p&&(Object(i.isPlainObject)(e.consentData)?(h=e.consentData,m=0):Object(i.logError)("consentManagement config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),E||pbjs.requestBids.before(A,50),E=!0):Object(i.logWarn)("consentManagement config not defined, exiting consent manager")}a.b.getConfig("consentManagement",(function(e){return T(e.consentManagement)})),window.pbjs.installedModules.push("consentManagement")}},[390]),pbjsChunk([321],{397:function(e,t,n){e.exports=n(398)},398:function(t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),r.d(n,"consentAPI",(function(){return c})),r.d(n,"consentTimeout",(function(){return u})),r.d(n,"staticConsentData",(function(){return d})),n.requestBidsHook=m,n.resetConsentData=function(){l=void 0,c=void 0,o.uspDataHandler.setConsentData(null)},n.setConsentConfig=y;var i=r(0),a=r(3),o=r(9);function s(t){return(s="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}var c,u,d,l,f=!1,p={iab:function(e,t,n){var r,a=(r={},{consentDataCallback:function(i,a){a&&i.uspString&&(r.usPrivacy=i.uspString),r.usPrivacy?e(r,n):t("Unable to get USP consent string.",n)}}),o={},s=function(){for(var e,t,n=window;!e;){try{if("function"==typeof n.__uspapi){t=n.__uspapi,e=n;break}}catch(e){}try{if(n.frames.__uspapiLocator){e=n;break}}catch(e){}if(n===window.top)break;n=n.parent}return{uspapiFrame:e,uspapiFunction:t}}(),c=s.uspapiFrame,u=s.uspapiFunction;if(!c)return t("USP CMP not found.",n);Object(i.isFn)(u)?(Object(i.logInfo)("Detected USP CMP is directly accessible, calling it now..."),u("getUSPData",1,a.consentDataCallback)):(Object(i.logInfo)("Detected USP CMP is outside the current iframe where Prebid.js is located, calling it now..."),function(e,t,n){window.__uspapi=function(e,n,r){var i=Math.random()+"",a={__uspapiCall:{command:e,version:n,callId:i}};o[i]=r,t.postMessage(a,"*")},window.addEventListener("message",(function(e){var t=e&&e.data&&e.data.__uspapiReturn;t&&t.callId&&void 0!==o[t.callId]&&(o[t.callId](t.returnValue,t.success),delete o[t.callId])}),!1),window.__uspapi("getUSPData",1,n)}(0,c,a.consentDataCallback))},static:function(e,t,n){e(d,n)}};function m(e,t){var n={context:this,args:[t],nextFn:e,adUnits:t.adUnits||pbjs.adUnits,bidsBackHandler:t.bidsBackHandler,haveExited:!1,timer:null};if(!p[c])return Object(i.logWarn)("USP framework (".concat(c,") is not a supported framework. Aborting consentManagement module and resuming auction.")),n.nextFn.apply(n.context,n.args);p[c].call(this,g,b,n),n.haveExited||(0===u?g(void 0,n):n.timer=setTimeout(h.bind(null,n),u))}function g(e,t){e&&e.usPrivacy?(clearTimeout(t.timer),function(e){e&&e.usPrivacy&&(l=e.usPrivacy,o.uspDataHandler.setConsentData(l))}(e),v(null,t)):b("USPAPI returned unexpected value during lookup process.",t,e)}function h(e){b("USPAPI workflow exceeded timeout threshold.",e)}function b(e,t,n){clearTimeout(t.timer),v(e,t,n)}function v(e,t,n){if(!1===t.haveExited){t.haveExited=!0;var r=t.context,a=t.args,o=t.nextFn;e&&Object(i.logWarn)(e+" Resuming auction without consent data as per consentManagement config.",n),o.apply(r,a)}}function y(e){(e=e&&e.usp)&&"object"===s(e)?(Object(i.isStr)(e.cmpApi)?c=e.cmpApi:(c="iab",Object(i.logInfo)("consentManagement.usp config did not specify cmpApi. Using system default setting (".concat("iab",")."))),Object(i.isNumber)(e.timeout)?u=e.timeout:(u=50,Object(i.logInfo)("consentManagement.usp config did not specify timeout. Using system default setting (".concat(50,")."))),Object(i.logInfo)("USPAPI consentManagement module has been activated..."),"static"===c&&(Object(i.isPlainObject)(e.consentData)&&Object(i.isPlainObject)(e.consentData.getUSPData)?(e.consentData.getUSPData.uspString&&(d={usPrivacy:e.consentData.getUSPData.uspString}),u=0):Object(i.logError)("consentManagement config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),f||pbjs.requestBids.before(m,50),f=!0):Object(i.logWarn)("consentManagement.usp config not defined, exiting usp consent manager")}a.b.getConfig("consentManagement",(function(e){return y(e.consentManagement)})),window.pbjs.installedModules.push("consentManagementUsp")}},[397]),pbjsChunk([306],{435:function(e,t,n){e.exports=n(436)},436:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"adpodUtils",(function(){return b})),t.buildDfpVideoUrl=v,t.notifyTranslationModule=y,t.buildAdpodVideoUrl=E;var r=n(62),i=n(39),a=n(0),o=n(3),s=n(8),c=n(18),u=n(9),d=n(10),l=n.n(d),f=n(5),p=n.n(f);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var h={env:"vp",gdfp_req:1,output:"vast",unviewed_position_start:1},b={};function v(e){if(e.params||e.url){var t=e.adUnit,n=e.bid||i.d.getWinningBids(t.code)[0],r={};if(e.url&&(r=Object(a.parseUrl)(e.url,{noDecodeWholeURL:!0}),Object(a.isEmpty)(e.params)))return function(e,t,n){var r=O(t,e,"search");r&&(e.search.description_url=r);var i=A(t,n);return e.search.cust_params=e.search.cust_params?e.search.cust_params+"%26"+i:i,Object(a.buildUrl)(e)}(r,n,e);var o={correlator:Date.now(),sz:Object(a.parseSizesInput)(Object(a.deepAccess)(t,"mediaTypes.video.playerSize")).join("|"),url:encodeURIComponent(location.href)},s=A(n,e),c=g({},h,r.search,o,e.params,{cust_params:s}),d=O(n,e,"params");d&&(c.description_url=d);var l=u.gdprDataHandler.getConsentData();l&&("boolean"==typeof l.gdprApplies&&(c.gdpr=Number(l.gdprApplies)),l.consentString&&(c.gdpr_consent=l.consentString),l.addtlConsent&&(c.addtl_consent=l.addtlConsent));var f=u.uspDataHandler.getConsentData();return f&&(c.us_privacy=f),Object(a.buildUrl)({protocol:"https",host:"securepubads.g.doubleclick.net",pathname:"/gampad/ads",search:c})}Object(a.logError)("A params object or a url is required to use pbjs.adServers.dfp.buildVideoUrl")}function y(e){e.call(this,"dfp")}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.code,n=e.params,r=e.callback;if(n&&r){var i={correlator:Date.now(),sz:o(t),url:encodeURIComponent(location.href)};b.getTargeting({codes:[t],callback:s})}else Object(a.logError)("A params object and a callback is required to use pbjs.adServers.dfp.buildAdpodVideoUrl");function o(e){var t=c.a.getAdUnits().filter((function(t){return t.code===e})),n=Object(a.deepAccess)(t[0],"mediaTypes.video.playerSize");return Object(a.parseSizesInput)(n).join("|")}function s(e,o){var s;if(e)r(e,null);else{var c=(m(s={},b.TARGETING_KEY_PB_CAT_DUR,void 0),m(s,b.TARGETING_KEY_CACHE_ID,void 0),s),d={};o[t]&&(d=o[t].reduce((function(e,t){return Object.keys(t)[0]===b.TARGETING_KEY_PB_CAT_DUR?e[b.TARGETING_KEY_PB_CAT_DUR]=void 0!==e[b.TARGETING_KEY_PB_CAT_DUR]?e[b.TARGETING_KEY_PB_CAT_DUR]+","+t[b.TARGETING_KEY_PB_CAT_DUR]:t[b.TARGETING_KEY_PB_CAT_DUR]:Object.keys(t)[0]===b.TARGETING_KEY_CACHE_ID&&(e[b.TARGETING_KEY_CACHE_ID]=t[b.TARGETING_KEY_CACHE_ID]),e}),c));var l=encodeURIComponent(Object(a.formatQS)(d)),f=g({},h,i,n,{cust_params:l}),p=u.gdprDataHandler.getConsentData();p&&("boolean"==typeof p.gdprApplies&&(f.gdpr=Number(p.gdprApplies)),p.consentString&&(f.gdpr_consent=p.consentString),p.addtlConsent&&(f.addtl_consent=p.addtlConsent));var v=u.uspDataHandler.getConsentData();v&&(f.us_privacy=v);var y=Object(a.buildUrl)({protocol:"https",host:"securepubads.g.doubleclick.net",pathname:"/gampad/ads",search:f});r(null,y)}}}function O(e,t,n){if(!o.b.getConfig("cache.url"))if(Object(a.deepAccess)(t,"".concat(n,".description_url")))Object(a.logError)("input cannnot contain description_url");else{var r=e&&e.vastUrl;if(r)return encodeURIComponent(r)}}function A(e,t){var n=e&&e.adserverTargeting||{},r={},o=t&&t.adUnit;if(o){var s=i.d.getAllTargeting(o.code);r=s?s[o.code]:{}}var c=g({},{hb_uuid:e&&e.videoCacheKey},{hb_cache_id:e&&e.videoCacheKey},r,n);l.a.emit(p.a.EVENTS.SET_TARGETING,m({},o.code,c));var u=g({},c,Object(a.deepAccess)(t,"params.cust_params"));return encodeURIComponent(Object(a.formatQS)(u))}o.b.getConfig("brandCategoryTranslation.translationFile")&&Object(s.a)("registerAdserver").before(y),Object(r.a)("dfp",{buildVideoUrl:v,buildAdpodVideoUrl:E,getAdpodTargeting:function(e){return b.getTargeting(e)}}),Object(s.e)("adpod",b),window.pbjs.installedModules.push("dfpAdServerVideo")}},[435]),pbjsChunk([267],{520:function(e,t,n){e.exports=n(521)},521:function(t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),function(t){r.d(n,"spec",(function(){return C}));var i=r(2),a=r(0),o=r(3),s=r(7),c=r(12),u=r.n(c),d=r(1);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(t){return(g="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=Object(s.b)(),y={t:0,rq:8,pbv:"6.13.0"},E=[i.b,i.d],O={},A=null;function S(e){var n,r,i,o,s,c,u,d,l,f,p=function(e){return new RegExp("[?#&](".concat(e,"=(.*?))($|&)"),"i")},m={};try{r=(n=t.top).screen,i=e||""}catch(e){return Object(a.logError)(e),m}return m={vw:n.innerWidth,vh:n.innerHeight,sw:r.width,sh:r.height,pu:(d=i,["ggad","ggdeal"].reduce((function(e,t){var n=d.match(p(t));return n?(n[1]&&(e=e.replace(n[1],"")),n[3]&&(e=e.replace(n[3],"")),e):e}),d)),ce:v.cookiesAreEnabled(),dpr:n.devicePixelRatio||1,jcsi:JSON.stringify(y),ogu:(u=(document&&document.getElementsByTagName("head")[0]).querySelector("meta[property='og:url']"),u?u.content:null)},(c=(f=(l=window.navigator&&(window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection))&&(l.downlink||l.bandwidth))?Math.round(1024*f):null)&&(m.ns=c),(o=(i.match(p("ggad"))||[0,0,0])[2])&&(m[isNaN(o)?"eAdBuyId":"adBuyId"]=o),(s=(i.match(p("ggdeal"))||[0,0,0])[2])&&(m.ggdeal=s),m}function w(e,t){return e.replace("AD_JSON",window.btoa(JSON.stringify(t)))}function _(e){var t=e.digitrustid&&e.digitrustid.data;return!t||t.privacy&&t.privacy.optout?{}:{dt:t.id}}function I(e){var t=0,n=0,r=0;return e.forEach((function(e){var i=h(e,2),a=i[0],o=i[1],s=a>o?a:o;(s>r||s===r&&a>=t&&o>=n)&&(r=s,t=a,n=o)})),[t,n]}var C={code:"gumgum",aliases:["gg"],isBidRequestValid:function(e){var t=e.params,n=e.adUnitCode,r=t.inScreen||t.inScreenPubID||t.inSlot||t.ICV||t.video||t.inVideo||t.slot||t.native||t.zone||t.pubID;if(O[r])return Object(a.logWarn)("[GumGum] Please check the implementation for ".concat(r," for the placement ").concat(n)),!1;switch(!0){case!!t.zone:case!!t.pubId:case!!t.inScreen:case!!t.inScreenPubID:case!!t.inSlot:case!!t.ICV:case!!t.video:case!!t.inVideo:case!!t.videoPubID:break;default:return Object(a.logWarn)("[GumGum] No product selected for the placement ".concat(n,", please check your implementation.")),!1}return!(t.bidfloor&&("number"!=typeof t.bidfloor||!isFinite(t.bidfloor))&&(Object(a.logWarn)("[GumGum] bidfloor must be a Number"),1))},buildRequests:function(e,t){var n=[],r=t&&t.gdprConsent,i=t&&t.uspConsent,s=o.b.getConfig("bidderTimeout"),c=t&&t.refererInfo&&t.refererInfo.referer;return Object(a._each)(e,(function(e){var t,o,u=e.bidId,d=e.mediaTypes,f=void 0===d?{}:d,m=e.params,b=void 0===m?{}:m,v=e.schain,y=e.transactionId,E=e.userId,O=void 0===E?{}:E,w=e.ortb2Imp,C=e.adUnitCode,T=void 0===C?"":C,j=function(e,t,n){var r=Object.keys(e)[0]||"banner",i={floor:0,currency:"USD"};if("function"==typeof n.getFloor){var a=n.getFloor({mediaType:r,size:"*"}),o=a.currency,s=a.floor;s&&(i.floor=s),o&&(i.currency=o),t&&s&&"USD"===o&&(i.floor=Math.max(t,parseFloat(s)))}else t&&(i.floor=t);return i}(f,b.bidfloor,e),P=j.currency,k=j.floor,x=function(e){var t=["uid","eid","lipbid"];return Object.keys(e).reduce((function(n,r){var i=e[r];switch(g(i)){case"string":n[r]=i;break;case"object":var a=t.filter((function(e){return i.hasOwnProperty(e)}));a.length&&(n[r]=i[a[0]])}return n}),{})}(O),N=Object(a.deepAccess)(w,"ext.data.pbadslot")||Object(a.deepAccess)(w,"ext.data.adserver.adslot"),D=[1,1],R={},M=new Date,B=M.getTime(),U=M.getTimezoneOffset();for(var L in R.lt=B,R.to=U,T&&(R.aun=T),x)R[L]=x[L];if(N&&(R.gpid=N),f.banner?D=f.banner.sizes:f.video&&(D=f.video.playerSize,R=function(e){var t=e.minduration,n=e.maxduration,r=e.linearity,i=e.startdelay,o=e.placement,s=e.protocols,c=void 0===s?[]:s,u=e.playerSize,d=void 0===u?[]:u,l=Object(a.parseSizesInput)(d),f=h(l[0]&&l[0].split("x"),2),p=f[0],m=f[1],g="";return c.length&&(g=c.join(",")),{mind:t,maxd:n,li:r,sd:i,pt:o,pr:g,viw:p,vih:m}}(f.video)),A&&(R.pv=A),k&&(R.fp=k,R.fpc=P),b.iriscat&&"string"==typeof b.iriscat&&(R.iriscat=b.iriscat),b.irisid&&"string"==typeof b.irisid&&(R.irisid=b.irisid),b.zone||b.pubId)if(b.zone?R.t=b.zone:R.pubId=b.pubId,R.pi=2,b.slot){var V=h(I(D),2),F=V[0],q=V[1];R.maxw=F,R.maxh=q,R.si=b.slot,R.pi=3,R.bf=D.reduce((function(e,t){return"".concat(e).concat(e&&",").concat(t[0],"x").concat(t[1])}),"")}else b.native?(R.ni=b.native,R.pi=5):f.video&&(R.pi=2===f.video.linearity?6:7);else R=p(p({},R),function(e,t){var n={};if(e.inScreenPubID&&(n.pubId=e.inScreenPubID,n.pi=2),e.inScreen&&(n.t=e.inScreen,n.pi=2),e.inSlot){var r=h(I(t),2),i=r[0],a=r[1];n.maxw=i,n.maxh=a,n.si=e.inSlot,n.pi=3,n.bf=t.reduce((function(e,t){return"".concat(e).concat(e&&",").concat(t[0],"x").concat(t[1])}),"")}return e.ICV&&(n.ni=e.ICV,n.pi=5),e.videoPubID&&(n.pubId=e.videoPubID,n.pi=7),e.video&&(n.t=e.video,n.pi=7),e.inVideo&&(n.t=e.inVideo,n.pi=6),n}(b,D));r&&(R.gdprApplies=r.gdprApplies?1:0),R.gdprApplies&&(R.gdprConsent=r.consentString),i&&(R.uspConsent=i),v&&v.nodes&&(R.schain=(o="".concat((t=v).ver,",").concat(t.complete),t.nodes.map((function(e){o+="!".concat(encodeURIComponent(e.asi||""),","),o+="".concat(encodeURIComponent(e.sid||""),","),o+="".concat(encodeURIComponent(e.hp||""),","),o+="".concat(encodeURIComponent(e.rid||""),","),o+="".concat(encodeURIComponent(e.name||""),","),o+="".concat(encodeURIComponent(e.domain||""))})),o)),n.push({id:u,tmax:s,tId:y,pi:R.pi,selector:b.selector,sizes:D,url:"https://g2.gumgum.com/hbid/imp",method:"GET",data:l(R,S(c),_(O))})})),n},interpretResponse:function(e,t){var n=[],r=e.body;if(!r||r.err){var o=t.data||{},s=o.si||o.ni||o.t||o.pubId,c=r?r.err.drt:18e5;O[s]={productId:o.pi,timestamp:(new Date).getTime()},setTimeout((function(){O[s]&&delete O[s]}),c),Object(a.logWarn)("[GumGum] Please check the implementation for ".concat(s))}var d=l({ad:{price:0,id:0,markup:"",width:0,height:0},pag:{pvid:0},meta:{adomain:[],mediaType:""}},r),f=d.ad,m=f.price,g=f.id,b=f.markup,v=f.cur,E=f.width,S=f.height,_=f.maxw,I=f.maxh,C=d.cw,T=d.pag.pvid,j=d.jcsi,P=d.meta,k=P.adomain,x=P.mediaType,N=t.data||{},D=N.pi,R=6===D||7===D?i.d:i.b,M=3===D&&9===N.si,B={advertiserDomains:k||[],mediaType:x||R},U=Object(a.parseSizesInput)(t.sizes);if(_&&I)U=["".concat(_,"x").concat(I)];else if(5===D&&u()(U,"1x1"))U=["1x1"];else if(2===D&&u()(U,"1x1")){var L=t.sizes&&t.sizes.reduce((function(e,t){var n=h(t,2),r=n[0],i=n[1];return E!==r&&S!==i||e.push(t.join("x")),e}),[])||[];U=L.length?L:Object(a.parseSizesInput)(t.sizes)}var V=h(U[0].split("x"),2),F=V[0],q=V[1];return j&&(r.jcsi=y),A=T,g&&n.push(p(p({ad:C?w(C,l({},r,{bidRequest:t})):b},R===i.d&&{ad:b,vastXml:b}),{},{mediaType:R,cpm:M?.1:m,creativeId:g,currency:v||"USD",height:q,netRevenue:!0,requestId:t.id,ttl:60,width:F,meta:B})),n},getUserSyncs:function(e,t){return t.map((function(e){return e.body&&e.body.pxs&&e.body.pxs.scr||[]})).reduce((function(e,t){return e.concat(t)}),[]).map((function(e){return{type:"f"===e.t?"iframe":"image",url:e.u}}))},supportedMediaTypes:E};Object(d.registerBidder)(C),window.pbjs.installedModules.push("gumgumBidAdapter")}.call(n,r(37))}},[520]),pbjsChunk([259],{538:function(e,t,n){e.exports=n(539)},539:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"ID5_STORAGE_NAME",(function(){return u})),n.d(t,"ID5_PRIVACY_STORAGE_NAME",(function(){return d})),n.d(t,"id5IdSubmodule",(function(){return g})),t.expDaysStr=b,t.nbCacheName=v,t.storeNbInCache=y,t.getNbFromCache=E,t.getFromLocalStorage=A,t.storeInLocalStorage=S;var r=n(0),i=n(4),a=n(8),o=n(21),s=n(7),c=n(9),u="id5id",d="".concat(u,"_privacy"),l="html5",f="User ID - ID5 submodule: ",p=["pbjs-id5id","id5id.1st","id5id"],m=Object(s.b)(131,"id5Id"),g={name:"id5Id",gvlid:131,decode:function(e,t){var n=0;if(e&&"string"==typeof e.universal_uid){var i={id5id:{uid:e.universal_uid,ext:{linkType:n=e.link_type||n}}};switch(Object(r.deepAccess)(e,"ab_testing.result")){case"control":Object(r.logInfo)(f+"A/B Testing - user is in the Control Group: ID5 ID is NOT exposed"),Object(r.deepSetValue)(i,"id5id.ext.abTestingControlGroup",!0);break;case"error":Object(r.logError)(f+"A/B Testing ERROR! controlGroupPct must be a number >= 0 and <= 1");break;case"normal":Object(r.logInfo)(f+"A/B Testing - user is NOT in the Control Group"),Object(r.deepSetValue)(i,"id5id.ext.abTestingControlGroup",!1)}return Object(r.logInfo)(f+"Decoded ID",i),i}},getId:function(e,t,n){if(h(e)){var a,s="https://id5-sync.com/g/v2/".concat(e.params.partner,".json"),u=t&&"boolean"==typeof t.gdprApplies&&t.gdprApplies?1:0,g=c.uspDataHandler.getConsentData(),v=Object(o.a)(),E=n&&n.signature?n.signature:(p.forEach((function(e){m.getCookie(e)&&(a=JSON.parse(m.getCookie(e))||a)})),a&&a.signature||""),A={partner:e.params.partner,gdpr:u,nbPage:O(e.params.partner),o:"pbjs",rf:v.referer,top:v.reachedTop?1:0,u:v.stack[0]||window.location.href,v:"6.13.0"};!u||void 0===t.consentString||Object(r.isEmpty)(t.consentString)||Object(r.isEmptyStr)(t.consentString)||(A.gdpr_consent=t.consentString),void 0===g||Object(r.isEmpty)(g)||Object(r.isEmptyStr)(g)||(A.us_privacy=g),void 0===E||Object(r.isEmptyStr)(E)||(A.s=E),void 0===e.params.pd||Object(r.isEmptyStr)(e.params.pd)||(A.pd=e.params.pd),void 0===e.params.provider||Object(r.isEmptyStr)(e.params.provider)||(A.provider=e.params.provider);var w=function(e){return Object(r.deepAccess)(e,"params.abTesting",{enabled:!1})}(e);return!0===w.enabled&&(A.ab_testing={enabled:!0,control_group_pct:w.controlGroupPct}),{callback:function(t){var n={success:function(n){var i;if(n)try{i=JSON.parse(n),Object(r.logInfo)(f+"response received from the server",i),y(e.params.partner,0),i.privacy&&S(d,JSON.stringify(i.privacy),30),e.storage.type===l&&function(e){Object(r.logInfo)(f+"removing legacy cookies"),p.forEach((function(t){m.setCookie("".concat(t)," ",b(-1)),m.setCookie("".concat(t,"_nb")," ",b(-1)),m.setCookie("".concat(t,"_").concat(e,"_nb")," ",b(-1)),m.setCookie("".concat(t,"_last")," ",b(-1))}))}(e.params.partner)}catch(e){Object(r.logError)(f+e)}t(i)},error:function(e){Object(r.logError)(f+"getId fetch encountered an error",e),t()}};Object(r.logInfo)(f+"requesting an ID from the server",A),Object(i.a)(s,n,JSON.stringify(A),{method:"POST",withCredentials:!0})}}}},extendId:function(e,t,n){return h(e),O(e&&e.params&&e.params.partner||0),Object(r.logInfo)(f+"using cached ID",n),n}};function h(e){return e&&e.params&&e.params.partner&&"number"==typeof e.params.partner?e.storage&&e.storage.type&&e.storage.name?(e.storage.type!==l&&Object(r.logWarn)(f+"storage type recommended to be '".concat(l,"'. In a future release this may become a strict requirement")),e.storage.name!==u&&Object(r.logWarn)(f+"storage name recommended to be '".concat(u,"'. In a future release this may become a strict requirement")),!0):(Object(r.logError)(f+"storage required to be set"),!1):(Object(r.logError)(f+"partner required to be defined as a number"),!1)}function b(e){return new Date(Date.now()+864e5*e).toUTCString()}function v(e){return"".concat(u,"_").concat(e,"_nb")}function y(e,t){S(v(e),t,30)}function E(e){var t=A(v(e));return t?parseInt(t):0}function O(e){var t=E(e)+1;return y(e,t),t}function A(e){var t=m.getDataFromLocalStorage("".concat(e,"_exp"));return""===t||t&&new Date(t).getTime()-Date.now()>0?m.getDataFromLocalStorage(e):(m.removeDataFromLocalStorage(e),null)}function S(e,t,n){m.setDataInLocalStorage("".concat(e,"_exp"),b(n)),m.setDataInLocalStorage("".concat(e),t)}Object(a.e)("userId",g),window.pbjs.installedModules.push("id5IdSystem")}},[538]),pbjsChunk([258],{543:function(e,t,n){e.exports=n(544)},544:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"storage",(function(){return s})),n.d(t,"identityLinkSubmodule",(function(){return c}));var r=n(0),i=n(4),a=n(8),o=n(7),s=Object(o.b)(),c={name:"identityLink",gvlid:97,decode:function(e){return{idl_env:e}},getId:function(e,t){var n=e&&e.params||{};if(n&&"string"==typeof n.pid){var i=t&&"boolean"==typeof t.gdprApplies&&t.gdprApplies?1:0,a=i?t.consentString:"",o=2===r.deepAccess(t,"vendorData.tcfPolicyVersion");if(!i||a&&""!==a){var s="https://api.rlcdn.com/api/identity/envelope?pid=".concat(n.pid).concat(i?(o?"&ct=4&cv=":"&ct=1&cv=")+a:"");return{callback:function(e){window.ats?(r.logInfo("identityLink: ATS exists!"),window.ats.retrieveEnvelope((function(t){t?(r.logInfo("identityLink: An envelope can be retrieved from ATS!"),d(!0),e(JSON.parse(t).envelope)):u(s,e,n)}))):u(s,e,n)}}}r.logInfo("identityLink: Consent string is required to call envelope API.")}else r.logError("identityLink: requires partner id to be defined")}};function u(e,t,n){var a,o={success:function(e){var n;if(e)try{n=JSON.parse(e)}catch(e){r.logInfo(e)}t(n&&n.envelope?n.envelope:"")},error:function(e){r.logInfo("identityLink: identityLink: ID fetch encountered an error",e),t()}};n.notUse3P||s.getCookie("_lr_retry_request")||((a=new Date).setTime(a.getTime()+36e5),s.setCookie("_lr_retry_request","true",a.toUTCString()),r.logInfo("identityLink: A 3P retrieval is attempted!"),d(!1),Object(i.a)(e,o,void 0,{method:"GET",withCredentials:!0}))}function d(e){var t=new Date;t.setTime(t.getTime()+2592e6),s.setCookie("_lr_env_src_ats",e,t.toUTCString())}Object(a.e)("userId",c),window.pbjs.installedModules.push("identityLinkIdSystem")}},[543]),pbjsChunk([240],{585:function(e,t,n){e.exports=n(586)},586:function(t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),r.d(n,"ERROR_CODES",(function(){return x})),r.d(n,"storage",(function(){return V})),r.d(n,"spec",(function(){return ie}));var i=r(0),a=r(2),o=r(3),s=r(5),c=r.n(s),u=r(7),d=r(10),l=r.n(d),f=r(11),p=r.n(f),m=r(1),g=r(20),h=r(12),b=r.n(h),v=r(13);function y(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(t){return(E="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function _(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var C="ix",T="roundel",j=[a.b,a.d],P=8e3,k={JPY:1},x={BID_SIZE_INVALID_FORMAT:1,BID_SIZE_NOT_INCLUDED:2,PROPERTY_NOT_INCLUDED:3,SITE_ID_INVALID_VALUE:4,BID_FLOOR_INVALID_FORMAT:5,IX_FPD_EXCEEDS_MAX_SIZE:6,EXCEEDS_MAX_SIZE:7,PB_FPD_EXCEEDS_MAX_SIZE:8,VIDEO_DURATION_INVALID:9},N={SITE:["id","name","domain","cat","sectioncat","pagecat","page","ref","search","mobile","privacypolicy","publisher","content","keywords","ext"],USER:["id","buyeruid","yob","gender","keywords","customdata","geo","data","ext"]},D={"liveramp.com":"idl","netid.de":"NETID","neustar.biz":"fabrickId","zeotap.com":"zeotapIdPlus","uidapi.com":"UID2","adserver.org":"TDID","id5-sync.com":"","crwdcntrl.net":"","epsilon.com":"","audigent.com":"","pubcid.org":"","trustpid.com":""},R=["britepoolid","lipbid","criteoId","merkleId","parrableId","connectid","tapadId","quantcastId","flocId","pubProvidedId"],M=["mimes","minduration","maxduration"],B=["mimes","minduration","maxduration","protocols","protocol","startdelay","placement","linearity","skip","skipmin","skipafter","sequence","battr","maxextended","minbitrate","maxbitrate","boxingallowed","playbackmethod","playbackend","delivery","pos","companionad","api","companiontype","ext","playerSize","w","h"],U="ixdiag",L=!1,V=Object(u.b)(10,C);function F(e){var t={};return t.id=e.bidId,t.ext={},t.ext.siteID=e.params.siteId.toString(),!e.params.hasOwnProperty("id")||"string"!=typeof e.params.id&&"number"!=typeof e.params.id||(t.ext.sid=String(e.params.id)),t}function q(e,t,n){var r=null,a=null;if(e.params.bidFloor&&e.params.bidFloorCur&&(r={floor:e.params.bidFloor,currency:e.params.bidFloorCur}),Object(i.isFn)(e.getFloor)){var o="*",s="*";if(n&&Object(i.contains)(j,n)){var c=t[n];o=n,s=[c.w,c.h]}try{a=e.getFloor({mediaType:o,size:s})}catch(e){Object(i.logWarn)("priceFloors module call getFloor failed, error : ",e)}}a?(t.bidfloor=a.floor,t.bidfloorcur=a.currency,t.ext.fl="p"):r&&(t.bidfloor=r.floor,t.bidfloorcur=r.currency,t.ext.fl="x")}function G(e,t,n){var r={},o=!(!Object(i.deepAccess)(e,"exp")||!Object(i.isInteger)(e.exp)),s=Object(i.deepAccess)(e,"dealid")||Object(i.deepAccess)(e,"ext.dealid");return k.hasOwnProperty(t)?r.cpm=e.price/k[t]:r.cpm=e.price/100,r.requestId=e.impid,s&&(r.dealId=s),r.netRevenue=!0,r.currency=t,r.creativeId=e.hasOwnProperty("crid")?e.crid:"-",2==e.mtype?r.vastXml=e.adm:e.ext&&e.ext.vasturl&&(r.vastUrl=e.ext.vasturl),e.ext&&e.ext.vasturl||2==e.mtype?(r.width=n.video.w,r.height=n.video.h,r.mediaType=a.d,r.mediaTypes=n.mediaTypes,r.ttl=o?e.exp:3600):(r.ad=e.adm,r.width=e.w,r.height=e.h,r.mediaType=a.b,r.ttl=o?e.exp:300),r.meta={},r.meta.networkId=Object(i.deepAccess)(e,"ext.dspid"),r.meta.brandId=Object(i.deepAccess)(e,"ext.advbrandid"),r.meta.brandName=Object(i.deepAccess)(e,"ext.advbrand"),e.adomain&&e.adomain.length>0&&(r.meta.advertiserDomains=e.adomain),r}function z(e){return Array.isArray(e)&&2===e.length&&Object(i.isInteger)(e[0])&&Object(i.isInteger)(e[1])}function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(z(e))return e[0]===t[0]&&e[1]===t[1];for(var n=0;n<e.length;n++)if(e[n][0]===t[0]&&e[n][1]===t[1])return!0;return!1}function H(e,t){var n=[];e||Object(i.logWarn)("IX Bid Adapter: mediaTypes.video is the preferred location for video params in ad unit");var r,a=w(M);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=e&&e.hasOwnProperty(o),c=t&&t.hasOwnProperty(o);s||c||n.push("IX Bid Adapter: ".concat(o," is not included in either the adunit or params level"))}}catch(e){a.e(e)}finally{a.f()}var u=e&&e.hasOwnProperty("protocol"),d=e&&e.hasOwnProperty("protocols"),l=t&&t.hasOwnProperty("protocol"),f=t&&t.hasOwnProperty("protocols");return u||d||l||f||n.push("IX Bid Adapter: protocol/protcols is not included in either the adunit or params level"),n}function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return z(e)?e:!!z(e[0])&&e[0]}function Y(e,t,n){if(e)return A(A({},p()(n,(function(t){return t.bidId===e}))),p()(t,(function(t){return t.id===e})))}function $(e,t,n,r){var s="https://htlb.casalemedia.com/cygnus",c=function(e,t){var n=[],r={};if(Object(i.isArray)(e)){var a,o=w(e);try{for(o.s();!(a=o.n()).done;){var s=a.value;D.hasOwnProperty(s.source)&&Object(i.deepAccess)(s,"uids.0")&&(r[s.source]=!0,""!=D[s.source]&&(s.uids[0].ext={rtiPartner:D[s.source]}),delete s.uids[0].atype,n.push(s))}}catch(e){o.e(e)}finally{o.f()}}if(t&&t.id&&t.version){var c={source:"chrome.com",uids:[{id:t.id,ext:{rtiPartner:"flocId",ver:t.version}}]};n.push(c),r["chrome.com"]=!0}return{toSend:n,seenSources:r}}(Object(i.deepAccess)(e,"0.userIdAsEids"),Object(i.deepAccess)(e,"0.userId.flocId")),u=c.toSend,d=function(){var e=o.b.getConfig("pageUrl");try{return new URL(e).href}catch(t){return void Object(i.logWarn)("IX Bid Adapter: invalid pageUrl config property value set: ".concat(e))}}()||Object(i.deepAccess)(t,"refererInfo.referer");if(window.headertag&&"function"==typeof window.headertag.getIdentityInfo){var l=window.headertag.getIdentityInfo();if(l&&"object"===E(l))for(var f in l)if(l.hasOwnProperty(f)){var p=l[f];!p.responsePending&&p.data&&"object"===E(p.data)&&Object.keys(p.data).length&&!c.seenSources[p.data.source]&&u.push(p.data)}}if(t&&t.bidderCode===T&&!c.seenSources["liveramp.com"])return[];var m={};m.id=e[0].bidderRequestId.toString(),m.site={},m.ext={},m.ext.source="prebid",m.ext.ixdiag={},m.ext.ixdiag.msd=0,m.ext.ixdiag.msi=0,m.imp=[],m.at=1;var g=function(e){for(var t=e.map((function(e){return e.transactionId})).filter((function(e,t,n){return n.indexOf(e)===t})),n={mfu:0,bu:0,iu:0,nu:0,ou:0,allu:0,ren:!1,version:"6.13.0",userIds:J(e[0])},r=function(r){if(o=e.filter((function(e){return e.transactionId===t[r]}))[0],Object(i.deepAccess)(o,"mediaTypes")){if(Object.keys(o.mediaTypes).length>1&&n.mfu++,Object(i.deepAccess)(o,"mediaTypes.native")&&n.nu++,Object(i.deepAccess)(o,"mediaTypes.banner")&&n.bu++,"outstream"===Object(i.deepAccess)(o,"mediaTypes.video.context")){n.ou++;var a="object"===E(Object(i.deepAccess)(o,"renderer")||Object(i.deepAccess)(o,"mediaTypes.video.renderer"));n.ren=n.ren&&a?Object(i.deepAccess)(n,"ren"):a}"instream"===Object(i.deepAccess)(o,"mediaTypes.video.context")&&n.iu++,n.allu++}},a=0;a<t.length;a++){var o;r(a)}return n}(e);for(var h in g)m.ext.ixdiag[h]=g[h];var b=function(){if(V.localStorageIsEnabled()){var e,t={};try{e=JSON.parse(V.getDataFromLocalStorage(U)||"{}")}catch(e){return Object(i.logError)("ix can not read ixdiag from localStorage."),null}return Object.keys(e).forEach((function(n){Object.keys(e[n]).forEach((function(r){"number"==typeof e[n][r]&&(t[r]=t[r]?t[r]+e[n][r]:e[n][r])}))})),t}}();if(Object(i.isEmpty)(b)||(m.ext.ixdiag.err=b),e[0].schain&&(m.source={ext:{schain:e[0].schain}}),u.length>0&&(m.user={},m.user.eids=u),document.referrer&&""!==document.referrer&&(m.site.ref=document.referrer),t){if(t.gdprConsent){var v=t.gdprConsent;v.hasOwnProperty("gdprApplies")&&(m.regs={ext:{gdpr:v.gdprApplies?1:0}}),v.hasOwnProperty("consentString")&&(m.user=m.user||{},m.user.ext={consent:v.consentString||""},v.hasOwnProperty("addtlConsent")&&v.addtlConsent&&(m.user.ext.consented_providers_settings={consented_providers:v.addtlConsent}))}t.uspConsent&&Object(i.deepSetValue)(m,"regs.ext.us_privacy",t.uspConsent),d&&(m.site.page=d)}o.b.getConfig("coppa")&&Object(i.deepSetValue)(m,"regs.coppa",1);var O={};O.s=e[0].params.siteId,O.v=r,O.ac="j",O.sd=1,8.1===r&&(O.nf=1);var S=t&&t.bidderCode||"ix",_=o.b.getConfig(S),I=[],j=0,k=Object.keys(n),R="".concat(s).concat(Object(i.parseQueryStringParameters)(A(A({},O),{},{r:JSON.stringify(m)}))).length;if(R>P)return Object(i.logError)("IX Bid Adapter: Base request size has exceeded maximum request size.",{bidder:C,code:x.EXCEEDS_MAX_SIZE}),I;var M=R,B=0,L=!1;if(_){if("object"===E(_.firstPartyData)){var F=_.firstPartyData,q="?";for(var G in F)F.hasOwnProperty(G)&&(q+="".concat(encodeURIComponent(G),"=").concat(encodeURIComponent(F[G]),"&"));q=q.slice(0,-1),(B=encodeURIComponent(q).length)<P?("page"in m.site?m.site.page+=q:m.site.page=q,M+=B):Object(i.logError)("IX Bid Adapter: IX config FPD request size has exceeded maximum request size.",{bidder:C,code:x.IX_FPD_EXCEEDS_MAX_SIZE})}"number"==typeof _.timeout&&(O.t=_.timeout),"boolean"==typeof _.detectMissingSizes?m.ext.ixdiag.dms=_.detectMissingSizes:m.ext.ixdiag.dms=!0}for(var z=function(t){if(M>=P||I.length>=4)return"break";for(var r=n[k[t]],c=r.missingCount,u=void 0===c?0:c,d=r.missingImps,l=void 0===d?[]:d,f=r.ixImps,p=!1,g=P-M,h={ixImps:void 0===f?[]:f,missingBannerImpressions:l},b=Object.keys(h).map((function(e){return h[e]})).filter((function(e){return Array.isArray(e)})).reduce((function(e,t){return e.concat.apply(e,y(t))}),[]),v=encodeURIComponent(JSON.stringify({impressionObjects:b})).length;b.length&&v>g;)p=!0,b.pop(),v=encodeURIComponent(JSON.stringify({impressionObjects:b})).length;var E=n[k[t]].gpid,S=n[k[t]].dfp_ad_unit_code;if(b.length&&a.b in b[0]){var w=b[0],_={id:w.id,banner:{topframe:w.banner.topframe,format:b.map((function(e){var t=e.banner;return{w:t.w,h:t.h,ext:e.ext}}))}};(S||E)&&(_.ext={},_.ext.dfp_ad_unit_code=S,_.ext.gpid=E),"bidfloor"in b[0]&&(_.bidfloor=b[0].bidfloor),"bidfloorcur"in b[0]&&(_.bidfloorcur=b[0].bidfloorcur),m.imp.push(_),m.ext.ixdiag.msd+=u,m.ext.ixdiag.msi+=l.length}else{var T;b.forEach((function(e){return Object(i.deepSetValue)(e,"ext.gpid",E)})),(T=m.imp).push.apply(T,y(b))}M+=v;var D=o.b.getConfig("ortb2")||{};if(!Object(i.isEmpty)(D)&&!L){m.ext.ixdiag.fpd=!0;var B=A({},D.site||D.context);Object.keys(B).forEach((function(e){-1===N.SITE.indexOf(e)&&delete B[e]}));var U=A({},D.user);Object.keys(U).forEach((function(e){-1===N.USER.indexOf(e)&&delete U[e]}));var V=Object(i.deepClone)(m);if(V.site=Object(i.mergeDeep)({},V.site,B),V.user=Object(i.mergeDeep)({},V.user,U),"".concat(s).concat(Object(i.parseQueryStringParameters)(A(A({},O),{},{r:JSON.stringify(V)}))).length<P){m.site=Object(i.mergeDeep)({},m.site,B),m.user=Object(i.mergeDeep)({},m.user,U),L=!0;var F=encodeURIComponent(JSON.stringify(A(A({},B),U))).length;M+=F}else Object(i.logError)("IX Bid Adapter: FPD request size has exceeded maximum request size.",{bidder:C,code:x.PB_FPD_EXCEEDS_MAX_SIZE})}var q=t===k.length-1;if(p||q){var G=Object(i.deepClone)(O);q&&!j||(m.ext.ixdiag.sn=j,G.sn=j),j++,G.r=JSON.stringify(m),I.push({method:"GET",url:s,data:G,validBidRequests:e}),M=R,m.imp=[],m.ext.ixdiag.msd=0,m.ext.ixdiag.msi=0,L=!1}},W=0;W<k.length&&"break"!==z(W);W++);return I}function J(e){var t=e.userId||{};return R.filter((function(e){return t[e]}))}function X(e,t){if(t)for(var n=0;n<e.length;n++){var r=e[n];if(t[0]===r[0]&&t[1]===r[1]){e.splice(n,1);break}}}function Q(e,t){var n=function(e){var t=F(e),n=Object(i.deepAccess)(e,"mediaTypes.video"),r=Object(i.deepAccess)(e,"params.video");if(H(n,r).length)return{};for(var o in t.video=r?Object(i.deepClone)(e.params.video):{},n)-1===B.indexOf(o)||t.video.hasOwnProperty(o)||(t.video[o]=n[o]);if(t.video.minduration>t.video.maxduration)return Object(i.logError)("IX Bid Adapter: video minduration [".concat(t.video.minduration,"] cannot be greater than video maxduration [").concat(t.video.maxduration,"]"),{bidder:C,code:x.VIDEO_DURATION_INVALID}),{};var s=r&&r.context||n&&n.context;if(s&&!t.video.hasOwnProperty("placement")&&(s===g.a?t.video.placement=1:s===g.b?t.video.placement=4:Object(i.logWarn)("IX Bid Adapter: Video context '".concat(s,"' is not supported"))),!t.video.w||!t.video.h){var c=K(Object(i.deepAccess)(t,"video.playerSize"))||K(Object(i.deepAccess)(e,"params.size"));if(!c)return Object(i.logWarn)("IX Bid Adapter: Video size is missing in [mediaTypes.video] missing"),{};t.video.w=c[0],t.video.h=c[1],Object(i.deepAccess)(t,"ext.sid")||(t.ext.sid=Object(i.parseGPTSingleSizeArray)(c))}return q(e,t,a.d),t}(e);0!=Object.keys(n).length&&(t[e.transactionId]={},t[e.transactionId].ixImps=[],t[e.transactionId].ixImps.push(n),t[e.transactionId].gpid=Object(i.deepAccess)(e,"ortb2Imp.ext.gpid"))}function Z(e,t,n){var r=A(A({},{detectMissingSizes:!0}),o.b.getConfig("ix")),s=function(e){var t=F(e);t.banner={};var n=Object(i.deepAccess)(e,"params.size");return n&&(t.banner.w=n[0],t.banner.h=n[1],Object(i.deepAccess)(t,"ext.sid")||(t.ext.sid=Object(i.parseGPTSingleSizeArray)(n))),t.banner.topframe=Object(i.inIframe)()?0:1,q(e,t,a.b),t}(e),c=W(Object(i.deepAccess)(e,"mediaTypes.banner.sizes"),Object(i.deepAccess)(e,"params.size"));n.hasOwnProperty(e.transactionId)||(n[e.transactionId]={}),n[e.transactionId].gpid=Object(i.deepAccess)(e,"ortb2Imp.ext.gpid"),n[e.transactionId].dfp_ad_unit_code=Object(i.deepAccess)(e,"ortb2Imp.ext.data.adserver.adslot"),c&&(n[e.transactionId].hasOwnProperty("ixImps")||(n[e.transactionId].ixImps=[]),n[e.transactionId].ixImps.push(s)),r.hasOwnProperty("detectMissingSizes")&&r.detectMissingSizes&&function(e,t,n){var r=e.transactionId;if(t.hasOwnProperty(r)){var a=[];t[r].hasOwnProperty("missingSizes")&&(a=t[r].missingSizes),X(a,e.params.size),t[r].missingSizes=a}else if(Object(i.deepAccess)(e,"mediaTypes.banner.sizes")){var o=Object(i.deepClone)(e.mediaTypes.banner.sizes);X(o,e.params.size);var s={missingSizes:o,impression:n};t[r]=s}}(e,t,s)}function ee(e,t,n){var r=Object(i.deepClone)(t);return r.ext.sid=Object(i.parseGPTSingleSizeArray)(n),r.banner.w=n[0],r.banner.h=n[1],q(e,r,a.b),r}function te(e){if("ERROR"===e.type&&e.arguments&&e.arguments[1]&&e.arguments[1].bidder===C){var t={hasEnforcementHook:!1,valid:Object(i.hasDeviceAccess)()};Object(u.d)(10,C,t,(function(t){t.valid&&function(e){if(V.localStorageIsEnabled()){var t;try{t=JSON.parse(V.getDataFromLocalStorage(U)||"{}")}catch(e){Object(i.logWarn)("ix can not read ixdiag from localStorage.")}var n=new Date;if(Object.keys(t).map((function(e){var r=new Date(e);r.setDate(r.getDate()+7)-n<0&&delete t[e]})),"ERROR"===e.type&&e.arguments&&e.arguments[1]&&e.arguments[1].bidder===C){var r=n.toISOString().slice(0,10),a=e.arguments[1].code;a&&(t[r]=t[r]||{},Number(t[r][a])||(t[r][a]=0),t[r][a]++)}V.setDataInLocalStorage(U,JSON.stringify(t))}}(e)}))}}function ne(e){e.renderer.push((function(){var t={width:e.width,height:e.height,timeout:3e3};e.vastXml?window.IXOutstreamPlayer(e.vastXml,e.adUnitCode,t):window.IXOutstreamPlayer(e.vastUrl,e.adUnitCode,t)}))}function re(e){var t=v.a.install({id:e,url:"https://js-sec.indexww.com/htv/video-player.js",loaded:!1});try{t.setRender(ne)}catch(e){Object(i.logWarn)("Prebid Error calling setRender on renderer",e)}return t}var ie={code:C,gvlid:10,aliases:[{code:T,gvlid:10,skipPbsAliasing:!1}],supportedMediaTypes:j,isBidRequestValid:function(e){L||(l.a.on(c.a.EVENTS.AUCTION_DEBUG,te),l.a.on(c.a.EVENTS.AD_RENDER_FAILED,te),L=!0);var t,n,r=Object(i.deepAccess)(e,"params.video"),a=Object(i.deepAccess)(e,"params.size"),o=Object(i.deepAccess)(e,"mediaTypes.banner.sizes"),s=Object(i.deepAccess)(e,"mediaTypes.video"),u=Object(i.deepAccess)(e,"mediaTypes.video.playerSize"),d=e.params.hasOwnProperty("bidFloor"),f=e.params.hasOwnProperty("bidFloorCur");if(e.hasOwnProperty("mediaType")&&!Object(i.contains)(j,e.mediaType))return Object(i.logWarn)("IX Bid Adapter: media type is not supported."),!1;if(Object(i.deepAccess)(e,"mediaTypes.banner")&&!o)return!1;if(a){var p=K(a);if(!p)return Object(i.logError)("IX Bid Adapter: size has invalid format.",{bidder:C,code:x.BID_SIZE_INVALID_FORMAT}),!1;if(!W(e.sizes,p)&&!W(u,p)&&!W(o,p))return Object(i.logError)("IX Bid Adapter: bid size is not included in ad unit sizes or player size.",{bidder:C,code:x.BID_SIZE_NOT_INCLUDED}),!1}if("string"!=typeof e.params.siteId&&"number"!=typeof e.params.siteId)return Object(i.logError)("IX Bid Adapter: siteId must be string or number type.",{bidder:C,code:x.SITE_ID_INVALID_VALUE}),!1;if("string"!=typeof e.params.siteId&&isNaN(Number(e.params.siteId)))return Object(i.logError)("IX Bid Adapter: siteId must valid value",{bidder:C,code:x.SITE_ID_INVALID_VALUE}),!1;if((d||f)&&!(d&&f&&(t=e.params.bidFloor,n=e.params.bidFloorCur,Boolean("number"==typeof t&&"string"==typeof n&&n.match(/^[A-Z]{3}$/)))))return Object(i.logError)("IX Bid Adapter: bidFloor / bidFloorCur parameter has invalid format.",{bidder:C,code:x.BID_FLOOR_INVALID_FORMAT}),!1;if(s&&r){var m=H(s,r);if(m.length)return m.forEach((function(e){Object(i.logError)(e,{bidder:C,code:x.PROPERTY_NOT_INCLUDED})})),!1}return!0},buildRequests:function(e,t){var n=[],r={},o={},s={},c={};for(var u in e.forEach((function(e){var t=Object.keys(Object(i.deepAccess)(e,"mediaTypes",{}));switch(function(e){return Object(i.deepAccess)(e,"params.video")&&Object(i.deepAccess)(e,"mediaTypes.video")?a.d:a.b}(e)){case a.b:Z(e,c,r);break;case a.d:Q(e,o)}b()(t,a.b)&&b()(t,a.d)&&(s[e.transactionId]=e)})),Object.keys(s).forEach((function(e){var t=s[e];r[e]||Z(t,c,r),o[e]||Q(t,o)})),c)if(c.hasOwnProperty(u)){var d=c[u].missingSizes;r.hasOwnProperty(u)||(r[u]={}),r[u].hasOwnProperty("missingImps")||(r[u].missingImps=[],r[u].missingCount=0);for(var l=c[u].impression,f=0;f<d.length;f++){var p=ee(e[0],l,d[f]);r[u].missingImps.push(p),r[u].missingCount++}}return Object.keys(r).length>0&&n.push.apply(n,y($(e,t,r,7.2))),Object.keys(o).length>0&&n.push.apply(n,y($(e,t,o,8.1))),n},interpretResponse:function(e,t){var n=[],r=null;if(!e.hasOwnProperty("body")||!e.body.hasOwnProperty("seatbid"))return n;for(var a=e.body,o=a.seatbid,s=0;s<o.length;s++)if(o[s].hasOwnProperty("bid")){for(var c=o[s].bid,u=JSON.parse(t.data.r),d=0;d<c.length;d++){var l=Y(c[d].impid,u.imp,t.validBidRequests);r=G(c[d],a.cur,l),Object(i.deepAccess)(r,"mediaTypes.video.renderer")||"outstream"!==Object(i.deepAccess)(r,"mediaTypes.video.context")||(r.renderer=re(c[d].bidId)),n.push(r)}if(Object(i.deepAccess)(u,"ext.ixdiag.err")&&V.localStorageIsEnabled())try{V.removeDataFromLocalStorage(U)}catch(e){Object(i.logError)("ix can not clear ixdiag from localStorage.")}}return n},transformBidParams:function(e,t){return Object(i.convertTypes)({siteID:"number"},e)},getUserSyncs:function(e,t){return e.iframeEnabled?[{type:"iframe",url:"https://js-sec.indexww.com/um/ixmatch.html"}]:[]}};Object(m.registerBidder)(ie),window.pbjs.installedModules.push("ixBidAdapter")}},[585]),pbjsChunk([237],{591:function(e,t,n){e.exports=n(592)},592:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"spec",(function(){return o}));var r=n(1),i=n(0),a=[],o={code:"justpremium",gvlid:62,time:6e4,isBidRequestValid:function(e){return!!(e&&e.params&&e.params.zone)},buildRequests:function(e,t){var n,r,a=(n={},r={},e.forEach((function(e){var t=e.params,i=t.zone;if(1!==n[i]){var a=t.allow||t.formats||[],o=t.exclude||[];if(0===a.length&&0===o.length)return n[t.zone]=1;n[i]=n[i]||[[],{}],n[i][0]=function(e){for(var t=e.concat(),n=0;n<t.length;++n)for(var r=n+1;r<t.length;++r)t[n]===t[r]&&t.splice(r--,1);return t}(n[i][0].concat(a)),o.forEach((function(e){n[i][1][e]?n[i][1][e]++:n[i][1][e]=1})),r[i]=r[i]||0,o.length&&r[i]++}})),Object.keys(r).forEach((function(e){if(1!==n[e]){var t=[];Object.keys(n[e][1]).forEach((function(i){n[e][1][i]===r[e]&&t.push(i)})),n[e][1]=t}})),Object.keys(n).forEach((function(e){1!==n[e]&&n[e][1].length&&(n[e][0].forEach((function(t){var r=n[e][1].indexOf(t);r>-1&&n[e][1].splice(r,1)})),n[e][0].length=0),1===n[e]||n[e][0].length||n[e][1].length||(n[e]=1)})),n),o=function(){var e;try{e=window.top}catch(t){e=window}return{screenWidth:e.screen.width,screenHeight:e.screen.height,innerWidth:e.innerWidth,innerHeight:e.innerHeight}}(),s={zone:e.map((function(e){return parseInt(e.params.zone)})).filter((function(e,t,n){return n.indexOf(e)===t})),referer:t.refererInfo.referer,sw:o.screenWidth,sh:o.screenHeight,ww:o.innerWidth,wh:o.innerHeight,c:a,id:e[0].params.zone,sizes:{}};e.forEach((function(e){var t=e.params.zone,n=s.sizes;n[t]=n[t]||[],n[t].push.apply(n[t],e.mediaTypes&&e.mediaTypes.banner&&e.mediaTypes.banner.sizes)})),Object(i.deepAccess)(e[0],"userId.pubcid")?s.pubcid=Object(i.deepAccess)(e[0],"userId.pubcid"):Object(i.deepAccess)(e[0],"crumbs.pubcid")&&(s.pubcid=Object(i.deepAccess)(e[0],"crumbs.pubcid")),s.uids=e[0].userId,t&&t.gdprConsent&&(s.gdpr_consent={consent_string:t.gdprConsent.consentString,consent_required:"boolean"!=typeof t.gdprConsent.gdprApplies||t.gdprConsent.gdprApplies}),t&&t.uspConsent&&(s.us_privacy=t.uspConsent),s.version={prebid:"6.13.0",jp_adapter:"1.8.1"},e[0].schain&&(s.schain=e[0].schain);var c=JSON.stringify(s);return{method:"POST",url:"https://pre.ads.justpremium.com/v/2.0/t/xhr?i="+ +new Date,data:c,bids:e}},interpretResponse:function(e,t){var n=e.body,r=[];return t.bids.forEach((function(e){var t=function(e,t){var n=e.zone;if(t[n])for(var r=t[n].length;r--;)if(s(e,t[n][r]))return t[n].splice(r,1).pop();return!1}(e.params,n.bid);if(t){var i=e.mediaTypes&&e.mediaTypes.banner&&e.mediaTypes.banner.sizes&&e.mediaTypes.banner.sizes.length&&e.mediaTypes.banner.sizes[0]||[],a={requestId:e.bidId,creativeId:t.id,width:i[0]||t.width,height:i[1]||t.height,ad:t.adm,cpm:t.price,netRevenue:!0,currency:t.currency||"USD",ttl:t.ttl||o.time,format:t.format,meta:{advertiserDomains:t.adomain&&t.adomain.length>0?t.adomain:[]}};t.ext&&t.ext.pg&&(a.adserverTargeting={hb_deal_justpremium:"jp_pg"}),r.push(a)}})),r},getUserSyncs:function(e,t,n,r){var i="https://pre.ads.justpremium.com/v/1.0/t/sync?_c=a"+Math.random().toString(36).substring(7)+Date.now();return n&&"boolean"==typeof n.gdprApplies&&n.gdprApplies&&n.consentString&&(i=i+"&consentString="+encodeURIComponent(n.consentString)),r&&(i=i+"&usPrivacy="+encodeURIComponent(r)),e.iframeEnabled&&a.push({type:"iframe",url:i}),a}};function s(e,t){var n=t.format;return e.allow&&e.allow.length?e.allow.indexOf(n)>-1:!e.exclude||!e.exclude.length||e.exclude.indexOf(n)<0}Object(r.registerBidder)(o),window.pbjs.installedModules.push("justpremiumBidAdapter")}},[591]),pbjsChunk([188],{715:function(e,t,n){e.exports=n(716)},716:function(t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),r.d(n,"USER_ID_CODE_TO_QUERY_ARG",(function(){return m})),r.d(n,"spec",(function(){return g}));var i=r(0),a=r(3),o=r(1),s=r(2),c=r(12),u=r.n(c);function d(t){return(d="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=[s.b,s.d],p=["startdelay","mimes","minduration","maxduration","startdelay","skippable","playbackmethod","api","protocols","boxingallowed","linearity","delivery","protocol","placement","minbitrate","maxbitrate"],m={britepoolid:"britepoolid",criteoId:"criteoid",fabrickId:"nuestarid",haloId:"audigentid",id5id:"id5id",idl_env:"lre",IDP:"zeotapid",idxId:"idxid",intentIqId:"intentiqid",lipb:"lipbid",lotamePanoramaId:"lotameid",merkleId:"merkleid",netId:"netid",parrableId:"parrableid",pubcid:"pubcid",quantcastId:"quantcastid",tapadId:"tapadid",tdid:"ttduuid",uid2:"uid2",flocId:"floc",admixerId:"admixerid",deepintentId:"deepintentid",dmdId:"dmdid",nextrollId:"nextrollid",novatiq:"novatiqid",mwOpenLinkId:"mwopenlinkid",dapId:"dapid",amxId:"amxid",kpuid:"kpuid",publinkId:"publinkid",naveggId:"naveggid",imuid:"imuid",adtelligentId:"adtelligentid"},g={code:"openx",gvlid:69,supportedMediaTypes:f,isBidRequestValid:function(e){var t=e.params.delDomain||e.params.platform;return Object(i.deepAccess)(e,"mediaTypes.banner")&&t?!!e.params.unit||Object(i.deepAccess)(e,"mediaTypes.banner.sizes.length")>0:!(!e.params.unit||!t)},buildRequests:function(e,t){if(0===e.length)return[];var n=[],r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),2!==a.length);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(function(e){return e.reduce((function(e,t){var n;return n=t,Object(i.deepAccess)(n,"mediaTypes.video")&&!Object(i.deepAccess)(n,"mediaTypes.banner")||n.mediaType===s.d?e[0].push(t):e[1].push(t),e}),[[],[]])}(e)),o=r[0],c=r[1];return c.length>0&&n.push(function(e,t){var n=[],r=!1,o=b(e,t),c=Object(i._map)(e,(function(e){return e.params.unit}));return o.aus=Object(i._map)(e,(function(e){return Object(i.parseSizesInput)(e.mediaTypes.banner.sizes).join(",")})).join("|"),o.divids=Object(i._map)(e,(function(e){return encodeURIComponent(e.adUnitCode)})).join(","),o.aucs=Object(i._map)(e,(function(e){var t=Object(i.deepAccess)(e,"ortb2Imp.ext.data.pbadslot");return encodeURIComponent(t||"")})).join(","),c.some((function(e){return e}))&&(o.auid=c.join(",")),e.some((function(e){return e.params.doNotTrack}))&&(o.ns=1),(!0===a.b.getConfig("coppa")||e.some((function(e){return e.params.coppa})))&&(o.tfcd=1),e.forEach((function(e){if(e.params.customParams){var t=Object(i._map)(Object.keys(e.params.customParams),(function(t){return function(e,t){var n=t[e];return Object(i.isArray)(n)&&(n=n.join(",")),(e.toLowerCase()+"="+n.toLowerCase()).replace("+",".").replace("/","_")}(t,e.params.customParams)})),a=window.btoa(t.join("&"));r=!0,n.push(a)}else n.push("")})),r&&(o.tps=n.join(",")),y(o,s.b,e),{method:"GET",url:o.ph?"https://u.openx.net/w/1.0/arj":"https://".concat(e[0].params.delDomain,"/w/1.0/arj"),data:o,payload:{bids:e,startTime:new Date}}}(c,t)),o.length>0&&o.forEach((function(e){n.push(function(e,t){var n=function(e,t){var n,r,a=Object(i.deepAccess)(e,"mediaTypes.video"),o=b([e],t),c=Object(i.deepAccess)(e,"params.video")||{},d=Object(i.deepAccess)(e,"mediaTypes.video.context"),l=Object(i.deepAccess)(e,"mediaTypes.video.playerSize");Object(i.isArray)(e.sizes)&&2===e.sizes.length&&!Object(i.isArray)(e.sizes[0])?(n=parseInt(e.sizes[0],10),r=parseInt(e.sizes[1],10)):Object(i.isArray)(e.sizes)&&Object(i.isArray)(e.sizes[0])&&2===e.sizes[0].length?(n=parseInt(e.sizes[0][0],10),r=parseInt(e.sizes[0][1],10)):Object(i.isArray)(l)&&2===l.length&&(n=parseInt(l[0],10),r=parseInt(l[1],10));var f={w:n,h:r},m=e.params.video||e.params.openrtb||{};m.openrtb&&(m=m.openrtb),Object(i.isArray)(m.imp)&&(m=m.imp[0].video),Object.keys(m).filter((function(e){return u()(p,e)})).forEach((function(e){return f[e]=m[e]})),Object.keys(a).filter((function(e){return u()(p,e)})).forEach((function(e){return f[e]=a[e]}));var g={imp:[{video:f}]};o.openrtb=JSON.stringify(g),o.auid=e.params.unit,o.vwd=n||c.vwd,o.vht=r||c.vht,"outstream"===d&&(o.vos="101"),c.mimes&&(o.vmimes=c.mimes),e.params.test&&(o.vtest=1);var h=Object(i.deepAccess)(e,"ortb2Imp.ext.data.pbadslot");return h&&(o.aucs=encodeURIComponent(h)),y(o,s.d,[e]),o}(e,t);return{method:"GET",url:n.ph?"https://u.openx.net/v/1.0/avjp":"https://".concat(e.params.delDomain,"/v/1.0/avjp"),data:n,payload:{bid:e,startTime:new Date}}}(e,t))})),n},interpretResponse:function(e,t){var n=e.body;return function(e){return/avjp$/.test(e.url)?s.d:s.b}(t)===s.d?function(e,t){var n=t.bid,r=(t.startTime,[]);if(void 0!==e&&""!==e.vastUrl&&e.pub_rev>0){var a=Object(i.parseUrl)(e.vastUrl).search||{},o={};o.requestId=n.bidId,e.deal_id&&(o.dealId=e.deal_id),o.ttl=300,o.netRevenue=!0,o.currency=e.currency,o.cpm=parseInt(e.pub_rev,10)/1e3,o.width=parseInt(e.width,10),o.height=parseInt(e.height,10),o.creativeId=e.adid,o.vastUrl=e.vastUrl,o.mediaType=s.d,e.ph=a.ph,e.colo=a.colo,e.ts=a.ts,r.push(o)}return r}(n,t.payload):function(e,t){for(var n=t.bids,r=(t.startTime,e.ads.ad),i=[],a=0;a<r.length;a++){var o=r[a],s=parseInt(o.idx,10),c={};if(c.requestId=n[s].bidId,o.pub_rev){c.cpm=Number(o.pub_rev)/1e3;var u=o.creative[0];u&&(c.width=u.width,c.height=u.height),c.creativeId=u.id,c.ad=o.html,o.deal_id&&(c.dealId=o.deal_id),c.ttl=300,c.netRevenue=!0,c.currency=o.currency,o.tbd&&(c.tbd=o.tbd),c.ts=o.ts,c.meta={},o.brand_id&&(c.meta.brandId=o.brand_id),o.adomain&&length(o.adomain)>0?c.meta.advertiserDomains=o.adomain:c.meta.advertiserDomains=[],o.adv_id&&(c.meta.dspid=o.adv_id),i.push(c)}}return i}(n,t.payload)},getUserSyncs:function(e,t,n,r){if(e.iframeEnabled||e.pixelEnabled)return[{type:e.iframeEnabled?"iframe":"image",url:Object(i.deepAccess)(t,"0.body.ads.pixels")||Object(i.deepAccess)(t,"0.body.pixels")||function(e,t){var n=[];return e&&(n.push("gdpr="+(e.gdprApplies?1:0)),n.push("gdpr_consent="+encodeURIComponent(e.consentString||""))),t&&n.push("us_privacy="+encodeURIComponent(t)),"".concat("https://u.openx.net/w/1.0/pd").concat(n.length>0?"?"+n.join("&"):"")}(n,r)}]},transformBidParams:function(e,t){return Object(i.convertTypes)({unit:"string",customFloor:"number"},e)}};function h(e){var t,n,r,i=window,a=document,o=a.documentElement;if(e){try{i=window.top,a=window.top.document}catch(e){return}o=a.documentElement,r=a.body,t=i.innerWidth||o.clientWidth||r.clientWidth,n=i.innerHeight||o.clientHeight||r.clientHeight}else o=a.documentElement,t=i.innerWidth||o.clientWidth,n=i.innerHeight||o.clientHeight;return"".concat(t,"x").concat(n)}function b(e,t){var n,r=Object(i.inIframe)();n={ju:a.b.getConfig("pageUrl")||t.refererInfo.referer,ch:document.charSet||document.characterSet,res:"".concat(screen.width,"x").concat(screen.height,"x").concat(screen.colorDepth),ifr:r,tz:(new Date).getTimezoneOffset(),tws:h(r),be:1,bc:e[0].params.bc||"".concat("hb_pb","_").concat("3.0.3"),dddid:Object(i._map)(e,(function(e){return e.transactionId})).join(","),nocache:(new Date).getTime()};var o=v("ortb2.user.data");o.length>0&&(n.sm=o);var s,c,u,d,l,f=v("ortb2.site.content.data");if(f.length>0&&(n.scsm=f),e[0].params.platform&&(n.ph=e[0].params.platform),t.gdprConsent){var p=t.gdprConsent;void 0!==p.consentString&&(n.gdpr_consent=p.consentString),void 0!==p.gdprApplies&&(n.gdpr=p.gdprApplies?1:0),"iab"===a.b.getConfig("consentManagement.cmpApi")&&(n.x_gdpr_f=1)}return t&&t.uspConsent&&(n.us_privacy=t.uspConsent),Object(i.deepAccess)(e[0],"crumbs.pubcid")&&Object(i.deepSetValue)(e[0],"userId.pubcid",Object(i.deepAccess)(e[0],"crumbs.pubcid")),s=n,c=e[0].userId,Object(i._each)(c,(function(e,t){var n=m[t];if(m.hasOwnProperty(t))switch(t){case"merkleId":case"flocId":case"uid2":s[n]=e.id;break;case"lipb":if(s[n]=e.lipbid,Array.isArray(e.segments)&&e.segments.length>0){var r="liveintent:"+e.segments.join("|");s.sm="".concat(s.sm?s.sm+",":"").concat(r)}break;case"parrableId":s[n]=e.eid;break;case"id5id":s[n]=e.uid;break;case"novatiq":s[n]=e.snowflake;break;default:s[n]=e}})),n=s,e[0].schain&&(n.schain=(u=e[0].schain,"".concat(u.ver,",").concat(u.complete,"!").concat((d=u.nodes,l=["asi","sid","hp","rid","name","domain"],d.map((function(e){return l.map((function(t){return e[t]||""})).join(",")})).join("!"))))),n}function v(e){var t=a.b.getConfig(e);if(!Array.isArray(t)||!t.length)return"";var n=t.filter((function(e){return Array.isArray(e.segment)&&e.segment.length>0&&void 0!==e.name&&e.name.length>0})).reduce((function(e,t){var n="object"===d(t.ext)&&t.ext.segtax?"".concat(t.name,"/").concat(t.ext.segtax):t.name;return e[n]=(e[n]||[]).concat(t.segment.map((function(e){return e.id}))),e}),{});return Object.keys(n).map((function(e,t){return e+":"+n[e].join("|")})).join(",")}function y(e,t,n){var r=[],i=!1;n.forEach((function(e){var n=function(e,t){var n={},r=a.b.getConfig("currency.adServerCurrency")||"USD";"function"==typeof e.getFloor&&(n=e.getFloor({currency:r,mediaType:t,size:"*"}));var i=n.floor||e.params.customFloor||0;return Math.round(1e3*i)}(e,t);n?(r.push(n),i=!0):r.push(0)})),i&&(e.aumfs=r.join(","))}Object(o.registerBidder)(g),window.pbjs.installedModules.push("openxBidAdapter")}},[715]),pbjsChunk([175],{748:function(e,t,n){e.exports=n(749)},749:function(t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),r.d(n,"allowedFields",(function(){return T})),r.d(n,"_floorDataForAuction",(function(){return N})),r.d(n,"fieldMatchingFunctions",(function(){return M})),n.getFirstMatchingFloor=U,n.getBiddersCpmAdjustment=V,n.calculateAdjustedFloor=F,n.getFloor=z,n.getFloorsDataForAuction=W,n.getFloorDataFromAdUnits=H,n.updateAdUnitsForAuction=K,n.pickRandomModel=Y,n.createFloorsDataForAuction=$,n.continueAuction=J,n.isFloorsDataValid=Z,n.parseFloorData=ee,n.requestBidsHook=te,n.handleFetchResponse=re,n.generateAndHandleFetch=ae,n.handleSetFloorsConfig=oe,n.addBidResponseHook=se;var i=r(0),a=r(14),o=r(3),s=r(4),c=r(10),u=r.n(c),d=r(5),l=r.n(d),f=r(8),p=r(43),m=r(11),g=r.n(m),h=r(21),b=r(18),v=r(42),y=["modelGroups"];function E(t){return(E="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _,I="Price Floors",C=Object(s.b)(1e4),T=["gptSlot","adUnitCode","size","domain","mediaType"],j=!1,P=!1,k={},x=[],N={};function D(e,t){return Math.ceil((parseFloat(e)*Math.pow(10,t)).toFixed(1))/Math.pow(10,t)}function R(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.index,i=void 0===r?b.a.index:r;return(null==e?void 0:e.adUnitCode)||i.getAdUnit(t).code}var M={size:function(e,t){return Object(i.parseGPTSingleSizeArray)(t.size)||"*"},mediaType:function(e,t){return t.mediaType||"banner"},gptSlot:function(e,t){return function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).index,n=(void 0===t?b.a.index:t).getAdUnit({transactionId:e});return"gam"===Object(i.deepAccess)(n,"ortb2Imp.ext.data.adserver.name")&&n.ortb2Imp.ext.data.adserver.adslot}((e||t).transactionId)||Object(i.getGptSlotInfoForAdUnitCode)(R(e,t)).gptSlot},domain:function(e,t){return _||(n=Object(h.a)().referer,_=Object(i.parseUrl)(n,{noDecodeWholeURL:!0}).hostname);var n},adUnitCode:function(e,t){return R(e,t)}};function B(e,t,n){return e.reduce((function(e,r){var i=M[r](t,n)||"*";return e.push("*"===i?["*"]:[i.toLowerCase(),"*"]),e}),[])}function U(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=B(Object(i.deepAccess)(e,"schema.fields")||[],t,n);if(!r.length)return{matchingFloor:e.default};var a=r.map((function(e){return e[0]})).join("-"),o=Object(i.deepAccess)(e,"matchingInputs.".concat(a));if(o)return S({},o);var s=L(r,Object(i.deepAccess)(e,"schema.delimiter")||"|"),c=g()(s,(function(t){return e.values.hasOwnProperty(t)})),u={floorMin:e.floorMin||0,floorRuleValue:e.values[c]||e.default,matchingData:s[0],matchingRule:c};return u.matchingFloor=Math.max(u.floorMin,u.floorRuleValue),Object(i.deepSetValue)(e,"matchingInputs.".concat(a),S({},u)),u}function L(e,t){return e.reduce((function(e,n){var r=[];return e.map((function(e){n.map((function(n){r.push(e+t+n)}))})),r})).sort((function(e,t){return e.split("*").length-t.split("*").length}))}function V(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=v.a.get(e,"bidCpmAdjustment");return r?parseFloat(r(t,S(S({},n),{},{cpm:t}))):parseFloat(t)}function F(e,t){var n=Math.pow(10,10);return e*n/(t*n)*(e*n)/n}var q={banner:function(e){return Object(i.deepAccess)(e,"mediaTypes.banner.sizes")||[]},video:function(e){return Object(i.deepAccess)(e,"mediaTypes.video.playerSize")||[]},native:function(e){return Object(i.deepAccess)(e,"mediaTypes.native.image.sizes")?[Object(i.deepAccess)(e,"mediaTypes.native.image.sizes")]:[]}};function G(e,t){var n=Object.keys(e.mediaTypes||{});return"*"===t.mediaType&&1===n.length&&(t.mediaType=n[0]),"*"===t.size&&-1!==n.indexOf(t.mediaType)&&q[t.mediaType]&&1===q[t.mediaType](e).length&&(t.size=q[t.mediaType](e)[0]),t}function z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currency:"USD",mediaType:"*",size:"*"},t=this,n=N[t.auctionId];if(!n||n.skipped)return{};e=G(t,e);var r=U(n.data,S({},t),{mediaType:e.mediaType,size:e.size}),o=e.currency||n.data.currency;if(r.matchingFloor&&o!==n.data.currency)try{r.matchingFloor=Object(a.a)().convertCurrency(r.matchingFloor,n.data.currency,o)}catch(e){Object(i.logWarn)("".concat(I,": Unable to get currency conversion for getFloor for bidder ").concat(t.bidder,". You must have currency module enabled with defaultRates in your currency config")),o=n.data.currency}if(n.enforcement.bidAdjustment&&r.matchingFloor){var s=V(t.bidder,r.matchingFloor);r.matchingFloor=s?F(r.matchingFloor,s):r.matchingFloor}return r.matchingFloor?{floor:D(r.matchingFloor,4),currency:o}:{}}function W(e,t){var n=Object(i.deepClone)(e);return n.schema.delimiter=e.schema.delimiter||"|",n.values=function(e,t){var n=e.schema.fields,r=e.schema.delimiter,i=t&&-1===n.indexOf("adUnitCode")&&n.unshift("adUnitCode");return Object.keys(e.values).reduce((function(n,a){return n[(i?"".concat(t).concat(r).concat(a):a).toLowerCase()]=e.values[a],n}),{})}(n,t),n.currency=n.currency||"USD",n}function H(e){return e.reduce((function(e,t){if(Z(t.floors))if(e.values){var n=W(t.floors,t.code).values;O(e.values,n)}else(e=W(t.floors,t.code)).location="adUnit";return e}),{})}function K(e,t,n){e.forEach((function(e){e.bids.forEach((function(e){t.skipped?delete e.getFloor:e.getFloor=z,e.auctionId=n,e.floorData={skipped:t.skipped,skipRate:t.skipRate,floorMin:t.floorMin,modelVersion:Object(i.deepAccess)(t,"data.modelVersion"),modelWeight:Object(i.deepAccess)(t,"data.modelWeight"),modelTimestamp:Object(i.deepAccess)(t,"data.modelTimestamp"),location:Object(i.deepAccess)(t,"data.location","noData"),floorProvider:t.floorProvider,fetchStatus:k.fetchStatus}}))}))}function Y(e,t){for(var n=Math.floor(Math.random()*t+1),r=0;r<e.length;r++)if((n-=e[r].modelWeight)<=0)return e[r]}function $(e,t){var n=Object(i.deepClone)(k);if(2===Object(i.deepAccess)(n,"data.floorsSchemaVersion")){var r=n.data,a=r.modelGroups,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(r,y);n.data=O(o,Y(a,o.modelWeightSum))}var s=0===Object.keys(Object(i.deepAccess)(n,"data.values")||{}).length;if(n.data=s?H(e):W(n.data),0===Object.keys(Object(i.deepAccess)(n,"data.values")||{}).length)n.skipped=!0;else{var c=Object(i.getParameterByName)("pbjs_skipRate")||n.skipRate,u=100*Math.random()<parseFloat(c);n.skipped=u}return n.hasOwnProperty("floorMin")&&(n.data.floorMin=n.floorMin),K(e,n,t),n}function J(e){e.hasExited||(x=x.filter((function(t){return t.timer!==e.timer})),e.reqBidsConfigObj.auctionId=e.reqBidsConfigObj.auctionId||Object(i.generateUUID)(),N[e.reqBidsConfigObj.auctionId]=$(e.reqBidsConfigObj.adUnits||Object(a.a)().adUnits,e.reqBidsConfigObj.auctionId),e.nextFn.apply(e.context,[e.reqBidsConfigObj]),e.hasExited=!0)}function X(e){return t=Object(i.deepAccess)(e,"schema.fields"),!!(Array.isArray(t)&&t.length>0&&t.every((function(e){return-1!==T.indexOf(e)}))||(Object(i.logError)("".concat(I,": Fields recieved do not match allowed fields")),0))&&(n=e,r=e.schema.fields.length,a=e.schema.delimiter||"|","object"===E(n.values)&&(n.values=Object.keys(n.values).reduce((function(e,t){return function(e,t,n,r){return"string"==typeof e&&e.split(r).length===n&&"number"==typeof t}(t,n.values[t],r,a)&&(e[t]=n.values[t]),e}),{}),Object.keys(n.values).length>0));var t,n,r,a}var Q={1:function(e){return X(e)},2:function(e){return!(!Array.isArray(e.modelGroups)||0===e.modelGroups.length)&&(e.modelWeightSum=0,e.modelGroups.every((function(t){return!("number"!=typeof t.modelWeight||!X(t)||(e.modelWeightSum+=t.modelWeight,0))})))}};function Z(e){return"object"===E(e)&&(e.floorsSchemaVersion=e.floorsSchemaVersion||1,"function"!=typeof Q[e.floorsSchemaVersion]?(Object(i.logError)("".concat(I,": Unknown floorsSchemaVersion: "),e.floorsSchemaVersion),!1):Q[e.floorsSchemaVersion](e))}function ee(e,t){if(e&&"object"===E(e)&&Z(e))return Object(i.logInfo)("".concat(I,": A ").concat(t," set the auction floor data set to "),e),S(S({},e),{},{location:t});Object(i.logError)("".concat(I,": The floors data did not contain correct values"),e)}function te(e,t){var n={reqBidsConfigObj:t,context:this,nextFn:e,haveExited:!1,timer:null};k.auctionDelay>0&&j?(n.timer=setTimeout((function(){Object(i.logWarn)("".concat(I,": Fetch attempt did not return in time for auction")),k.fetchStatus="timeout",J(n)}),k.auctionDelay),x.push(n)):J(n)}function ne(){x.forEach((function(e){clearTimeout(e.timer),J(e)})),x=[]}function re(e){var t;j=!1,k.fetchStatus="success";try{t=JSON.parse(e)}catch(n){t=e}var n=ee(t,"fetch");n&&(k.data=n,k.skipRate=Object(i.isNumber)(n.skipRate)?n.skipRate:k.skipRate,k.floorProvider=n.floorProvider||k.floorProvider),ne()}function ie(e){j=!1,k.fetchStatus="error",Object(i.logError)("".concat(I,": Fetch errored with: "),e),ne()}function ae(e){e.url&&!j?"GET"!==(e.method||"GET")?Object(i.logError)("".concat(I,": 'GET' is the only request method supported at this time!")):(C(e.url,{success:re,error:ie},null,{method:"GET"}),j=!0):j&&Object(i.logWarn)("".concat(I,": A fetch is already occuring. Skipping."))}function oe(e){(k=Object(i.pick)(e,["floorMin","enabled",function(e){return!1!==e},"auctionDelay",function(e){return e||0},"floorProvider",function(t){return Object(i.deepAccess)(e,"data.floorProvider",t)},"endpoint",function(e){return e||{}},"skipRate",function(){return isNaN(Object(i.deepAccess)(e,"data.skipRate"))?e.skipRate||0:e.data.skipRate},"enforcement",function(e){return Object(i.pick)(e||{},["enforceJS",function(e){return!1!==e},"enforcePBS",function(e){return!0===e},"floorDeals",function(e){return!0===e},"bidAdjustment",function(e){return!1!==e}])},"additionalSchemaFields",function(e){return"object"===E(e)&&Object.keys(e).length>0?(t=e,void Object.keys(t).forEach((function(e){-1===T.indexOf(e)&&"function"==typeof t[e]&&(T.push(e),M[e]=t[e])}))):void 0;var t},"data",function(e){return e&&ee(e,"setConfig")||k.data}])).enabled?(ae(k.endpoint),P||(u.a.on(l.a.EVENTS.AUCTION_END,(function(e){setTimeout((function(){return delete N[e.auctionId]}),3e3)})),Object(a.a)().requestBids.before(te,50),Object(f.a)("addBidResponse").before(se,Object(i.debugTurnedOn)()?4:50),P=!0)):(Object(i.logInfo)("".concat(I,": Turning off module")),k={},N={},Object(f.a)("addBidResponse").getHooks({hook:se}).remove(),Object(a.a)().requestBids.getHooks({hook:te}).remove(),P=!1)}function se(e,t,n){var r=N[n.auctionId];if(!r||!n||r.skipped)return e.call(this,t,n);var o,s=b.a.index.getBidRequest(n),c=U(r.data,s,S(S({},n),{},{size:[n.width,n.height]}));if(!c.matchingFloor)return Object(i.logWarn)("".concat(I,": unable to determine a matching price floor for bidResponse"),n),e.call(this,t,n);var u=r.data.currency.toUpperCase(),d=n.currency||"USD";if(u===d.toUpperCase())o=n.cpm;else if(n.originalCurrency&&u===n.originalCurrency.toUpperCase())o=n.originalCpm;else try{o=Object(a.a)().convertCurrency(n.cpm,d.toUpperCase(),u)}catch(r){return Object(i.logError)("".concat(I,": Unable do get currency conversion for bidResponse to Floor Currency. Do you have Currency module enabled? ").concat(n)),e.call(this,t,n)}if(function(e,t,n,r){n.floorData={floorValue:t.matchingFloor,floorRule:t.matchingRule,floorRuleValue:t.floorRuleValue,floorCurrency:e.data.currency,cpmAfterAdjustments:r,enforcements:S({},e.enforcement),matchedFields:{}},e.data.schema.fields.forEach((function(r,i){var a=t.matchingData.split(e.data.schema.delimiter)[i];n.floorData.matchedFields[r]=a}))}(r,c,n,o=V(n.bidderCode,o,n)),function(e,t,n){var r=!1!==Object(i.deepAccess)(e,"enforcement.enforceJS"),a=!0===Object(i.deepAccess)(e,"enforcement.floorDeals")||!n.dealId,o=n.floorData.cpmAfterAdjustments<t.matchingFloor;return r&&o&&a}(r,c,n)){var f=Object(p.a)(l.a.STATUS.NO_BID,n.getIdentifiers());return O(f,Object(i.pick)(n,["floorData","width","height","mediaType","currency","originalCpm","originalCurrency","getCpmInNewCurrency"])),f.status=l.a.BID_STATUS.BID_REJECTED,f.cpm=0,Object(i.logWarn)("".concat(I,": ").concat(f.bidderCode,"'s Bid Response for ").concat(t," was rejected due to floor not met"),n),e.call(this,t,f)}return e.call(this,t,n)}o.b.getConfig("floors",(function(e){return oe(e.floors)})),window.pbjs.installedModules.push("priceFloors")}},[748]),pbjsChunk([169],{762:function(e,t,n){e.exports=n(763)},763:function(t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.checkVideoPlacement=R,r.d(n,"spec",(function(){return F}));var i=r(0),a=r(1),o=r(2),s=r(3),c=r(13);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(t){return(f="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}var p="PubMatic: ",m="USD",g=void 0,h="https://pubmatic.bbvms.com/r/".concat("$RENDERER",".js"),b={kadpageurl:"",gender:"",yob:"",lat:"",lon:"",wiid:"",profId:"",verId:""},v="number",y="array",E={mimes:y,minduration:v,maxduration:v,startdelay:v,playbackmethod:y,api:y,protocols:y,w:v,h:v,battr:y,linearity:v,placement:v,minbitrate:v,maxbitrate:v,skip:v},O={TITLE:{ID:1,KEY:"title",TYPE:0},IMAGE:{ID:2,KEY:"image",TYPE:0},ICON:{ID:3,KEY:"icon",TYPE:0},SPONSOREDBY:{ID:4,KEY:"sponsoredBy",TYPE:1},BODY:{ID:5,KEY:"body",TYPE:2},CLICKURL:{ID:6,KEY:"clickUrl",TYPE:0},VIDEO:{ID:7,KEY:"video",TYPE:0},EXT:{ID:8,KEY:"ext",TYPE:0},DATA:{ID:9,KEY:"data",TYPE:0},LOGO:{ID:10,KEY:"logo",TYPE:0},SPONSORED:{ID:11,KEY:"sponsored",TYPE:1},DESC:{ID:12,KEY:"data",TYPE:2},RATING:{ID:13,KEY:"rating",TYPE:3},LIKES:{ID:14,KEY:"likes",TYPE:4},DOWNLOADS:{ID:15,KEY:"downloads",TYPE:5},PRICE:{ID:16,KEY:"price",TYPE:6},SALEPRICE:{ID:17,KEY:"saleprice",TYPE:7},PHONE:{ID:18,KEY:"phone",TYPE:8},ADDRESS:{ID:19,KEY:"address",TYPE:9},DESC2:{ID:20,KEY:"desc2",TYPE:10},DISPLAYURL:{ID:21,KEY:"displayurl",TYPE:11},CTA:{ID:22,KEY:"cta",TYPE:12}},A=[{id:O.SPONSOREDBY.ID,required:!0,data:{type:1}},{id:O.TITLE.ID,required:!0},{id:O.IMAGE.ID,required:!0}],S={1:"PMP",5:"PREF",6:"PMPG"},w={bootstrapPlayer:function(e){var t={code:e.adUnitCode};if(e.vastXml?t.vastXml=e.vastXml:e.vastUrl&&(t.vastUrl=e.vastUrl),e.vastXml||e.vastUrl){for(var n,r=w.getRendererId("pubmatic",e.rendererCode),a=document.getElementById(e.adUnitCode),o=0;o<window.bluebillywig.renderers.length;o++)if(window.bluebillywig.renderers[o]._id===r){n=window.bluebillywig.renderers[o];break}n?n.bootstrap(t,a):Object(i.logWarn)("".concat(p,": Couldn't find a renderer with ").concat(r))}else Object(i.logWarn)("".concat(p,": No vastXml or vastUrl on bid, bailing..."))},newRenderer:function(e,t){var n=h.replace("$RENDERER",e),r=c.a.install({url:n,loaded:!1,adUnitCode:t});try{r.setRender(w.outstreamRender)}catch(e){Object(i.logWarn)("".concat(p,": Error tying to setRender on renderer"),e)}return r},outstreamRender:function(e){e.renderer.push((function(){w.bootstrapPlayer(e)}))},getRendererId:function(e,t){return"".concat(e,"-").concat(t)}},_=[o.b,o.d,o.c],I=0,C=!1,T={},j={};function P(e,t){if(!Object(i.isStr)(t))return t&&Object(i.logWarn)("PubMatic: Ignoring param key: "+e+", expects string-value, found "+f(t)),g;switch(e){case"pmzoneid":return t.split(",").slice(0,50).map((function(e){return e.trim()})).join();case"kadfloor":case"lat":case"lon":return parseFloat(t)||g;case"yob":return parseInt(t)||g;default:return t}}function k(e,t,n){var r,a="Ignoring param key: "+e+", expects "+n+", found "+f(t);switch(n){case"boolean":r=i.isBoolean;break;case v:r=i.isNumber;break;case"string":r=i.isStr;break;case y:r=i.isArray}return r(t)?t:(Object(i.logWarn)(p+a),g)}function x(e,t){var n=e.KEY;return{id:e.ID,required:t[n].required?1:0,data:{type:e.TYPE,len:t[n].len,ext:t[n].ext}}}function N(e){var t={assets:[]};for(var n in e){if(e.hasOwnProperty(n)){var r={};if(!(t.assets&&t.assets.length>0&&t.assets.hasOwnProperty(n)))switch(n){case O.TITLE.KEY:e[n].len||e[n].length?r={id:O.TITLE.ID,required:e[n].required?1:0,title:{len:e[n].len||e[n].length,ext:e[n].ext}}:Object(i.logWarn)("PubMatic: Error: Title Length is required for native ad: "+JSON.stringify(e));break;case O.IMAGE.KEY:e[n].sizes&&e[n].sizes.length>0?r={id:O.IMAGE.ID,required:e[n].required?1:0,img:{type:3,w:e[n].w||e[n].width||(e[n].sizes?e[n].sizes[0]:g),h:e[n].h||e[n].height||(e[n].sizes?e[n].sizes[1]:g),wmin:e[n].wmin||e[n].minimumWidth||(e[n].minsizes?e[n].minsizes[0]:g),hmin:e[n].hmin||e[n].minimumHeight||(e[n].minsizes?e[n].minsizes[1]:g),mimes:e[n].mimes,ext:e[n].ext}}:Object(i.logWarn)("PubMatic: Error: Image sizes is required for native ad: "+JSON.stringify(e));break;case O.ICON.KEY:e[n].sizes&&e[n].sizes.length>0?r={id:O.ICON.ID,required:e[n].required?1:0,img:{type:1,w:e[n].w||e[n].width||(e[n].sizes?e[n].sizes[0]:g),h:e[n].h||e[n].height||(e[n].sizes?e[n].sizes[1]:g)}}:Object(i.logWarn)("PubMatic: Error: Icon sizes is required for native ad: "+JSON.stringify(e));break;case O.VIDEO.KEY:r={id:O.VIDEO.ID,required:e[n].required?1:0,video:{minduration:e[n].minduration,maxduration:e[n].maxduration,protocols:e[n].protocols,mimes:e[n].mimes,ext:e[n].ext}};break;case O.EXT.KEY:r={id:O.EXT.ID,required:e[n].required?1:0};break;case O.LOGO.KEY:r={id:O.LOGO.ID,required:e[n].required?1:0,img:{type:2,w:e[n].w||e[n].width||(e[n].sizes?e[n].sizes[0]:g),h:e[n].h||e[n].height||(e[n].sizes?e[n].sizes[1]:g)}};break;case O.SPONSOREDBY.KEY:case O.BODY.KEY:case O.RATING.KEY:case O.LIKES.KEY:case O.DOWNLOADS.KEY:case O.PRICE.KEY:case O.SALEPRICE.KEY:case O.PHONE.KEY:case O.ADDRESS.KEY:case O.DESC2.KEY:case O.DISPLAYURL.KEY:case O.CTA.KEY:r=x(j[n],e)}}r&&r.id&&(t.assets[t.assets.length]=r)}var a=A.length,o=0;return A.forEach((function(e){for(var n=t.assets.length,r=0;r<n;r++)if(e.id==t.assets[r].id){o++;break}})),C=a!=o,t}function D(e){var t,n=e.mediaTypes.banner.sizes,r=[];if(n!==g&&Object(i.isArray)(n)){if(t={},e.params.width||e.params.height)t.w=e.params.width,t.h=e.params.height;else{if(0===n.length)return t=g,Object(i.logWarn)("PubMatic: Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t;t.w=parseInt(n[0][0],10),t.h=parseInt(n[0][1],10),n=n.splice(1,n.length-1)}n.length>0&&(r=[],n.forEach((function(e){e.length>1&&r.push({w:e[0],h:e[1]})})),r.length>0&&(t.format=r)),t.pos=0,t.topframe=Object(i.inIframe)()?0:1}else Object(i.logWarn)("PubMatic: Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t=g;return t}function R(e,t){Object(i.deepAccess)(e,"placement")||Object(i.logWarn)("Video.Placement param missing for "+t)}function M(e){var t,n=Object(i.mergeDeep)(Object(i.deepAccess)(e.mediaTypes,"video"),e.params.video);if(n!==g){for(var r in t={},R(n,e.adUnitCode),E)n.hasOwnProperty(r)&&(t[r]=k(r,n[r],E[r]));Object(i.isArray)(e.mediaTypes.video.playerSize[0])?(t.w=parseInt(e.mediaTypes.video.playerSize[0][0],10),t.h=parseInt(e.mediaTypes.video.playerSize[0][1],10)):Object(i.isNumber)(e.mediaTypes.video.playerSize[0])&&(t.w=parseInt(e.mediaTypes.video.playerSize[0],10),t.h=parseInt(e.mediaTypes.video.playerSize[1],10))}else t=g,Object(i.logWarn)("PubMatic: Error: Video config params missing for adunit: "+e.params.adUnit+" with mediaType set as video. Ignoring video impression in the adunit.");return t}function B(e,t,n){var r=t.rtd&&t.rtd.jwplayer&&t.rtd.jwplayer.targeting||void 0,i="";if(void 0!==r&&""!==r&&r.hasOwnProperty("segments")){var a,o=r.segments.length;i+="jw-id="+r.content.id;for(var s=0;s<o;s++)i+="|jw-"+r.segments[s]+"=1";n?void 0===e.dctr||0==e.dctr.length?e.dctr=i:e.dctr+="|"+i:(a=e.ext)&&void 0===a.key_val?a.key_val=i:a.key_val+="|"+i}}function U(e,t){var n,r,a={},c={},u=e.hasOwnProperty("sizes")?e.sizes:[],h="",b=[];if(function(e,t){t.params.deals&&(Object(i.isArray)(t.params.deals)?t.params.deals.forEach((function(t){Object(i.isStr)(t)&&t.length>3?(e.pmp||(e.pmp={private_auction:0,deals:[]}),e.pmp.deals.push({id:t})):Object(i.logWarn)("PubMatic: Error: deal-id present in array bid.params.deals should be a strings with more than 3 charaters length, deal-id ignored: "+t)})):Object(i.logWarn)("PubMatic: Error: bid.params.deals should be an array of strings."))}(a={id:e.bidId,tagid:e.params.adUnit||void 0,bidfloor:P("kadfloor",e.params.kadfloor),secure:1,ext:{pmZoneId:P("pmzoneid",e.params.pmzoneid)},bidfloorcur:e.params.currency?P("currency",e.params.currency):m},e),function(e,t){var n,r="";if(t.params.dctr)if(r=t.params.dctr,Object(i.isStr)(r)&&r.length>0){var a=r.split("|");r="",a.forEach((function(e){r+=e.length>0?e.trim()+"|":""})),n=r.length,"|"===r.substring(n,n-1)&&(r=r.substring(0,n-1)),e.ext.key_val=r.trim()}else Object(i.logWarn)("PubMatic: Ignoring param : dctr with value : "+r+", expects string-value, found empty or non-string value")}(a,e),B(a,e),e.hasOwnProperty("mediaTypes"))for(h in e.mediaTypes)switch(h){case o.b:(n=D(e))!==g&&(a.banner=n);break;case o.c:c.request=JSON.stringify(N(e.nativeParams)),C?Object(i.logWarn)("PubMatic: Error: Error in Native adunit "+e.params.adUnit+". Ignoring the adunit. Refer to http://prebid.org/dev-docs/show-native-ads.html for more details."):a.native=c;break;case o.d:(r=M(e))!==g&&(a.video=r)}else n={pos:0,w:e.params.width,h:e.params.height,topframe:Object(i.inIframe)()?0:1},Object(i.isArray)(u)&&u.length>1&&((u=u.splice(1,u.length-1)).forEach((function(e){b.push({w:e[0],h:e[1]})})),n.format=b),a.banner=n;return function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(i.deepAccess)(t,"ortb2Imp.ext.data"));Object.keys(n).forEach((function(t){"pbadslot"===t?"string"==typeof n[t]&&n[t]&&Object(i.deepSetValue)(e,"ext.data.pbadslot",n[t]):"adserver"===t?["name","adslot"].forEach((function(t){var r=Object(i.deepAccess)(n,"adserver.".concat(t));"string"==typeof r&&r&&(Object(i.deepSetValue)(e,"ext.data.adserver.".concat(t.toLowerCase()),r),"adslot"===t&&Object(i.deepSetValue)(e,"ext.dfp_ad_unit_code",r))})):Object(i.deepSetValue)(e,"ext.data.".concat(t),n[t])}))}(a,e),function(e,t){var n=-1;"function"!=typeof t.getFloor||s.b.getConfig("pubmatic.disableFloors")||[o.b,o.d,o.c].forEach((function(r){if(e.hasOwnProperty(r)){var a=[];"banner"===r&&(e[r].w&&e[r].h&&a.push([e[r].w,e[r].h]),Object(i.isArray)(e[r].format)&&e[r].format.forEach((function(e){return a.push([e.w,e.h])}))),0===a.length&&a.push("*"),a.forEach((function(a){var o=t.getFloor({currency:e.bidfloorcur,mediaType:r,size:a});if(Object(i.logInfo)(p,"floor from floor module returned for mediatype:",r," and size:",a," is: currency",o.currency,"floor",o.floor),"object"===f(o)&&o.currency===e.bidfloorcur&&!isNaN(parseInt(o.floor))){var s=parseFloat(o.floor);Object(i.logInfo)(p,"floor from floor module:",s,"previous floor value",n,"Min:",Math.min(s,n)),n=-1===n?s:Math.min(s,n),Object(i.logInfo)(p,"new floor value:",n)}}))}})),e.bidfloor&&(Object(i.logInfo)(p,"floor from floor module:",n,"impObj.bidfloor",e.bidfloor,"Max:",Math.max(n,e.bidfloor)),n=Math.max(n,e.bidfloor)),e.bidfloor=!isNaN(n)&&n>0?n:g,Object(i.logInfo)(p,"new impObj.bidfloor value:",e.bidfloor)}(a,e),a.hasOwnProperty(o.b)||a.hasOwnProperty(o.c)||a.hasOwnProperty(o.d)?a:g}function L(e,t){var n=null,r=Object(i.deepAccess)(e,"0.userId.flocId");return r&&r.id&&(n=2===t?{id:"FLOC",name:"FLOC",ext:{ver:r.version},segment:[{id:r.id,name:"chrome.com",value:r.id.toString()}]}:{source:"chrome.com",uids:[{atype:1,id:r.id,ext:{ver:r.version}}]}),n}function V(e){return!0===Object(i.isArray)(e)&&e.length>0}Object(i._each)(O,(function(e){T[e.ID]=e.KEY})),Object(i._each)(O,(function(e){j[e.KEY]=e}));var F={code:"pubmatic",gvlid:76,supportedMediaTypes:[o.b,o.d,o.c],aliases:[{code:"groupm",gvlid:98}],isBidRequestValid:function(e){if(e&&e.params){if(!Object(i.isStr)(e.params.publisherId))return Object(i.logWarn)("PubMatic: Error: publisherId is mandatory and cannot be numeric (wrap it in quotes in your config). Call to OpenBid will not be sent for ad unit: "+JSON.stringify(e)),!1;if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(o.d)){var t=Object(i.deepAccess)(e.mediaTypes,"video.mimes"),n=Object(i.deepAccess)(e,"params.video.mimes");if(!1===V(t)&&!1===V(n))return Object(i.logWarn)("PubMatic: Error: For video ads, bid.mediaTypes.video.mimes OR bid.params.video.mimes should be present and must be a non-empty array. Call to OpenBid will not be sent for ad unit:"+JSON.stringify(e)),!1;if(!e.mediaTypes[o.d].hasOwnProperty("context"))return Object(i.logError)("".concat(p,": no context specified in bid. Rejecting bid: "),e),!1;if("outstream"===e.mediaTypes[o.d].context&&!Object(i.isStr)(e.params.outstreamAU)&&!e.hasOwnProperty("renderer")&&!e.mediaTypes[o.d].hasOwnProperty("renderer"))return e.mediaTypes.hasOwnProperty(o.b)||e.mediaTypes.hasOwnProperty(o.c)?(delete e.mediaTypes[o.d],Object(i.logWarn)("".concat(p,': for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting mediatype Video of bid: '),e),!0):(Object(i.logError)("".concat(p,': for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting bid: '),e),!1)}return!0}return!1},buildRequests:function(e,t){var n;t&&t.refererInfo&&(n=t.refererInfo);var r,a=function(e){return{pageURL:e&&e.referer?e.referer:window.location.href,refURL:window.document.referrer}}(n),c=function(e){return{id:""+(new Date).getTime(),at:1,cur:[m],imp:[],site:{page:e.pageURL,ref:e.refURL,publisher:{}},device:{ua:navigator.userAgent,js:1,dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,h:screen.height,w:screen.width,language:navigator.language},user:{},ext:{}}}(a),d="",l=[],p=[];if(e.forEach((function(e){if((r=Object(i.deepClone)(e)).params.adSlot=r.params.adSlot||"",function(e){var t;e.params.adUnit="",e.params.adUnitIndex="0",e.params.width=0,e.params.height=0,e.params.adSlot=(t=e.params.adSlot,Object(i.isStr)(t)?t.replace(/^\s+/g,"").replace(/\s+$/g,""):(t&&Object(i.logWarn)("pubmatic: adSlot must be a string. Ignoring adSlot"),""));var n=e.params.adSlot,r=n.split(":");if(n=r[0],2==r.length&&(e.params.adUnitIndex=r[1]),r=n.split("@"),e.params.adUnit=r[0],r.length>1){if(2!=(r=r[1].split("x")).length)return void Object(i.logWarn)("PubMatic: AdSlot Error: adSlot not in required format");e.params.width=parseInt(r[0],10),e.params.height=parseInt(r[1],10)}else if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(o.b)&&e.mediaTypes.banner.hasOwnProperty("sizes")){for(var a=0,s=[];a<e.mediaTypes.banner.sizes.length;a++)2===e.mediaTypes.banner.sizes[a].length&&s.push(e.mediaTypes.banner.sizes[a]);e.mediaTypes.banner.sizes=s,e.mediaTypes.banner.sizes.length>=1&&(e.params.width=e.mediaTypes.banner.sizes[0][0],e.params.height=e.mediaTypes.banner.sizes[0][1],e.mediaTypes.banner.sizes=e.mediaTypes.banner.sizes.splice(1,e.mediaTypes.banner.sizes.length-1))}}(r),r.mediaTypes&&r.mediaTypes.hasOwnProperty("video")||r.params.hasOwnProperty("video"));else if(!(r.hasOwnProperty("mediaTypes")&&r.mediaTypes.hasOwnProperty(o.c)||0!==r.params.width||0!==r.params.height))return void Object(i.logWarn)("PubMatic: Skipping the non-standard adslot: ",r.params.adSlot,JSON.stringify(r));a.pubId=a.pubId||r.params.publisherId,(a=function(e,t){var n,r,a;for(n in t.kadpageurl||(t.kadpageurl=t.pageURL),b)b.hasOwnProperty(n)&&(r=e[n])&&("object"===f(a=b[n])&&(r=a.f(r,t)),Object(i.isStr)(r)?t[n]=r:Object(i.logWarn)("PubMatic: Ignoring param : "+n+" with value : "+b[n]+", expects string-value, found "+f(r)));return t}(r.params,a)).transactionId=r.transactionId,""===d?d=r.params.currency||g:r.params.hasOwnProperty("currency")&&d!==r.params.currency&&Object(i.logWarn)("PubMatic: Currency specifier ignored. Only one currency permitted."),r.params.currency=d,r.params.hasOwnProperty("dctr")&&Object(i.isStr)(r.params.dctr)&&l.push(r.params.dctr),r.params.hasOwnProperty("bcat")&&Object(i.isArray)(r.params.bcat)&&(p=p.concat(r.params.bcat));var t=U(r);t&&c.imp.push(t)})),0!=c.imp.length){var h,v;c.site.publisher.id=a.pubId.trim(),I=a.pubId.trim(),c.ext.wrapper={},c.ext.wrapper.profile=parseInt(a.profId)||g,c.ext.wrapper.version=parseInt(a.verId)||g,c.ext.wrapper.wiid=a.wiid||t.auctionId,c.ext.wrapper.wv="prebid_prebid_6.13.0",c.ext.wrapper.transactionId=a.transactionId,c.ext.wrapper.wp="pbjs",c.user.gender=a.gender?a.gender.trim():g,c.user.geo={},c.user.geo.lat=P("lat",a.lat),c.user.geo.lon=P("lon",a.lon),c.user.yob=P("yob",a.yob),c.device.geo=c.user.geo,c.site.page=a.kadpageurl.trim()||c.site.page.trim(),c.site.domain=(h=c.site.page,(v=document.createElement("a")).href=h,v.hostname),"object"===f(s.b.getConfig("content"))&&(c.site.content=s.b.getConfig("content")),"object"===f(s.b.getConfig("device"))&&(c.device=u(c.device,s.b.getConfig("device"))),Object(i.deepSetValue)(c,"source.tid",a.transactionId),-1!==window.location.href.indexOf("pubmaticTest=true")&&(c.test=1),e[0].schain&&Object(i.deepSetValue)(c,"source.ext.schain",e[0].schain),t&&t.gdprConsent&&(Object(i.deepSetValue)(c,"user.ext.consent",t.gdprConsent.consentString),Object(i.deepSetValue)(c,"regs.ext.gdpr",t.gdprConsent.gdprApplies?1:0)),t&&t.uspConsent&&Object(i.deepSetValue)(c,"regs.ext.us_privacy",t.uspConsent),!0===s.b.getConfig("coppa")&&Object(i.deepSetValue)(c,"regs.coppa",1),function(e,t){var n=Object(i.deepAccess)(t,"0.userIdAsEids"),r=L(t,1);r&&(n||(n=[]),n.push(r)),Object(i.isArray)(n)&&n.length>0&&Object(i.deepSetValue)(e,"user.eids",n)}(c,e),function(e,t){(t=t.filter((function(e){return"string"==typeof e||(Object(i.logWarn)("PubMatic: bcat: Each category should be a string, ignoring category: "+e),!1)})).map((function(e){return e.trim()})).filter((function(e,t,n){if(e.length>3)return n.indexOf(e)===t;Object(i.logWarn)("PubMatic: bcat: Each category should have a value of a length of more than 3 characters, ignoring category: "+e)}))).length>0&&(Object(i.logWarn)("PubMatic: bcat: Selected: ",t),e.bcat=t)}(c,p),function(e,t){var n=L(t,2);n&&(e.user||(e.user={}),e.user.data||(e.user.data=[]),e.user.data.push(n))}(c,e);var y=s.b.getConfig("ortb2")||{};return y.site&&Object(i.mergeDeep)(c,{site:y.site}),y.user&&Object(i.mergeDeep)(c,{user:y.user}),"object"===f(s.b.getConfig("app"))&&(c.app=s.b.getConfig("app"),c.app.publisher=c.site.publisher,c.app.ext=c.site.ext||g,"object"!==f(c.app.content)&&(c.app.content=c.site.content||g),delete c.site),{method:"POST",url:"https://hbopenbid.pubmatic.com/translator?source=prebid-client",data:JSON.stringify(c),bidderRequest:t}}},interpretResponse:function(e,t){var n=[],r=m,a=JSON.parse(t.data),s=a.site&&a.site.ref?a.site.ref:"";try{e.body&&e.body.seatbid&&Object(i.isArray)(e.body.seatbid)&&(r=e.body.cur||r,e.body.seatbid.forEach((function(e){e.bid&&Object(i.isArray)(e.bid)&&e.bid.forEach((function(c){var u={requestId:c.impid,cpm:(parseFloat(c.price)||0).toFixed(2),width:c.w,height:c.h,creativeId:c.crid||c.id,dealId:c.dealid,currency:r,netRevenue:!0,ttl:300,referrer:s,ad:c.adm,pm_seat:e.seat||null,pm_dspid:c.ext&&c.ext.dspid?c.ext.dspid:null,partnerImpId:c.id||""};a.imp&&a.imp.length>0&&a.imp.forEach((function(e){if(c.impid===e.id)switch(function(e,t){if(e.ext&&null!=e.ext.bidtype)t.mediaType=_[e.ext.bidtype];else{Object(i.logInfo)("PubMatic: bid.ext.bidtype does not exist, checking alternatively for mediaType");var n=e.adm,r="",a=new RegExp(/VAST\s+version/);if(n.indexOf('span class="PubAPIAd"')>=0)t.mediaType=o.b;else if(a.test(n))t.mediaType=o.d;else try{(r=JSON.parse(n.replace(/\\/g,"")))&&r.native&&(t.mediaType=o.c)}catch(e){Object(i.logWarn)("PubMatic: Error: Cannot parse native reponse for ad response: "+n)}}}(c,u),u.mediaType){case o.b:break;case o.d:u.width=c.hasOwnProperty("w")?c.w:e.video.w,u.height=c.hasOwnProperty("h")?c.h:e.video.h,u.vastXml=c.adm,function(e,t){var n,r,i;if(t.bidderRequest&&t.bidderRequest.bids){for(var a=0;a<t.bidderRequest.bids.length;a++)t.bidderRequest.bids[a].bidId===e.requestId&&(n=t.bidderRequest.bids[a].params,r=t.bidderRequest.bids[a].mediaTypes[o.d].context,i=t.bidderRequest.bids[a].adUnitCode);r&&"outstream"===r&&n&&n.outstreamAU&&i&&(e.rendererCode=n.outstreamAU,e.renderer=w.newRenderer(e.rendererCode,i))}}(u,t);break;case o.c:!function(e,t){if(t.native={},e.hasOwnProperty("adm")){var n="";try{n=JSON.parse(e.adm.replace(/\\/g,""))}catch(e){return void Object(i.logWarn)("PubMatic: Error: Cannot parse native reponse for ad response: "+t.adm)}if(n&&n.native&&n.native.assets&&n.native.assets.length>0){t.mediaType=o.c;for(var r=0,a=n.native.assets.length;r<a;r++)switch(n.native.assets[r].id){case O.TITLE.ID:t.native.title=n.native.assets[r].title&&n.native.assets[r].title.text;break;case O.IMAGE.ID:t.native.image={url:n.native.assets[r].img&&n.native.assets[r].img.url,height:n.native.assets[r].img&&n.native.assets[r].img.h,width:n.native.assets[r].img&&n.native.assets[r].img.w};break;case O.ICON.ID:t.native.icon={url:n.native.assets[r].img&&n.native.assets[r].img.url,height:n.native.assets[r].img&&n.native.assets[r].img.h,width:n.native.assets[r].img&&n.native.assets[r].img.w};break;case O.SPONSOREDBY.ID:case O.BODY.ID:case O.LIKES.ID:case O.DOWNLOADS.ID:case O.PRICE:case O.SALEPRICE.ID:case O.PHONE.ID:case O.ADDRESS.ID:case O.DESC2.ID:case O.CTA.ID:case O.RATING.ID:case O.DISPLAYURL.ID:t.native[T[n.native.assets[r].id]]=n.native.assets[r].data&&n.native.assets[r].data.value}t.native.clickUrl=n.native.link&&n.native.link.url,t.native.clickTrackers=n.native.link&&n.native.link.clicktrackers||[],t.native.impressionTrackers=n.native.imptrackers||[],t.native.jstracker=n.native.jstracker||[],t.width||(t.width=0),t.height||(t.height=0)}}}(c,u)}})),c.ext&&c.ext.deal_channel&&(u.dealChannel=S[c.ext.deal_channel]||null),u.meta={},c.ext&&c.ext.dspid&&(u.meta.networkId=c.ext.dspid),c.ext&&c.ext.advid&&(u.meta.buyerId=c.ext.advid),c.adomain&&c.adomain.length>0&&(u.meta.advertiserDomains=c.adomain,u.meta.clickUrl=c.adomain[0]),e.ext&&e.ext.buyid&&(u.adserverTargeting={hb_buyid_pubmatic:e.ext.buyid}),n.push(u)}))})))}catch(e){Object(i.logError)(e)}return n},getUserSyncs:function(e,t,n,r){var i=""+I;return n&&(i+="&gdpr="+(n.gdprApplies?1:0),i+="&gdpr_consent="+encodeURIComponent(n.consentString||"")),r&&(i+="&us_privacy="+encodeURIComponent(r)),!0===s.b.getConfig("coppa")&&(i+="&coppa=1"),e.iframeEnabled?[{type:"iframe",url:"https://ads.pubmatic.com/AdServer/js/user_sync.html?kdntuid=1&p="+i}]:[{type:"image",url:"https://image8.pubmatic.com/AdServer/ImgSync?p="+i}]},transformBidParams:function(e,t,n,r){return B(e,n.bids[0],!0),Object(i.convertTypes)({publisherId:"string",adSlot:"string"},e)}};Object(a.registerBidder)(F),window.pbjs.installedModules.push("pubmaticBidAdapter")}},[762]),pbjsChunk([148],{824:function(e,t,n){e.exports=n(825)},825:function(t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),r.d(n,"spec",(function(){return O})),n.hasVideoMediaType=C,r.d(n,"resetRubiConf",(function(){return j})),n.masSizeOrdering=P,n.determineRubiconVideoSizeId=k,n.getPriceGranularity=x,n.hasValidVideoParams=N,n.hasValidSupplyChainParams=D,n.encodeParam=R,n.resetUserSync=function(){M=!1};var i=r(0),a=r(1),o=r(3),s=r(2),c=r(11),u=r.n(c),d=r(13),l=r(14);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(t){return(v="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}var y={};o.b.getConfig("rubicon",(function(e){Object(i.mergeDeep)(y,e.rubicon)}));var E={1:"468x60",2:"728x90",5:"120x90",7:"125x125",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",17:"240x400",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",42:"2x4",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",85:"300x120",90:"548x150",94:"970x310",95:"970x100",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",152:"1000x250",156:"640x320",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",221:"1x1",229:"320x180",230:"2000x1400",232:"580x400",234:"6x6",251:"2x2",256:"480x820",257:"400x600",258:"500x200",259:"998x200",264:"970x1000",265:"1920x1080",274:"1800x200",278:"320x500",282:"320x400",288:"640x380",548:"500x1000",550:"980x480",552:"300x200",558:"640x640",562:"300x431",564:"320x431",566:"320x300",568:"300x150",570:"300x125",572:"250x350",574:"620x891",576:"610x877",578:"980x552",580:"505x656"};Object(i._each)(E,(function(e,t){return E[e]=t}));var O={code:"rubicon",gvlid:52,supportedMediaTypes:[s.b,s.d],isBidRequestValid:function(e){if("object"!==v(e.params))return!1;for(var t=0,n=["accountId","siteId","zoneId"];t<n.length;t++)if(e.params[n[t]]=parseInt(e.params[n[t]]),isNaN(e.params[n[t]]))return Object(i.logError)("Rubicon: wrong format of accountId or siteId or zoneId."),!1;var r=T(e,!0);return!!r&&("video"!==r||N(e))},buildRequests:function(e,t){var n=[],r=e.filter((function(e){return"video"===T(e)})).map((function(e){e.startTime=(new Date).getTime();var n={id:e.transactionId,test:o.b.getConfig("debug")?1:0,cur:["USD"],source:{tid:e.transactionId},tmax:t.timeout,imp:[{exp:o.b.getConfig("s2sConfig.defaultTtl"),id:e.adUnitCode,secure:1,ext:b({},e.bidder,e.params),video:Object(i.deepAccess)(e,"mediaTypes.video")||{}}],ext:{prebid:{channel:{name:"pbjs",version:pbjs.version},cache:{vastxml:{returnCreative:!0===y.returnVast}},targeting:{includewinners:!0,includebidderkeys:!1,pricegranularity:x(o.b)},bidders:{rubicon:{integration:y.int_type||"pbjs"}}}}};"rubicon"!==e.bidder&&(n.ext.prebid.aliases=b({},e.bidder,"rubicon"));var r,a,c=Object(l.a)().installedModules;if(!c||c.length&&-1===c.indexOf("rubiconAnalyticsAdapter")||Object(i.deepSetValue)(n,"ext.prebid.analytics",{rubicon:{"client-analytics":!0}}),"function"!=typeof e.getFloor||y.disableFloors)r=parseFloat(Object(i.deepAccess)(e,"params.floor"));else{var u;try{u=e.getFloor({currency:"USD",mediaType:"video",size:w(e,"video")})}catch(e){Object(i.logError)("Rubicon: getFloor threw an error: ",e)}r="object"!==v(u)||"USD"!==u.currency||isNaN(parseInt(u.floor))?void 0:parseFloat(u.floor)}isNaN(r)||(n.imp[0].bidfloor=r),n.imp[0].ext[e.bidder].video.size_id=k(e),function(e,t,n){e&&("object"===v(o.b.getConfig("app"))?e.app=o.b.getConfig("app"):e.site={page:A(t,n)},"object"===v(o.b.getConfig("device"))&&(e.device=o.b.getConfig("device")),t.params.video.language&&["site","device"].forEach((function(n){e[n]&&("site"===n?e[n].content=m({language:t.params.video.language},e[n].content):e[n]=m({language:t.params.video.language},e[n]))})))}(n,e,t),function(e,t){"object"===v(e.imp[0].video)&&void 0===e.imp[0].video.skip&&(e.imp[0].video.skip=t.params.video.skip),"object"===v(e.imp[0].video)&&void 0===e.imp[0].video.skipafter&&(e.imp[0].video.skipafter=t.params.video.skipdelay),"object"===v(e.imp[0].video)&&void 0===e.imp[0].video.pos&&("atf"===t.params.position?e.imp[0].video.pos=1:"btf"===t.params.position&&(e.imp[0].video.pos=3));var n=w(t,"video");e.imp[0].video.w=n[0],e.imp[0].video.h=n[1]}(n,e),t.gdprConsent&&("boolean"==typeof t.gdprConsent.gdprApplies&&(a=t.gdprConsent.gdprApplies?1:0),Object(i.deepSetValue)(n,"regs.ext.gdpr",a),Object(i.deepSetValue)(n,"user.ext.consent",t.gdprConsent.consentString)),t.uspConsent&&Object(i.deepSetValue)(n,"regs.ext.us_privacy",t.uspConsent);var d=Object(i.deepAccess)(t,"bids.0.userIdAsEids");d&&d.length&&Object(i.deepSetValue)(n,"user.ext.eids",d);var f=o.b.getConfig("user.id");f&&Object(i.deepSetValue)(n,"user.id",f),!0===o.b.getConfig("coppa")&&Object(i.deepSetValue)(n,"regs.coppa",1),e.schain&&D(e.schain)&&Object(i.deepSetValue)(n,"source.ext.schain",e.schain);var p=o.b.getConfig("multibid");return p&&Object(i.deepSetValue)(n,"ext.prebid.multibid",p.reduce((function(e,t){var n={};return Object.keys(t).forEach((function(e){n[e.toLowerCase()]=t[e]})),e.push(n),e}),[])),_(e,s.d,n),e.storedAuctionResponse&&Object(i.deepSetValue)(n.imp[0],"ext.prebid.storedauctionresponse.id",e.storedAuctionResponse.toString()),Object(i.deepSetValue)(n.imp[0],"ext.prebid.auctiontimestamp",t.auctionStart),{method:"POST",url:"https://".concat(y.videoHost||"prebid-server",".rubiconproject.com/openrtb2/auction"),data:n,bidRequest:e}}));if(!0!==y.singleRequest)n=r.concat(e.filter((function(e){return"banner"===T(e)})).map((function(e){var n=O.createSlotParams(e,t);return{method:"GET",url:"https://".concat(y.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:O.getOrderedParams(n).reduce((function(e,t){var r=n[t];return Object(i.isStr)(r)&&""!==r||Object(i.isNumber)(r)?"".concat(e).concat(R(t,r),"&"):e}),"")+"slots=1&rand=".concat(Math.random()),bidRequest:e}})));else{var a=e.filter((function(e){return"banner"===T(e)})).reduce((function(e,t){return(e[t.params.siteId]=e[t.params.siteId]||[]).push(t),e}),{});n=r.concat(Object.keys(a).reduce((function(e,n){var r;return(r=a[n],r.map((function(e,t){return t%10==0?r.slice(t,t+10):null})).filter((function(e){return e}))).forEach((function(n){var r=O.combineSlotUrlParams(n.map((function(e){return O.createSlotParams(e,t)})));e.push({method:"GET",url:"https://".concat(y.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:O.getOrderedParams(r).reduce((function(e,t){var n=r[t];return Object(i.isStr)(n)&&""!==n||Object(i.isNumber)(n)?"".concat(e).concat(R(t,n),"&"):e}),"")+"slots=".concat(n.length,"&rand=").concat(Math.random()),bidRequest:n})})),e}),[]))}return n},getOrderedParams:function(e){var t=/^tg_v/,n=/^tg_i/,r=/^eid_|^tpid_/,i=["account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","us_privacy","rp_schain"].concat(Object.keys(e).filter((function(e){return r.test(e)}))).concat(["x_liverampidl","ppuid","rf","p_geo.latitude","p_geo.longitude","kw"]).concat(Object.keys(e).filter((function(e){return t.test(e)}))).concat(Object.keys(e).filter((function(e){return n.test(e)}))).concat(["tk_flint","x_source.tid","x_source.pchain","p_screen_res","rp_floor","rp_secure","tk_user_key"]);return i.concat(Object.keys(e).filter((function(e){return-1===i.indexOf(e)})))},combineSlotUrlParams:function(e){if(1===e.length)return e[0];var t=e.reduce((function(t,n,r){return Object.keys(n).forEach((function(i){t.hasOwnProperty(i)||(t[i]=new Array(e.length)),t[i].splice(r,1,n[i])})),t}),{}),n=new RegExp("^([^;]*)(;\\1)+$");return Object.keys(t).forEach((function(e){var r=t[e].join(";"),i=r.match(n);t[e]=i?i[1]:r})),t},createSlotParams:function(e,t){e.startTime=(new Date).getTime();var n=e.params,r=w(e,"banner"),a=g(n.latLong||[],2),c=a[0],d=a[1],l={account_id:n.accountId,site_id:n.siteId,zone_id:n.zoneId,size_id:r[0],alt_size_ids:r.slice(1).join(",")||void 0,rp_floor:(n.floor=parseFloat(n.floor))>=.01?n.floor:void 0,rp_secure:"1",tk_flint:"".concat(y.int_type||"pbjs_lite","_v6.13.0"),"x_source.tid":e.transactionId,"x_source.pchain":n.pchain,p_screen_res:[window.screen.width,window.screen.height].join("x"),tk_user_key:n.userId,"p_geo.latitude":isNaN(parseFloat(c))?void 0:parseFloat(c).toFixed(4),"p_geo.longitude":isNaN(parseFloat(d))?void 0:parseFloat(d).toFixed(4),"tg_fl.eid":e.code,rf:A(e,t)};if("function"==typeof e.getFloor&&!y.disableFloors){var f;try{f=e.getFloor({currency:"USD",mediaType:"banner",size:"*"})}catch(e){Object(i.logError)("Rubicon: getFloor threw an error: ",e)}l.rp_hard_floor="object"!==v(f)||"USD"!==f.currency||isNaN(parseInt(f.floor))?void 0:f.floor}var p={1:"atf",3:"btf"}[Object(i.deepAccess)(e,"mediaTypes.banner.pos")]||"";l.p_pos="atf"===n.position||"btf"===n.position?n.position:p;var m=o.b.getConfig("user.id");return m&&(l.ppuid=m),e.userIdAsEids&&e.userIdAsEids.forEach((function(e){try{if("adserver.org"===e.source?(l.tpid_tdid=e.uids[0].id,l["eid_adserver.org"]=e.uids[0].id):"liveintent.com"===e.source?(l["tpid_liveintent.com"]=e.uids[0].id,l["eid_liveintent.com"]=e.uids[0].id,e.ext&&Array.isArray(e.ext.segments)&&e.ext.segments.length&&(l["tg_v.LIseg"]=e.ext.segments.join(","))):"liveramp.com"===e.source?l.x_liverampidl=e.uids[0].id:"id5-sync.com"===e.source?l["eid_id5-sync.com"]="".concat(e.uids[0].id,"^").concat(e.uids[0].atype,"^").concat(e.uids[0].ext&&e.uids[0].ext.linkType||""):l["eid_".concat(e.source)]="".concat(e.uids[0].id,"^").concat(e.uids[0].atype||""),!l.ppuid){var t=u()(e.uids,(function(e){return e.ext&&"ppuid"===e.ext.stype}));t&&t.id&&(l.ppuid=t.id)}}catch(t){Object(i.logWarn)("Rubicon: error reading eid:",e,t)}})),t.gdprConsent&&("boolean"==typeof t.gdprConsent.gdprApplies&&(l.gdpr=Number(t.gdprConsent.gdprApplies)),l.gdpr_consent=t.gdprConsent.consentString),t.uspConsent&&(l.us_privacy=encodeURIComponent(t.uspConsent)),l.rp_maxbids=t.bidLimit||1,_(e,s.b,l),!0===o.b.getConfig("coppa")&&(l.coppa=1),e.schain&&D(e.schain)&&(l.rp_schain=O.serializeSupplyChain(e.schain)),l},serializeSupplyChain:function(e){if(!D(e))return"";var t=e.ver,n=e.complete,r=e.nodes;return"".concat(t,",").concat(n,"!").concat(O.serializeSupplyChainNodes(r))},serializeSupplyChainNodes:function(e){var t=["asi","sid","hp","rid","name","domain"];return e.map((function(e){return t.map((function(t){return encodeURIComponent(e[t]||"")})).join(",")})).join("!")},interpretResponse:function(e,t){var n=t.bidRequest;if(!(e=e.body)||"object"!==v(e))return[];if(e.seatbid){var r=Object(i.deepAccess)(e,"ext.errors.rubicon");Array.isArray(r)&&r.length>0&&Object(i.logWarn)("Rubicon: Error in video response");var a=[];return e.seatbid.forEach((function(t){(t.bid||[]).forEach((function(r){var o={requestId:n.bidId,currency:e.cur||"USD",creativeId:r.crid,cpm:r.price||0,bidderCode:t.seat,ttl:300,netRevenue:!1!==y.netRevenue,width:r.w||Object(i.deepAccess)(n,"mediaTypes.video.w")||Object(i.deepAccess)(n,"params.video.playerWidth"),height:r.h||Object(i.deepAccess)(n,"mediaTypes.video.h")||Object(i.deepAccess)(n,"params.video.playerHeight")};r.id&&(o.seatBidId=r.id),r.dealid&&(o.dealId=r.dealid),r.adomain&&Object(i.deepSetValue)(o,"meta.advertiserDomains",Array.isArray(r.adomain)?r.adomain:[r.adomain]),Object(i.deepAccess)(r,"ext.bidder.rp.advid")&&Object(i.deepSetValue)(o,"meta.advertiserId",r.ext.bidder.rp.advid);var c=Object(i.deepAccess)(e,"ext.responsetimemillis.rubicon");if(n&&c&&(n.serverResponseTimeMs=c),Object(i.deepAccess)(r,"ext.prebid.type")===s.d){o.mediaType=s.d,Object(i.deepSetValue)(o,"meta.mediaType",s.d);var u=Object(i.deepAccess)(r,"ext.prebid.targeting");u&&"object"===v(u)&&(o.adserverTargeting=u),r.ext.prebid.cache&&"object"===v(r.ext.prebid.cache.vastXml)&&r.ext.prebid.cache.vastXml.cacheId&&r.ext.prebid.cache.vastXml.url?(o.videoCacheKey=r.ext.prebid.cache.vastXml.cacheId,o.vastUrl=r.ext.prebid.cache.vastXml.url):u&&u.hb_uuid&&u.hb_cache_host&&u.hb_cache_path&&(o.videoCacheKey=u.hb_uuid,o.vastUrl="https://".concat(u.hb_cache_host).concat(u.hb_cache_path,"?uuid=").concat(u.hb_uuid)),r.adm&&(o.vastXml=r.adm),r.nurl&&(o.vastUrl=r.nurl),!o.vastUrl&&r.nurl&&(o.vastUrl=r.nurl),"outstream"===Object(i.deepAccess)(n,"mediaTypes.video.context").toLowerCase()&&(o.renderer=function(e){var t=d.a.install({id:e.adId,url:y.rendererUrl||"https://video-outstream.rubiconproject.com/apex-2.2.1.js",config:y.rendererConfig||{},loaded:!1,adUnitCode:e.adUnitCode});try{t.setRender(S)}catch(e){Object(i.logWarn)("Prebid Error calling setRender on renderer",e)}return t}(o))}else Object(i.logWarn)("Rubicon: video response received non-video media type");a.push(o)}))})),a}var o,c=e.ads,u=0;return"object"!==v(n)||Array.isArray(n)||"video"!==T(n)||"object"!==v(c)||(c=c[n.adUnitCode]),!Array.isArray(c)||c.length<1?[]:c.reduce((function(t,r,a){if(r.impression_id&&o===r.impression_id?u++:o=r.impression_id,"ok"!==r.status)return t;var c,d,l=Array.isArray(n)?n[a-u]:n;if(l&&"object"===v(l)){var f={requestId:l.bidId,currency:"USD",creativeId:r.creative_id||"".concat(r.network||"","-").concat(r.advertiser||""),cpm:r.cpm||0,dealId:r.deal,ttl:300,netRevenue:!1!==y.netRevenue,rubicon:{advertiserId:r.advertiser,networkId:r.network},meta:{advertiserId:r.advertiser,networkId:r.network,mediaType:s.b}};if(r.creative_type&&(f.mediaType=r.creative_type),r.adomain&&(f.meta.advertiserDomains=Array.isArray(r.adomain)?r.adomain:[r.adomain]),r.creative_type===s.d)f.width=l.params.video.playerWidth,f.height=l.params.video.playerHeight,f.vastUrl=r.creative_depot_url,f.impression_id=r.impression_id,f.videoCacheKey=r.impression_id;else{f.ad=(c=r.script,d=r.impression_id,"<html>\n<head><script type='text/javascript'>inDapIF=true;<\/script></head>\n<body style='margin : 0; padding: 0;'>\n\x3c!-- Rubicon Project Ad Tag --\x3e\n<div data-rp-impression-id='".concat(d,"'>\n<script type='text/javascript'>").concat(c,"<\/script>\n</div>\n</body>\n</html>"));var p=g(E[r.size_id].split("x").map((function(e){return Number(e)})),2);f.width=p[0],f.height=p[1]}f.rubiconTargeting=(Array.isArray(r.targeting)?r.targeting:[]).reduce((function(e,t){return e[t.key]=t.values[0],e}),{rpfl_elemid:l.adUnitCode}),t.push(f)}else Object(i.logError)("Rubicon: bidRequest undefined at index position:".concat(a),n,e);return t}),[]).sort((function(e,t){return(t.cpm||0)-(e.cpm||0)}))},getUserSyncs:function(e,t,n,r){if(!M&&e.iframeEnabled){var a={};return n&&("boolean"==typeof n.gdprApplies&&(a.gdpr=Number(n.gdprApplies)),"string"==typeof n.consentString&&(a.gdpr_consent=n.consentString)),r&&(a.us_privacy=encodeURIComponent(r)),a=Object.keys(a).length?"?".concat(Object(i.formatQS)(a)):"",M=!0,{type:"iframe",url:"https://".concat(y.syncHost||"eus",".rubiconproject.com/usync.html")+a}}},transformBidParams:function(e,t){return Object(i.convertTypes)({accountId:"number",siteId:"number",zoneId:"number"},e)}};function A(e,t){var n=o.b.getConfig("pageUrl");return e.params.referrer?n=e.params.referrer:n||(n=t.refererInfo.referer),e.params.secure?n.replace(/^http:/i,"https:"):n}function S(e){var t,n=document.getElementById(e.adUnitCode);(t=n.querySelector("div[id^='google_ads']"))&&t.style.setProperty("display","none"),function(e){var t=e.querySelector("script[id^='sas_script']"),n=t&&t.nextSibling;n&&"iframe"===n.localName&&n.style.setProperty("display","none")}(n);var r=e.renderer.getConfig();e.renderer.push((function(){window.MagniteApex.renderAd({width:e.width,height:e.height,vastUrl:e.vastUrl,placement:{attachTo:n,align:r.align||"center",position:r.position||"append"},closeButton:r.closeButton||!1,label:r.label||void 0,collapse:r.collapse||!0})}))}function w(e,t){var n=e.params;if("video"===t){var r=[];return n.video&&n.video.playerWidth&&n.video.playerHeight?r=[n.video.playerWidth,n.video.playerHeight]:Array.isArray(Object(i.deepAccess)(e,"mediaTypes.video.playerSize"))&&1===e.mediaTypes.video.playerSize.length?r=e.mediaTypes.video.playerSize[0]:Array.isArray(e.sizes)&&e.sizes.length>0&&Array.isArray(e.sizes[0])&&e.sizes[0].length>1&&(r=e.sizes[0]),r}var a=[];return Array.isArray(n.sizes)?a=n.sizes:void 0!==Object(i.deepAccess)(e,"mediaTypes.banner.sizes")?a=I(e.mediaTypes.banner.sizes):Array.isArray(e.sizes)&&e.sizes.length>0?a=I(e.sizes):Object(i.logWarn)("Rubicon: no sizes are setup or found"),P(a)}function _(e,t,n){var r={user:{ext:{data:p({},e.params.visitor)}},site:{ext:{data:p({},e.params.inventory)}}};e.params.keywords&&(r.site.keywords=Object(i.isArray)(e.params.keywords)?e.params.keywords.join(","):e.params.keywords);var a=Object(i.mergeDeep)({},o.b.getConfig("ortb2")||{},r),c=Object(i.deepAccess)(e.ortb2Imp,"ext.data")||{},u=Object(i.deepAccess)(e,"ortb2Imp.ext.gpid"),d={user:[4],site:[1,2,5,6]},l={user:"tg_v.",site:"tg_i.",adserver:"tg_i.dfp_ad_unit_code",pbadslot:"tg_i.pbadslot",keywords:"kw"},f=function(e,t,n){if("data"===t&&Array.isArray(e))return e.filter((function(e){return e.segment&&Object(i.deepAccess)(e,"ext.segtax")&&d[n]&&-1!==d[n].indexOf(Object(i.deepAccess)(e,"ext.segtax"))})).map((function(e){var t=e.segment.filter((function(e){return e.id})).reduce((function(e,t){return e.push(t.id),e}),[]);if(t.length>0)return t.toString()})).toString();if("object"!==v(e)||Array.isArray(e)){if(void 0!==e)return Array.isArray(e)?e.filter((function(e){if("object"!==v(e)&&void 0!==e)return e.toString();Object(i.logWarn)("Rubicon: Filtered value: ",e,"for key",t,": Expected value to be string, integer, or an array of strings/ints")})).toString():e.toString()}else Object(i.logWarn)("Rubicon: Filtered FPD key: ",t,": Expected value to be string, integer, or an array of strings/ints")},m=function(e,t,r){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=f(e,r,t),o=l[r]&&i?"".concat(l[r]):"data"===r?"".concat(l[t],"iab"):"".concat(l[t]).concat(r);n[o]=n[o]?n[o].concat(",",a):a};t===s.b?(["site","user"].forEach((function(e){Object.keys(a[e]).forEach((function(t){"site"===e&&"content"===t&&a[e][t].data?m(a[e][t].data,e,"data"):"ext"!==t?m(a[e][t],e,t):a[e][t].data&&Object.keys(a[e].ext.data).forEach((function(t){m(a[e].ext.data[t],e,t,!1)}))}))})),Object.keys(c).forEach((function(e){"adserver"!==e?m(c[e],"site",e):"gam"===c[e].name&&m(c[e].adslot,name,e)})),u&&(n.p_gpid=u),n["tg_i.pbadslot"]&&delete n["tg_i.dfp_ad_unit_code"]):(Object.keys(c).length&&Object(i.mergeDeep)(n.imp[0].ext,{data:c}),u&&(n.imp[0].ext.gpid=u),Object(i.mergeDeep)(n,a))}function I(e){return Object(i.parseSizesInput)(e).reduce((function(e,t){var n=parseInt(E[t],10);return n&&e.push(n),e}),[])}function C(e){return"object"===v(Object(i.deepAccess)(e,"params.video"))&&void 0!==Object(i.deepAccess)(e,"mediaTypes.".concat(s.d))}function T(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return C(e)?-1===["outstream","instream"].indexOf(Object(i.deepAccess)(e,"mediaTypes.".concat(s.d,".context")))?void(t&&Object(i.logError)("Rubicon: mediaTypes.video.context must be outstream or instream")):w(e,"video").length<2?void(t&&Object(i.logError)("Rubicon: could not determine the playerSize of the video")):(t&&Object(i.logMessage)("Rubicon: making video request for adUnit",e.adUnitCode),"video"):0===w(e,"banner").length?void(t&&Object(i.logError)("Rubicon: could not determine the sizes for banner request")):(t&&Object(i.logMessage)("Rubicon: making banner request for adUnit",e.adUnitCode),"banner")}var j=function(){return y={}};function P(e){var t=[15,2,9];return e.sort((function(e,n){var r=t.indexOf(e),i=t.indexOf(n);return r>-1||i>-1?-1===r?1:-1===i?-1:r-i:e-n}))}function k(e){var t=parseInt(Object(i.deepAccess)(e,"params.video.size_id"));return isNaN(t)?"outstream"===Object(i.deepAccess)(e,"mediaTypes.".concat(s.d,".context"))?203:201:t}function x(e){return{ranges:{low:[{max:5,increment:.5}],medium:[{max:20,increment:.1}],high:[{max:20,increment:.01}],auto:[{max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}],dense:[{max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}],custom:e.getConfig("customPriceBucket")&&e.getConfig("customPriceBucket").buckets}[e.getConfig("priceGranularity")]}}function N(e){var t=!0,n=Object.prototype.toString.call([]),r={mimes:n,protocols:n,linearity:Object.prototype.toString.call(0),api:n};return Object.keys(r).forEach((function(n){Object.prototype.toString.call(Object(i.deepAccess)(e,"mediaTypes.video."+n))!==r[n]&&(t=!1,Object(i.logError)("Rubicon: mediaTypes.video."+n+" is required and must be of type: "+r[n]))})),t}function D(e){var t=!1,n=["asi","sid","hp"];return e.nodes?((t=e.nodes.reduce((function(e,t){return e?n.every((function(e){return t.hasOwnProperty(e)})):e}),!0))||Object(i.logError)("Rubicon: required schain params missing"),t):t}function R(e,t){return"rp_schain"===e?"rp_schain=".concat(t):"".concat(e,"=").concat(encodeURIComponent(t))}var M=!1;Object(a.registerBidder)(O),window.pbjs.installedModules.push("rubiconBidAdapter")}},[824]),pbjsChunk([142],{838:function(e,t,n){e.exports=n(839)},839:function(t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),r.d(n,"storage",(function(){return u})),r.d(n,"sharedIdSystemSubmodule",(function(){return v}));var i=r(0),a=r(8),o=r(9),s=r(7);function c(t){return(c="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}var u=Object(s.b)(887,"pubCommonId"),d="cookie",l="html5",f="_pubcid_optout",p="PublisherCommonId";function m(e,t){if(t===d)return u.getCookie(e);if(t===l&&u.hasLocalStorage()){var n=u.getDataFromLocalStorage("".concat(e,"_exp"));if(!n)return u.getDataFromLocalStorage(e);if(new Date(n).getTime()-Date.now()>0)return u.getDataFromLocalStorage(e)}}function g(e,t){return function(n){"function"==typeof t&&t(),n(e)}}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e){var n=Object(i.parseUrl)(e);n.search.id=encodeURIComponent("pubcid:"+t);var r=Object(i.buildUrl)(n);return function(){Object(i.triggerPixel)(r)}}}function b(){return!!(u.cookiesAreEnabled()&&m(f,d)||u.hasLocalStorage()&&m(f,l))}var v={name:"sharedId",aliasName:"pubCommonId",gvlid:887,decode:function(e,t){if(!b())return Object(i.logInfo)(" Decoded value PubCommonId "+e),{pubcid:e};Object(i.logInfo)("PubCommonId decode: Has opted-out")},getId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>2?arguments[2]:void 0;if(b())Object(i.logInfo)("PubCommonId: Has opted-out");else{var n=o.coppaDataHandler.getCoppa();if(!n){var r=e.params,a=(r=void 0===r?{}:r).create,s=void 0===a||a,u=r.pixelUrl,d=t;if(!d){try{"object"===c(window[p])&&(d=window[p].getId())}catch(e){}d||(d=s&&Object(i.hasDeviceAccess)()?Object(i.generateUUID)():void 0)}var l=h(u,d);return{id:d,callback:g(d,l)}}Object(i.logInfo)("PubCommonId: IDs not provided for coppa requests, exiting PubCommonId")}},extendId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>2?arguments[2]:void 0;if(b())return Object(i.logInfo)("PubCommonId: Has opted-out"),{id:void 0};var n=o.coppaDataHandler.getCoppa();if(n)Object(i.logInfo)("PubCommonId: IDs not provided for coppa requests, exiting PubCommonId");else{var r=e.params,a=(r=void 0===r?{}:r).extend,s=void 0!==a&&a,c=r.pixelUrl;if(s){if(c){var u=h(c,t);return{callback:u}}return{id:t}}}},domainOverride:function(){for(var e,t,n=document.domain.split("."),r="_gd".concat(Date.now()),i=0;i<n.length;i++){var a=n.slice(i).join(".");if(u.setCookie(r,"1",void 0,void 0,a),t=u.getCookie(r),u.setCookie(r,"","Thu, 01 Jan 1970 00:00:01 GMT",void 0,a),"1"!==t)return e;e=a}}};Object(a.e)("userId",v),window.pbjs.installedModules.push("sharedIdSystem")}},[838]),pbjsChunk([25],{15:function(e,t,n){t.b=function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n))if("pubProvidedId"===n)t=t.concat(e.pubProvidedId);else{var r=a(e[n],n);r&&t.push(r)}return t},t.a=function(e){var t=[];return e.filter((function(e){return Object(r.isPlainObject)(e.idObj)&&Object.keys(e.idObj).length})).forEach((function(e){Object.keys(e.idObj).forEach((function(n){Object(r.deepAccess)(e,"config.bidders")&&Array.isArray(e.config.bidders)&&Object(r.deepAccess)(i,n+".source")&&t.push({source:i[n].source,bidders:e.config.bidders})}))})),t};var r=n(0),i={trustpid:{source:"trustpid.com",atype:1,getValue:function(e){return e}},intentIqId:{source:"intentiq.com",atype:1},naveggId:{source:"navegg.com",atype:1},justId:{source:"justtag.com",atype:1},pubcid:{source:"pubcid.org",atype:1},tdid:{source:"adserver.org",atype:1,getUidExt:function(){return{rtiPartner:"TDID"}}},id5id:{getValue:function(e){return e.uid},source:"id5-sync.com",atype:1,getUidExt:function(e){if(e.ext)return e.ext}},parrableId:{source:"parrable.com",atype:1,getValue:function(e){return e.eid?e.eid:e.ccpaOptout?"":null},getUidExt:function(e){var t=Object(r.pick)(e,["ibaOptout","ccpaOptout"]);if(Object.keys(t).length)return t}},idl_env:{source:"liveramp.com",atype:3},lipb:{getValue:function(e){return e.lipbid},source:"liveintent.com",atype:3,getEidExt:function(e){if(Array.isArray(e.segments)&&e.segments.length)return{segments:e.segments}}},britepoolid:{source:"britepool.com",atype:3},dmdId:{source:"hcn.health",atype:3},lotamePanoramaId:{source:"crwdcntrl.net",atype:1},criteoId:{source:"criteo.com",atype:1},merkleId:{source:"merkleinc.com",atype:3,getValue:function(e){return e.id},getUidExt:function(e){return e&&e.keyID?{keyID:e.keyID}:void 0}},netId:{source:"netid.de",atype:1},IDP:{source:"zeotap.com",atype:1},hadronId:{source:"audigent.com",atype:1},haloId:{source:"audigent.com",atype:1},quantcastId:{source:"quantcast.com",atype:1},nextrollId:{source:"nextroll.com",atype:1},idx:{source:"idx.lat",atype:1},connectid:{source:"verizonmedia.com",atype:3},fabrickId:{source:"neustar.biz",atype:1},mwOpenLinkId:{source:"mediawallahscript.com",atype:1},tapadId:{source:"tapad.com",atype:1},novatiq:{getValue:function(e){return e.snowflake},source:"novatiq.com",atype:1},uid2:{source:"uidapi.com",atype:3,getValue:function(e){return e.id}},dapId:{source:"akamai.com",atype:1},deepintentId:{source:"deepintent.com",atype:3},admixerId:{source:"admixer.net",atype:3},adtelligentId:{source:"adtelligent.com",atype:3},amxId:{source:"amxrtb.com",atype:1},publinkId:{source:"epsilon.com",atype:3},kpuid:{source:"kpuid.com",atype:3},imuid:{source:"intimatemerger.com",atype:1},connectId:{source:"yahoo.com",atype:3},qid:{source:"adquery.io",atype:1}};function a(e,t){var n=i[t];if(n&&e){var a={};a.source=n.source;var o=Object(r.isFn)(n.getValue)?n.getValue(e):e;if(Object(r.isStr)(o)){var s={id:o,atype:n.atype};if(Object(r.isFn)(n.getUidExt)){var c=n.getUidExt(e);c&&(s.ext=c)}if(a.uids=[s],Object(r.isFn)(n.getEidExt)){var u=n.getEidExt(e);u&&(a.ext=u)}return a}}return null}},842:function(e,t,n){e.exports=n(843)},843:function(t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),r.d(n,"sharethroughInternal",(function(){return b})),r.d(n,"sharethroughAdapterSpec",(function(){return v}));var i=r(0),a=r(1),o=r(3),s=r(2),c=r(15);function u(t){return(u="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g="sharethrough",h="https://btlr.sharethrough.com/universal/v1?supply_id=".concat("WYu2BXv1"),b={getProtocol:function(){return window.location.protocol}},v={code:g,supportedMediaTypes:[s.d,s.b],gvlid:80,isBidRequestValid:function(e){return!!e.params.pkey&&e.bidder===g},buildRequests:function(e,t){var n=o.b.getConfig("bidderTimeout"),r=o.b.getConfig("ortb2")||{},a=b.getProtocol().indexOf("http")<0||b.getProtocol().indexOf("https")>-1,s={id:Object(i.generateUUID)(),at:1,cur:["USD"],tmax:n,site:p({domain:window.location.hostname,page:window.location.href,ref:Object(i.deepAccess)(t,"refererInfo.referer")},r.site),device:{ua:navigator.userAgent,language:navigator.language,js:1,dnt:"1"===navigator.doNotTrack?1:0,h:window.screen.height,w:window.screen.width},regs:{coppa:!0===o.b.getConfig("coppa")?1:0,ext:{}},source:{ext:{version:"6.13.0",str:"4.1.0",schain:e[0].schain}},bcat:e[0].params.bcat||[],badv:e[0].params.badv||[],test:0};if(s.user=A(r.user,{}),s.user.ext||(s.user.ext={}),s.user.ext.eids=function(e){var t=Object(c.b)(Object(i.deepAccess)(e,"userId"))||[],n=Object(i.deepAccess)(e,"userId.flocId");return n&&n.id&&n.version&&t.push({source:"chrome.com",uids:[{id:n.id,atype:1,ext:{ver:n.version}}]}),t}(e[0]),t.gdprConsent){var u=!0===t.gdprConsent.gdprApplies;s.regs.ext.gdpr=u?1:0,u&&(s.user.ext.consent=t.gdprConsent.consentString)}return t.uspConsent&&(s.regs.ext.us_privacy=t.uspConsent),e.map((function(e){var t={},n=Object(i.deepAccess)(e,"ortb2Imp.ext.data.pbadslot");n&&(t.ext={gpid:n});var r=Object(i.deepAccess)(e,"mediaTypes.video");if(r){var o=640,s=360;if(r.playerSize&&r.playerSize[0]&&r.playerSize[1]){var c=d(r.playerSize,2);o=c[0],s=c[1]}t.video={pos:A(r.pos,0),topframe:Object(i.inIframe)()?0:1,skip:A(r.skip,0),linearity:A(r.linearity,1),minduration:A(r.minduration,5),maxduration:A(r.maxduration,60),playbackmethod:r.playbackmethod||[2],api:y(r),mimes:r.mimes||["video/mp4"],protocols:E(r),w:o,h:s,startdelay:A(r.startdelay,0),skipmin:A(r.skipmin,0),skipafter:A(r.skipafter,0),placement:"instream"===r.context?1:+Object(i.deepAccess)(r,"placement",4)},r.delivery&&(t.video.delivery=r.delivery),r.companiontype&&(t.video.companiontype=r.companiontype),r.companionad&&(t.video.companionad=r.companionad)}else t.banner={pos:Object(i.deepAccess)(e,"mediaTypes.banner.pos",0),topframe:Object(i.inIframe)()?0:1,format:e.sizes.map((function(e){return{w:+e[0],h:+e[1]}}))};return p({id:e.bidId,tagid:String(e.params.pkey),secure:a?1:0,bidfloor:O(e)},t)})).filter((function(e){return!!e})).map((function(e){return{method:"POST",url:h,data:p(p({},s),{},{imp:[e]})}}))},interpretResponse:function(e,t){var n=e.body;return n&&n.seatbid&&0!==n.seatbid.length&&n.seatbid[0].bid&&0!==n.seatbid[0].bid.length?n.seatbid[0].bid.map((function(e){var r={requestId:e.impid,width:+e.w,height:+e.h,cpm:+e.price,creativeId:e.crid,dealId:e.dealid||null,mediaType:t.data.imp[0].video?s.d:s.b,currency:n.cur||"USD",netRevenue:!0,ttl:360,ad:e.adm,nurl:e.nurl,meta:{advertiserDomains:e.adomain||[]}};return r.mediaType===s.d&&(r.ttl=3600,r.vastXml=e.adm),r})):[]},getUserSyncs:function(e,t,n,r){var i=r?"&us_privacy=".concat(r):"",a=[];return e.pixelEnabled&&t.length>0&&t[0].body&&t[0].body.cookieSyncUrls&&t[0].body.cookieSyncUrls.forEach((function(e){a.push({type:"image",url:e+i})})),a},onTimeout:function(e){},onBidWon:function(e){},onSetTargeting:function(e){}};function y(e){var t=e.api;return t&&Array.isArray(t)&&t.length>0?t:[2]}function E(e){var t=e.protocols;return t&&Array.isArray(t)&&t.length>0?t:[2,3,5,6,7,8]}function O(e){var t=null;if("function"==typeof e.getFloor){var n=e.getFloor({currency:"USD",mediaType:e.mediaTypes&&e.mediaTypes.video?"video":"banner",size:e.sizes.map((function(e){return{w:e[0],h:e[1]}}))});"object"!==u(n)||"USD"!==n.currency||isNaN(parseFloat(n.floor))||(t=parseFloat(n.floor))}return null!==t?t:e.params.floor}function A(e,t){return null==e?t:e}Object(a.registerBidder)(v),window.pbjs.installedModules.push("sharethroughBidAdapter")}},[842]),pbjsChunk([23],{15:function(e,t,n){t.b=function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n))if("pubProvidedId"===n)t=t.concat(e.pubProvidedId);else{var r=a(e[n],n);r&&t.push(r)}return t},t.a=function(e){var t=[];return e.filter((function(e){return Object(r.isPlainObject)(e.idObj)&&Object.keys(e.idObj).length})).forEach((function(e){Object.keys(e.idObj).forEach((function(n){Object(r.deepAccess)(e,"config.bidders")&&Array.isArray(e.config.bidders)&&Object(r.deepAccess)(i,n+".source")&&t.push({source:i[n].source,bidders:e.config.bidders})}))})),t};var r=n(0),i={trustpid:{source:"trustpid.com",atype:1,getValue:function(e){return e}},intentIqId:{source:"intentiq.com",atype:1},naveggId:{source:"navegg.com",atype:1},justId:{source:"justtag.com",atype:1},pubcid:{source:"pubcid.org",atype:1},tdid:{source:"adserver.org",atype:1,getUidExt:function(){return{rtiPartner:"TDID"}}},id5id:{getValue:function(e){return e.uid},source:"id5-sync.com",atype:1,getUidExt:function(e){if(e.ext)return e.ext}},parrableId:{source:"parrable.com",atype:1,getValue:function(e){return e.eid?e.eid:e.ccpaOptout?"":null},getUidExt:function(e){var t=Object(r.pick)(e,["ibaOptout","ccpaOptout"]);if(Object.keys(t).length)return t}},idl_env:{source:"liveramp.com",atype:3},lipb:{getValue:function(e){return e.lipbid},source:"liveintent.com",atype:3,getEidExt:function(e){if(Array.isArray(e.segments)&&e.segments.length)return{segments:e.segments}}},britepoolid:{source:"britepool.com",atype:3},dmdId:{source:"hcn.health",atype:3},lotamePanoramaId:{source:"crwdcntrl.net",atype:1},criteoId:{source:"criteo.com",atype:1},merkleId:{source:"merkleinc.com",atype:3,getValue:function(e){return e.id},getUidExt:function(e){return e&&e.keyID?{keyID:e.keyID}:void 0}},netId:{source:"netid.de",atype:1},IDP:{source:"zeotap.com",atype:1},hadronId:{source:"audigent.com",atype:1},haloId:{source:"audigent.com",atype:1},quantcastId:{source:"quantcast.com",atype:1},nextrollId:{source:"nextroll.com",atype:1},idx:{source:"idx.lat",atype:1},connectid:{source:"verizonmedia.com",atype:3},fabrickId:{source:"neustar.biz",atype:1},mwOpenLinkId:{source:"mediawallahscript.com",atype:1},tapadId:{source:"tapad.com",atype:1},novatiq:{getValue:function(e){return e.snowflake},source:"novatiq.com",atype:1},uid2:{source:"uidapi.com",atype:3,getValue:function(e){return e.id}},dapId:{source:"akamai.com",atype:1},deepintentId:{source:"deepintent.com",atype:3},admixerId:{source:"admixer.net",atype:3},adtelligentId:{source:"adtelligent.com",atype:3},amxId:{source:"amxrtb.com",atype:1},publinkId:{source:"epsilon.com",atype:3},kpuid:{source:"kpuid.com",atype:3},imuid:{source:"intimatemerger.com",atype:1},connectId:{source:"yahoo.com",atype:3},qid:{source:"adquery.io",atype:1}};function a(e,t){var n=i[t];if(n&&e){var a={};a.source=n.source;var o=Object(r.isFn)(n.getValue)?n.getValue(e):e;if(Object(r.isStr)(o)){var s={id:o,atype:n.atype};if(Object(r.isFn)(n.getUidExt)){var c=n.getUidExt(e);c&&(s.ext=c)}if(a.uids=[s],Object(r.isFn)(n.getEidExt)){var u=n.getEidExt(e);u&&(a.ext=u)}return a}}return null}},856:function(e,t,n){e.exports=n(857)},857:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"spec",(function(){return c}));var r=n(0),i=n(2),a=n(3),o=n(15),s=n(1),c={code:"smartadserver",gvlid:45,aliases:["smart"],supportedMediaTypes:[i.b,i.d],isBidRequestValid:function(e){return!!(e.params&&e.params.siteId&&e.params.pageId&&e.params.formatId)},serializeSupplyChain:function(e){if(!e||!e.nodes)return null;var t=["asi","sid","hp","rid","name","domain"];return"".concat(e.ver,",").concat(e.complete,"!")+e.nodes.map((function(e){return t.map((function(t){return e[t]?encodeURIComponent(e[t]):""})).join(",")})).join("!")},adaptBannerSizes:function(e){return e.map((function(e){return{w:e[0],h:e[1]}}))},fillPayloadForVideoBidRequest:function(e,t,n){var r=t.playerSize[0];e.isVideo="instream"===t.context,e.mediaType=i.d,e.videoData={videoProtocol:this.getProtocolForVideoBidRequest(t,n),playerWidth:r[0],playerHeight:r[1],adBreak:this.getStartDelayForVideoBidRequest(t,n)}},getProtocolForVideoBidRequest:function(e,t){return void 0!==t&&t.protocol?t.protocol:void 0!==e&&Array.isArray(e.protocols)?Math.max.apply(Math,e.protocols):null},getStartDelayForVideoBidRequest:function(e,t){if(void 0!==t&&t.startDelay)return t.startDelay;if(void 0!==e){if(0==e.startdelay)return 1;if(-1==e.startdelay)return 2;if(-2==e.startdelay)return 3}return 2},createServerRequest:function(e,t){return{method:"POST",url:(void 0!==t?t:"https://prg.smartadserver.com")+"/prebid/v1",data:JSON.stringify(e)}},buildRequests:function(e,t){var n=a.b.getConfig("currency.adServerCurrency");return e.reduce((function(e,i){var s={siteid:i.params.siteId,pageid:i.params.pageId,formatid:i.params.formatId,currencyCode:n,bidfloor:i.params.bidfloor||c.getBidFloor(i,n),targeting:i.params.target&&""!==i.params.target?i.params.target:void 0,buid:i.params.buId&&""!==i.params.buId?i.params.buId:void 0,appname:i.params.appName&&""!==i.params.appName?i.params.appName:void 0,ckid:i.params.ckId||0,tagId:i.adUnitCode,pageDomain:t&&t.refererInfo&&t.refererInfo.referer?t.refererInfo.referer:void 0,transactionId:i.transactionId,timeout:a.b.getConfig("bidderTimeout"),bidId:i.bidId,prebidVersion:"6.13.0",schain:c.serializeSupplyChain(i.schain)};t&&t.gdprConsent&&(s.addtl_consent=t.gdprConsent.addtlConsent,s.gdpr_consent=t.gdprConsent.consentString,s.gdpr=t.gdprConsent.gdprApplies),i&&i.userId&&(s.eids=Object(o.b)(i.userId)),t&&t.uspConsent&&(s.us_privacy=t.uspConsent);var u=Object(r.deepAccess)(i,"mediaTypes.video"),d=Object(r.deepAccess)(i,"mediaTypes.banner"),l=u&&("instream"===u.context||"outstream"===u.context);if(!l&&d)s.sizes=c.adaptBannerSizes(d.sizes),e.push(c.createServerRequest(s,i.params.domain));else if(l&&!d)c.fillPayloadForVideoBidRequest(s,u,i.params.video),e.push(c.createServerRequest(s,i.params.domain));else if(l&&d){var f=Object(r.deepClone)(s);c.fillPayloadForVideoBidRequest(f,u,i.params.video),e.push(c.createServerRequest(f,i.params.domain)),s.sizes=c.adaptBannerSizes(d.sizes),e.push(c.createServerRequest(s,i.params.domain))}else e.push({});return e}),[])},interpretResponse:function(e,t){var n=[],a=e.body;try{if(a&&!a.isNoAd){var o=JSON.parse(t.data),s={requestId:o.bidId,cpm:a.cpm,width:a.width,height:a.height,creativeId:a.creativeId,dealId:a.dealId,currency:a.currency,netRevenue:a.isNetCpm,ttl:a.ttl,dspPixels:a.dspPixels,meta:{advertiserDomains:a.adomain?a.adomain:[]}};o.mediaType===i.d?(s.mediaType=i.d,s.vastUrl=a.adUrl,s.vastXml=a.ad,s.content=a.ad):(s.adUrl=a.adUrl,s.ad=a.ad),n.push(s)}}catch(e){Object(r.logError)("Error while parsing smart server response",e)}return n},getBidFloor:function(e,t){if(!Object(r.isFn)(e.getFloor))return 0;var n=e.getFloor({currency:t||"USD",mediaType:"*",size:"*"});return Object(r.isPlainObject)(n)&&!isNaN(n.floor)?n.floor:0},getUserSyncs:function(e,t){var n=[];return e.iframeEnabled&&t.length>0&&null!=t[0].body.cSyncUrl?n.push({type:"iframe",url:t[0].body.cSyncUrl}):e.pixelEnabled&&t.length>0&&void 0!==t[0].body.dspPixels&&t[0].body.dspPixels.forEach((function(e){n.push({type:"image",url:e})})),n}};Object(s.registerBidder)(c),window.pbjs.installedModules.push("smartadserverBidAdapter")}},[856]),pbjsChunk([132],{868:function(e,t,n){e.exports=n(869)},869:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"spec",(function(){return h})),n.d(t,"_isInbounds",(function(){return O})),t._getPlatform=A;var r=n(1),i=n(0),a=n(2),o=n(3),s=n(13),c=n(61);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p="sonobi",m=Object(i.generateUUID)(),g="https://mtrx.go.sonobi.com/sbi_outstream_renderer.js",h={code:p,supportedMediaTypes:[a.b,a.d],isBidRequestValid:function(e){if(!e.params)return!1;if(!e.params.ad_unit&&!e.params.placement_id)return!1;if(!Object(i.deepAccess)(e,"mediaTypes.banner")&&!Object(i.deepAccess)(e,"mediaTypes.video"))return!1;if(Object(i.deepAccess)(e,"mediaTypes.banner")){if(!Object(i.deepAccess)(e,"mediaTypes.banner.sizes")&&!e.params.sizes)return!1}else if(Object(i.deepAccess)(e,"mediaTypes.video")){if("outstream"===Object(i.deepAccess)(e,"mediaTypes.video.context")&&!e.params.sizes)return!1;if("instream"===Object(i.deepAccess)(e,"mediaTypes.video.context")&&!Object(i.deepAccess)(e,"mediaTypes.video.playerSize"))return!1}return!0},buildRequests:function(e,t){var n=e.map((function(e){var t=function(e){return e.params.ad_unit?e.params.ad_unit:e.params.placement_id}(e);return/^[\/]?[\d]+[[\/].+[\/]?]?$/.test(t)?(t="/"===t.charAt(0)?t:"/"+t,f({},"".concat(t,"|").concat(e.bidId),"".concat(b(e)).concat(v(e)).concat(y(e)))):/^[0-9a-fA-F]{20}$/.test(t)&&20===t.length?f({},e.bidId,"".concat(t,"|").concat(b(e)).concat(v(e)).concat(y(e))):void Object(i.logError)("The ad unit code or Sonobi Placement id for slot ".concat(e.bidId," is invalid"))})),r={};n.forEach((function(e){l(r,e)}));var a={key_maker:JSON.stringify(r),ref:t.refererInfo.referer,s:Object(i.generateUUID)(),pv:m,vp:A(),lib_name:"prebid",lib_v:"6.13.0",us:0},s=o.b.getConfig("ortb2");if(s&&(a.fpd=JSON.stringify(s)),o.b.getConfig("userSync")&&o.b.getConfig("userSync").syncsPerBidder&&(a.us=o.b.getConfig("userSync").syncsPerBidder),c.a.canBidderRegisterSync("iframe",p)?a.ius=1:a.ius=0,Object(i.deepAccess)(e[0],"params.hfa")&&(a.hfa=Object(i.deepAccess)(e[0],"params.hfa")),e[0].params.referrer&&(a.ref=e[0].params.referrer),t&&t.gdprConsent&&(a.gdpr=t.gdprConsent.gdprApplies?"true":"false",t.gdprConsent.consentString&&(a.consent_string=t.gdprConsent.consentString)),e[0].schain&&(a.schain=JSON.stringify(e[0].schain)),Object(i.deepAccess)(e[0],"userId")&&Object.keys(e[0].userId).length>0){var u=Object(i.deepClone)(e[0].userId);u.id5id&&(u.id5id=Object(i.deepAccess)(u,"id5id.uid")),a.userid=JSON.stringify(u)}var d=Object(i.deepAccess)(e[0],"userIdAsEids");Array.isArray(d)&&d.length>0&&(a.eids=JSON.stringify(d));var g=e[0].params.keywords;if(g&&(a.kw=g),t&&t.uspConsent&&(a.us_privacy=t.uspConsent),!0===o.b.getConfig("coppa")?a.coppa=1:a.coppa=0,Object(i.isEmpty)(r))return null;var h="https://apex.go.sonobi.com/trinity.json";return Object(i.deepAccess)(e[0],"params.bid_request_url")&&(h=Object(i.deepAccess)(e[0],"params.bid_request_url")),{method:"GET",url:h,withCredentials:!0,data:a,bidderRequests:e}},interpretResponse:function(e,t){var n=e.body,r=[],a=t.data.ref;return 0===Object.keys(n.slots).length||Object.keys(n.slots).forEach((function(e){var o=n.slots[e],c=e.split("|").slice(-1)[0],d=function(e,t){for(var n=0;n<e.length;n++)if(e[n].bidId===t)return e[n]}(t.bidderRequests,c),l=null;"video"===o.sbi_ct&&(l="video","outstream"===Object(i.deepAccess)(d,"mediaTypes.video.context")&&(l="outstream"));var f=E(l,a);if(o.sbi_aid&&o.sbi_mouse&&o.sbi_size){var p=u(o.sbi_size.split("x"),2),m=p[0],h=void 0===m?1:m,b=p[1],v=void 0===b?1:b,y=[];o.sbi_adomain&&(y=[o.sbi_adomain]);var O={requestId:c,cpm:Number(o.sbi_mouse),width:Number(h),height:Number(v),ad:f(n.sbi_dc,o.sbi_aid),ttl:500,creativeId:o.sbi_crid||o.sbi_aid,aid:o.sbi_aid,netRevenue:!0,currency:"USD",meta:{advertiserDomains:y}};if(o.sbi_dozer&&(O.dealId=o.sbi_dozer),"video"===l)O.mediaType="video",O.vastUrl=f(n.sbi_dc,o.sbi_aid),delete O.ad,delete O.width,delete O.height;else if("outstream"===l&&d){delete O.ad,O.mediaType="video",O.vastUrl=f(n.sbi_dc,o.sbi_aid),O.renderer=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=s.a.install({id:t.aid,url:g,config:n,loaded:!1,adUnitCode:e});try{r.setRender(S)}catch(e){Object(i.logWarn)("Prebid Error calling setRender on renderer",e)}return r.setEventHandlers({impression:function(){return Object(i.logMessage)("Sonobi outstream video impression event")},loaded:function(){return Object(i.logMessage)("Sonobi outstream video loaded event")},ended:function(){Object(i.logMessage)("Sonobi outstream renderer video event")}}),r}(d.adUnitCode,O,Object(i.deepAccess)(d,"renderer.options"));var A=Object(i.deepAccess)(d,"params.sizes");Array.isArray(A)&&Array.isArray(A[0])&&(A=A[0]),A&&(O.width=A[0],O.height=A[1])}r.push(O)}})),r},getUserSyncs:function(e,t,n,r){var i=[];try{e.pixelEnabled&&t[0].body.sbi_px.forEach((function(e){i.push({type:e.type,url:e.url})}))}catch(e){}return i}};function b(e){return Object(i.deepAccess)(e,"mediaTypes.video")?"":e.params.sizes?Object(i.parseSizesInput)(e.params.sizes).join(","):Object(i.deepAccess)(e,"mediaTypes.banner.sizes")?Object(i.parseSizesInput)(Object(i.deepAccess)(e,"mediaTypes.banner.sizes")).join(","):e.sizes?Object(i.parseSizesInput)(e.sizes).join(","):void 0}function v(e){var t=function(e){if(!Object(i.isFn)(e.getFloor))return e.params.floor?e.params.floor:null;var t=e.getFloor({currency:"USD",mediaType:"*",size:"*"});return Object(i.isPlainObject)(t)&&!isNaN(t.floor)&&"USD"===t.currency?t.floor:""}(e);return t?"|f=".concat(t):""}function y(e){var t=Object(i.deepAccess)(e,"ortb2Imp.ext.data.pbadslot")||Object(i.deepAccess)(Object(i.getGptSlotInfoForAdUnitCode)(e.adUnitCode),"gptSlot")||e.params.ad_unit;return t?"|gpid=".concat(t):""}var E=function(e,t){return function(n,r){return"video"===e||"outstream"===e?function(e,t,n){return"https://".concat(e,"apex.go.sonobi.com/vast.xml?vid=").concat(t,"&ref=").concat(encodeURIComponent(n))}(n,r,t):'<script type="text/javascript" src="'+"https://".concat(n,"apex.go.sonobi.com/sbi.js?aid=").concat(r,"&as=null&ref=").concat(encodeURIComponent(t))+'"><\/script>'}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER;return e.innerWidth>=t&&e.innerWidth<n}};function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=O(e),n={lt:768},r={lt:992,ge:768};return t(0,n.lt)?"mobile":t(r.ge,r.lt)?"tablet":"desktop"}function S(e){e.renderer.push((function(){var t=u(e.getSize().split("x"),2),n=t[0],r=t[1],i=new window.SbiOutstreamRenderer;i.init({vastUrl:e.vastUrl,height:r,width:n}),i.setRootElement(e.adUnitCode)}))}Object(r.registerBidder)(h),window.pbjs.installedModules.push("sonobiBidAdapter")}},[868]),pbjsChunk([131],{878:function(e,t,n){e.exports=n(879)},879:function(t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),r.d(n,"GOOGLE_CONSENT",(function(){return u})),r.d(n,"spec",(function(){return d}));var i=r(0),a=r(13),o=r(1),s=r(2);function c(t){return(c="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}var u={consented_providers:["3","7","11","12","15","20","22","35","43","46","48","55","57","61","62","66","70","80","83","85","86","89","93","108","122","124","125","126","131","134","135","136","143","144","147","149","153","154","159","161","162","165","167","171","178","184","188","192","195","196","202","209","211","218","221","228","229","230","236","239","241","253","255","259","266","271","272","274","286","291","294","303","308","310","311","313","314","316","317","322","323","327","336","338","340","348","350","358","359","363","367","370","371","384","385","389","393","394","397","398","407","414","415","424","429","430","432","436","438","440","442","443","445","448","449","453","459","479","482","486","491","492","494","495","503","505","510","522","523","528","537","540","550","559","560","568","571","574","575","576","584","585","587","588","590","591","592","595","609","621","624","723","725","733","737","776","780","782","787","797","798","802","803","814","817","820","821","827","829","839","853","864","867","874","899","904","922","926","931","932","933","938","955","973","976","979","981","985","987","991","1003","1024","1025","1027","1028","1029","1033","1034","1040","1047","1048","1051","1052","1053","1054","1062","1063","1067","1072","1085","1092","1095","1097","1099","1100","1107","1126","1127","1143","1149","1152","1162","1166","1167","1170","1171","1172","1188","1192","1199","1201","1204","1205","1211","1212","1215","1220","1225","1226","1227","1230","1232","1236","1241","1248","1250","1252","1268","1275","1276","1284","1286","1298","1301","1307","1312","1313","1317","1329","1336","1344","1345","1356","1362","1365","1375","1403","1409","1411","1415","1416","1419","1423","1440","1442","1449","1451","1455","1456","1468","1496","1503","1509","1512","1514","1517","1520","1525","1540","1547","1548","1555","1558","1570","1575","1577","1579","1583","1584","1591","1598","1603","1608","1613","1616","1626","1631","1633","1638","1642","1648","1651","1652","1653","1660","1665","1667","1669","1671","1674","1677","1678","1682","1684","1697","1703","1705","1716","1720","1721","1722","1725","1732","1733","1735","1739","1741","1745","1750","1753","1760","1765","1769","1776","1780","1782","1786","1791","1794","1799","1800","1801","1810","1827","1831","1832","1834","1837","1840","1843","1844","1845","1858","1859","1863","1866","1870","1872","1875","1878","1880","1882","1883","1889","1892","1896","1898","1899","1902","1905","1911","1922","1928","1929","1934","1942","1943","1944","1945","1958","1960","1962","1963","1964","1967","1968","1978","1985","1986","1987","1998","2003","2007","2012","2013","2027","2035","2038","2039","2044","2047","2052","2056","2059","2062","2064","2068","2070","2072","2078","2079","2084","2088","2090","2095","2100","2103","2107","2109","2113","2115","2121","2127","2130","2133","2137","2140","2141","2145","2147","2150","2156","2166","2170","2171","2176","2177","2179","2183","2186","2192","2198","2202","2205","2214","2216","2219","2220","2222","2223","2224","2225","2227","2228","2234","2238","2247","2251","2253","2262","2264","2271","2276","2278","2279","2282","2290","2292","2295","2299","2305","2306","2310","2311","2312","2315","2320","2325","2328","2331","2334","2335","2336","2337","2343","2346","2354","2357","2358","2359","2366","2370","2373","2376","2377","2380","2382","2387","2389","2392","2394","2400","2403","2405","2406","2407","2410","2411","2413","2414","2415","2416","2418","2422","2425","2427","2435","2437","2440","2441","2447","2453","2459","2461","2462","2464","2467","2468","2472","2477","2481","2484","2486","2492","2493","2496","2497","2498","2499","2504","2506","2510","2511","2512","2517","2526","2527","2531","2532","2534","2542","2544","2552","2555","2559","2563","2564","2567","2568","2569","2571","2572","2573","2575","2577","2579","2583","2584","2586","2589","2595","2596","2597","2601","2604","2605","2609","2610","2612","2614","2621","2622","2624","2628","2629","2632","2634","2636","2639","2643","2645","2646","2647","2649","2650","2651","2652","2656","2657","2658","2660","2661","2662","2663","2664","2669","2670","2673","2676","2677","2678","2681","2682","2684","2685","2686","2689","2690","2691","2695","2698","2699","2702","2704","2705","2706","2707","2709","2710","2713","2714","2727","2729","2739","2758","2765","2766","2767","2768","2770","2771","2772","2776","2777","2778","2779","2780","2783","2784","2786","2787","2791","2792","2793","2797","2798","2801","2802","2803","2805","2808","2809","2810","2811","2812","2813","2814","2817","2818","2824","2826","2827","2829","2830","2831","2832","2834","2836","2838","2840","2842","2843","2844","2850","2851","2852","2854","2858","2860","2862","2864","2865","2866","2867","2868","2869","2871"]},d={code:"spotx",aliases:["spotx"],supportedMediaTypes:[s.d],isBidRequestValid:function(e){if(e&&"object"!==c(e.params))return Object(i.logError)("spotx: params is not defined or is incorrect in the bidder settings."),!1;if(!Object(i.deepAccess)(e,"mediaTypes.video"))return Object(i.logError)("spotx: mediaTypes.video is not present in the bidder settings."),!1;var t=Object(i.deepAccess)(e,"mediaTypes.video.playerSize");if(!t||!Object(i.isArray)(t))return Object(i.logError)("spotx: mediaTypes.video.playerSize is not defined in the bidder settings."),!1;if(!Object(i.getBidIdParameter)("channel_id",e.params))return Object(i.logError)("spotx: channel_id is not present in bidder params"),!1;if(("outstream"==Object(i.deepAccess)(e,"mediaTypes.video.context")||"outstream"==Object(i.deepAccess)(e,"params.ad_unit"))&&!Object(i.getBidIdParameter)("outstream_function",e.params)){if(!Object(i.getBidIdParameter)("outstream_options",e.params))return Object(i.logError)("spotx: please define outstream_options parameter or override the default SpotX outstream rendering by defining your own Outstream function using field outstream_function."),!1;if(!Object(i.getBidIdParameter)("slot",e.params.outstream_options))return Object(i.logError)("spotx: please define parameter slot in outstream_options object in the configuration."),!1}return!0},buildRequests:function(e,t){var n=t.refererInfo.referer,r=!!n.match(/^https:/);return e.map((function(e){var a=Object(i.getBidIdParameter)("channel_id",e.params),o=null,s=Object(i.deepAccess)(e,"mediaTypes.video.playerSize"),c=s[0][0],d=s[0][1],l=r||(Object(i.getBidIdParameter)("secure",e.params)?1:0),f={sdk_name:"Prebid 1+",versionOrtb:"2.3"};if(""!=Object(i.getBidIdParameter)("hide_skin",e.params)&&(f.hide_skin=+!!Object(i.getBidIdParameter)("hide_skin",e.params)),""!=Object(i.getBidIdParameter)("ad_volume",e.params)&&(f.ad_volume=Object(i.getBidIdParameter)("ad_volume",e.params)),""!=Object(i.getBidIdParameter)("ad_unit",e.params)&&(f.ad_unit=Object(i.getBidIdParameter)("ad_unit",e.params)),""!=Object(i.getBidIdParameter)("outstream_options",e.params)&&(f.outstream_options=Object(i.getBidIdParameter)("outstream_options",e.params)),""!=Object(i.getBidIdParameter)("outstream_function",e.params)&&(f.outstream_function=Object(i.getBidIdParameter)("outstream_function",e.params)),""!=Object(i.getBidIdParameter)("custom",e.params)&&(f.custom=Object(i.getBidIdParameter)("custom",e.params)),""!=Object(i.getBidIdParameter)("pre_market_bids",e.params)&&Object(i.isArray)(Object(i.getBidIdParameter)("pre_market_bids",e.params))){var p=Object(i.getBidIdParameter)("pre_market_bids",e.params);for(var m in f.pre_market_bids=[],p){var g=p[m],h="";g.vast_url?h='<?xml version="1.0" encoding="utf-8"?><VAST version="2.0"><Ad><Wrapper><VASTAdTagURI>'+g.vast_url+"</VASTAdTagURI></Wrapper></Ad></VAST>":g.vast_string&&(h=g.vast_string),f.pre_market_bids.push({id:g.deal_id,seatbid:[{bid:[{impid:Date.now(),dealid:g.deal_id,price:g.price,adm:h}]}],cur:g.currency,ext:{event_log:[{}]}})}}var b=Object(i.getBidIdParameter)("mimes",e.params)||["application/javascript","video/mp4","video/webm"],v={id:e.bidId,secure:l,video:{w:c,h:d,ext:f,mimes:b}};if(Object(i.isFn)(e.getFloor)){var y=e.getFloor({currency:"USD",mediaType:"video",size:"*"});"USD"===y.currency&&(v.bidfloor=y.floor)}else""!=Object(i.getBidIdParameter)("price_floor",e.params)&&(v.bidfloor=Object(i.getBidIdParameter)("price_floor",e.params));""!=Object(i.getBidIdParameter)("start_delay",e.params)&&(v.video.startdelay=0+Boolean(Object(i.getBidIdParameter)("start_delay",e.params))),""!=Object(i.getBidIdParameter)("min_duration",e.params)&&(v.video.minduration=Object(i.getBidIdParameter)("min_duration",e.params)),""!=Object(i.getBidIdParameter)("max_duration",e.params)&&(v.video.maxduration=Object(i.getBidIdParameter)("max_duration",e.params)),""!=Object(i.getBidIdParameter)("placement_type",e.params)&&(v.video.ext.placement=Object(i.getBidIdParameter)("placement_type",e.params)),""!=Object(i.getBidIdParameter)("position",e.params)&&(v.video.ext.pos=Object(i.getBidIdParameter)("position",e.params)),e.crumbs&&e.crumbs.pubcid&&(o=e.crumbs.pubcid);var E=navigator.language?"language":"userLanguage",O={h:screen.height,w:screen.width,dnt:Object(i.getDNT)()?1:0,language:navigator[E].split("-")[0],make:navigator.vendor?navigator.vendor:"",ua:navigator.userAgent},A={id:a,imp:v,site:{id:"",page:n,content:"content"},device:O,ext:{wrap_response:1}};Object(i.getBidIdParameter)("number_of_ads",e.params)&&(A.ext.number_of_ads=Object(i.getBidIdParameter)("number_of_ads",e.params));var S={};return 1==Object(i.getBidIdParameter)("spotx_all_google_consent",e.params)&&(S.consented_providers_settings=u),t&&t.gdprConsent&&(S.consent=t.gdprConsent.consentString,void 0!==t.gdprConsent.gdprApplies&&Object(i.deepSetValue)(A,"regs.ext.gdpr",t.gdprConsent.gdprApplies?1:0)),t&&t.uspConsent&&Object(i.deepSetValue)(A,"regs.ext.us_privacy",t.uspConsent),Object(i.deepAccess)(e,"userId.id5id.uid")&&(S.eids=S.eids||[],S.eids.push({source:"id5-sync.com",uids:[{id:e.userId.id5id.uid,ext:e.userId.id5id.ext||{}}]})),o&&(S.fpc=o),e&&e.schain&&(A.source={ext:{schain:e.schain}}),e&&e.userId&&e.userId.tdid&&(S.eids=S.eids||[],S.eids.push({source:"adserver.org",uids:[{id:e.userId.tdid,ext:{rtiPartner:"TDID"}}]})),Object(i.isEmpty)(S)||(A.user={ext:S}),{method:"POST",url:"https://search.spotxchange.com/openrtb/2.3/dados/"+a,data:A,bidRequest:t}}))},interpretResponse:function(e,t){var n=[],r=e.body;return r&&Object(i.isArray)(r.seatbid)&&Object(i._each)(r.seatbid,(function(e){Object(i._each)(e.bid,(function(e){var o={};for(var c in t.bidRequest.bids)e.impid==t.bidRequest.bids[c].bidId&&(o=t.bidRequest.bids[c]);Object(i._each)(o.params.pre_market_bids,(function(t){t.deal_id==e.id&&(e.price=t.price,r.cur=t.currency)}));var u={requestId:o.bidId,currency:r.cur||"USD",cpm:e.price,creativeId:e.crid||"",ttl:360,netRevenue:!0,channel_id:r.id,cache_key:e.ext.cache_key,vastUrl:"https://search.spotxchange.com/ad/vast.html?key="+e.ext.cache_key,mediaType:s.d,width:e.w,height:e.h};u.meta=u.meta||{},e&&e.adomain&&e.adomain.length>0&&(u.meta.advertiserDomains=e.adomain);var d=Object(i.deepAccess)(o,"mediaTypes.video.context"),f=Object(i.deepAccess)(o,"params.ad_unit");if("outstream"==d||"outstream"==f){var p=Object(i.deepAccess)(o,"mediaTypes.video.playerSize"),m=a.a.install({id:0,url:"//",config:{adText:"SpotX Outstream Video Ad via Prebid.js",player_width:p[0][0],player_height:p[0][1],content_page_url:Object(i.deepAccess)(t,"data.site.page"),ad_mute:+!!Object(i.deepAccess)(o,"params.ad_mute"),hide_skin:+!!Object(i.deepAccess)(o,"params.hide_skin"),outstream_options:Object(i.deepAccess)(o,"params.outstream_options"),outstream_function:Object(i.deepAccess)(o,"params.outstream_function")}});try{m.setRender(l),m.setEventHandlers({impression:function(){return Object(i.logMessage)("SpotX outstream video impression event")},loaded:function(){return Object(i.logMessage)("SpotX outstream video loaded event")},ended:function(){Object(i.logMessage)("SpotX outstream renderer video event")}})}catch(e){Object(i.logWarn)("Prebid Error calling setRender or setEventHandlers on renderer",e)}u.renderer=m}n.push(u)}))})),n}};function l(e){var t=function(e){var t=Object(i.getBidIdParameter)("slot",e.renderer.config.outstream_options);Object(i.logMessage)("[SPOTX][renderer] Handle SpotX outstream renderer");var n=window.document.createElement("script");n.type="text/javascript",n.src="https://js.spotx.tv/easi/v1/"+e.channel_id+".js";var r={};r["data-spotx_channel_id"]=""+e.channel_id,r["data-spotx_vast_url"]=""+e.vastUrl,r["data-spotx_content_page_url"]=e.renderer.config.content_page_url,r["data-spotx_ad_unit"]="incontent",Object(i.logMessage)("[SPOTX][renderer] Default behavior"),Object(i.getBidIdParameter)("ad_mute",e.renderer.config.outstream_options)&&(r["data-spotx_ad_mute"]="0"),r["data-spotx_collapse"]="0",r["data-spotx_autoplay"]="1",r["data-spotx_blocked_autoplay_override_mode"]="1",r["data-spotx_video_slot_can_autoplay"]="1";var a=Object(i.getBidIdParameter)("playersize_auto_adapt",e.renderer.config.outstream_options);if(a&&Object(i.isBoolean)(a)&&!0===a)if(e.width&&Object(i.isNumber)(e.width)&&e.height&&Object(i.isNumber)(e.height)){var o=e.width/e.height,s=window.document.getElementById(t).clientWidth,c=e.renderer.config.player_width,u=e.renderer.config.player_height,d=0,l=0;s<c&&(u=(c=s)/o),o<=1?(d=Math.round(u*o),l=u):(d=c,l=Math.round(c/o)),r["data-spotx_content_width"]=""+d,r["data-spotx_content_height"]=""+l}else utils.logWarn("[SPOTX][renderer] PlayerSize auto adapt: bid.width and bid.height are incorrect");var f=Object(i.getBidIdParameter)("custom_override",e.renderer.config.outstream_options);if(f&&Object(i.isPlainObject)(f))for(var p in Object(i.logMessage)("[SPOTX][renderer] Custom behavior."),f)f.hasOwnProperty(p)&&("channel_id"===p||"vast_url"===p||"content_page_url"===p||"ad_unit"===p?Object(i.logWarn)("[SPOTX][renderer] Custom behavior: following option cannot be overridden: "+p):r["data-spotx_"+p]=f[p]);for(var m in r)r.hasOwnProperty(m)&&n.setAttribute(m,r[m]);return n}(e);if(null!=e.renderer.config.outstream_function&&"function"==typeof e.renderer.config.outstream_function)e.renderer.config.outstream_function(e,t);else try{var n=Object(i.getBidIdParameter)("in_iframe",e.renderer.config.outstream_options);if(n&&"IFRAME"==window.document.getElementById(n).nodeName){var r=window.document.getElementById(n),a=r.contentDocument;!a&&r.contentWindow&&(a=r.contentWindow.document),a.body.appendChild(t)}else{var o=Object(i.getBidIdParameter)("slot",e.renderer.config.outstream_options);o&&window.document.getElementById(o)?window.document.getElementById(o).appendChild(t):window.document.getElementsByTagName("head")[0].appendChild(t)}}catch(e){Object(i.logError)("[SPOTX][renderer] Error:"+e.message)}}Object(o.registerBidder)(d),window.pbjs.installedModules.push("spotxBidAdapter")}},[878]),pbjsChunk([115],{914:function(e,t,n){e.exports=n(915)},915:function(t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),r.d(n,"tripleliftAdapterSpec",(function(){return b}));var i=r(0),a=r(2),o=r(1),s=r(3);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(t){return(u="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=!0,h=null,b={gvlid:28,code:"triplelift",supportedMediaTypes:[a.b,a.d],isBidRequestValid:function(e){return void 0!==e.params.inventoryCode},buildRequests:function(e,t){var n="https://tlx.3lift.com/header/auction?",r=function(e){var t={},n=e[0].schain,r=function(){var e={},t={},n={},r=s.b.getLegacyFpd(s.b.getConfig("ortb2"))||{},a=c({},r.context),o=c({},r.user);return A(t,a),A(n,o),Object(i.isEmpty)(t)||(e.context=t),Object(i.isEmpty)(n)||(e.user=n),e}();t.imp=e.map((function(e,t){var n={id:t,tagid:e.params.inventoryCode,floor:O(e)};return v(e)&&(n.video=function(e){var t=l(l({},e.params.video),e.mediaTypes.video);try{t.w||(t.w=t.playerSize[0][0]),t.h||(t.h=t.playerSize[0][1])}catch(e){Object(i.logWarn)("Video size not defined",e)}return"instream"===t.context&&(t.placement=1),"outstream"===t.context&&(t.placement?-1===[3,4,5].indexOf(t.placement)&&(Object(i.logMessage)("video.placement value of ".concat(t.placement," is invalid for outstream context. Setting placement to 3")),t.placement=3):t.placement=3),delete t.playerSize,t}(e)),e.mediaTypes.banner&&!y(e)&&(n.banner={format:_(e.sizes)}),Object(i.isEmpty)(e.ortb2Imp)||(n.fpd=function(e){var t={},n={};return A(n,e.ext),Object(i.isEmpty)(n)||(t.context=n),t}(e.ortb2Imp)),n}));var a=[].concat(p(S([e[0]],"tdid","adserver.org","TDID")),p(function(e){return S(e,"idl_env","liveramp.com","idl")}([e[0]])),p(function(e){return S(e,"criteoId","criteo.com","criteoId")}([e[0]])),p(function(e){return S(e,"pubcid","pubcid.org","pubcid")}([e[0]])));a.length>0&&(t.user={ext:{eids:a}});var o=function(e,t){var n={};return Object(i.isEmpty)(e)||(n.schain=l({},e)),Object(i.isEmpty)(t)||(n.fpd=l({},t)),n}(n,r);return Object(i.isEmpty)(o)||(t.ext=o),t}(e);if(n=Object(i.tryAppendQueryString)(n,"lib","prebid"),n=Object(i.tryAppendQueryString)(n,"v","6.13.0"),t&&t.refererInfo){var a=t.refererInfo.referer;n=Object(i.tryAppendQueryString)(n,"referrer",a)}return t&&t.timeout&&(n=Object(i.tryAppendQueryString)(n,"tmax",t.timeout)),t&&t.gdprConsent&&(void 0!==t.gdprConsent.gdprApplies&&(g=t.gdprConsent.gdprApplies,n=Object(i.tryAppendQueryString)(n,"gdpr",g.toString())),void 0!==t.gdprConsent.consentString&&(h=t.gdprConsent.consentString,n=Object(i.tryAppendQueryString)(n,"cmp_cs",h))),t&&t.uspConsent&&(n=Object(i.tryAppendQueryString)(n,"us_privacy",t.uspConsent)),!0===s.b.getConfig("coppa")&&(n=Object(i.tryAppendQueryString)(n,"coppa",!0)),n.lastIndexOf("&")===n.length-1&&(n=n.substring(0,n.length-1)),Object(i.logMessage)("tlCall request built: "+n),{method:"POST",url:n,data:r,bidderRequest:t}},interpretResponse:function(e,t){var n=t.bidderRequest;return(e.body.bids||[]).map((function(e){return function(e,t){var n={},r=t.width||1,i=t.height||1,a=t.deal_id||"",o=t.crid||"",s=e.bids[t.imp_id];return 0!=t.cpm&&t.ad&&(n={requestId:s.bidId,cpm:t.cpm,width:r,height:i,netRevenue:!0,ad:t.ad,creativeId:o,dealId:a,currency:"USD",ttl:300,tl_source:t.tl_source,meta:{}},v(s)&&"video"===t.media_type&&(n.vastXml=t.ad,n.mediaType="video",n.ttl=3600),t.advertiser_name&&(n.meta.advertiserName=t.advertiser_name),t.adomain&&t.adomain.length&&(n.meta.advertiserDomains=t.adomain),t.tl_source&&"hdx"==t.tl_source&&(v(s)&&"video"===t.media_type?n.meta.mediaType="video":n.meta.mediaType="banner"),t.tl_source&&"tlx"==t.tl_source&&(n.meta.mediaType="native")),n}(n,e)}))},getUserSyncs:function(e,t,n,r){var a=function(e){if(e)return e.iframeEnabled?"iframe":e.pixelEnabled?"image":void 0}(e);if(a){var o="https://eb2.3lift.com/sync?";return"image"===a&&(o=Object(i.tryAppendQueryString)(o,"px",1),o=Object(i.tryAppendQueryString)(o,"src","prebid")),null!==h&&(o=Object(i.tryAppendQueryString)(o,"gdpr",g),o=Object(i.tryAppendQueryString)(o,"cmp_cs",h)),r&&(o=Object(i.tryAppendQueryString)(o,"us_privacy",r)),[{type:a,url:o}]}}};function v(e){return E(e)&&(y(e)||function(e){return E(e)&&"outstream"===e.mediaTypes.video.context.toLowerCase()}(e))}function y(e){return E(e)&&"instream"===e.mediaTypes.video.context.toLowerCase()}function E(e){return e.mediaTypes.video&&e.mediaTypes.video.context}function O(e){var t=null;if("function"==typeof e.getFloor){var n=e.getFloor({currency:"USD",mediaType:v(e)?"video":"banner",size:"*"});"object"!==u(n)||"USD"!==n.currency||isNaN(parseFloat(n.floor))||(t=parseFloat(n.floor))}return null!==t?t:e.params.floor}function A(e,t){Object(i.isEmpty)(t)||Object.keys(t).forEach((function(n){null!=t[n]&&(e[n]=t[n])}))}function S(e,t,n,r){return e.map(function(e){return function(t){return t&&t.userId&&t.userId[e]}}(t)).filter(w(t)).map(function(e,t){return function(n){return{source:e,uids:[{id:n.id?n.id:n,ext:{rtiPartner:t}}]}}}(n,r))}var w=function(e){return function(t,n,r){var a=!!t&&(Object(i.isStr)(t)?!!t:Object(i.isPlainObject)(t)&&!Object(i.isArray)(t)&&!Object(i.isEmpty)(t)&&t.id&&Object(i.isStr)(t.id)&&!!t.id);return a||void 0===r[0]||Object(i.logWarn)("Triplelift: invalid ".concat(e," userId format")),a}};function _(e){return e.filter(I).map((function(e){return{w:e[0],h:e[1]}}))}function I(e){return 2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}Object(o.registerBidder)(b),window.pbjs.installedModules.push("tripleliftBidAdapter")}},[914]),pbjsChunk([108],{932:function(e,t,n){e.exports=n(933)},933:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"spec",(function(){return c}));var r=n(0),i=n(1),a=n(2);function o(e){if(!e)return null;var t=e.gdprApplies?"1":"0",n=e.consentString?e.consentString:"";return"gdpr=".concat(t,"&gdprstr=").concat(n)}function s(e){var t=document.getElementById(e),n=-1,r=-1;if(t){n=t.offsetLeft,r=t.offsetTop;var i=t.offsetParent;return i&&(n+=i.offsetLeft,r+=i.offsetTop),[n,r]}return null}var c={code:"undertone",supportedMediaTypes:[a.b,a.d],isBidRequestValid:function(e){if(e&&e.params&&e.params.publisherId)return e.params.publisherId=parseInt(e.params.publisherId),!0},buildRequests:function(e,t){var n=Math.max(document.documentElement.clientWidth,window.innerWidth||0),i=Math.max(document.documentElement.clientHeight,window.innerHeight||0),c=0==n||0==i?null:[n,i],u={adapterVersion:"6.13.0",uids:e[0].userId,pageSize:c};e[0].schain&&(u.schain=e[0].schain);var d={"x-ut-hb-params":[],commons:u},l=t.refererInfo.referer,f=function(){try{var e=window.top.document.querySelector("link[rel='canonical']");if(null!==e)return e.href}catch(e){}return null}();l&&(u.referrer=l),f&&(u.canonicalUrl=f);var p=function(e){var t=null;try{var n=/[-\w]+\.([-\w]+|[-\w]{3,}|[-\w]{1,3}\.[-\w]{2})$/i.exec(e);if(null!=n&&n.length>0){t=n[0];for(var r=1;r<n.length;r++)n[r].length>t.length&&(t=n[r])}}catch(e){t=null}return t}(Object(r.parseUrl)(l).hostname),m=f||l,g=e[0].params.publisherId,h="".concat("https://hb.undertone.com/hb","?pid=").concat(g,"&domain=").concat(p),b=o(t.gdprConsent);return b&&(h+="&".concat(b)),t.uspConsent&&(h+="&ccpa=".concat(t.uspConsent)),e.map((function(e){var t={bidRequestId:e.bidId,coordinates:s(e.adUnitCode),hbadaptor:"prebid",url:m,domain:p,placementId:null!=e.params.placementId?e.params.placementId:null,publisherId:e.params.publisherId,sizes:e.sizes,params:e.params},n=Object(r.deepAccess)(e,"mediaTypes.video"),i=n?a.d:a.b;t.mediaType=i,t.bidfloor=function(e,t){if("function"!=typeof e.getFloor)return 0;var n=e.getFloor({currency:"USD",mediaType:t,size:"*"});return n&&"USD"===n.currency&&n.floor||0}(e,i),n&&(t.video={playerSize:Object(r.deepAccess)(e,"mediaTypes.video.playerSize")||null,streamType:Object(r.deepAccess)(e,"mediaTypes.video.context")||null,playbackMethod:Object(r.deepAccess)(e,"params.video.playbackMethod")||null,maxDuration:Object(r.deepAccess)(e,"params.video.maxDuration")||null,skippable:Object(r.deepAccess)(e,"params.video.skippable")||null}),d["x-ut-hb-params"].push(t)})),{method:"POST",url:h,withCredentials:!0,data:JSON.stringify(d)}},interpretResponse:function(e,t){var n=[],r=e.body;return r&&Array.isArray(r)&&r.length>0&&r.forEach((function(e){if(e.ad&&e.cpm>0){var t={requestId:e.bidRequestId,cpm:e.cpm,width:e.width,height:e.height,creativeId:e.adId,currency:e.currency,netRevenue:e.netRevenue,ttl:e.ttl||360,meta:{advertiserDomains:e.adomain?e.adomain:[]}};e.mediaType&&"video"===e.mediaType?(t.vastXml=e.ad,t.mediaType=e.mediaType):t.ad=e.ad,n.push(t)}})),n},getUserSyncs:function(e,t,n,r){var i=[],a=o(n),s="",c="";return a&&(s+="?".concat(a),c+="&".concat(a)),r&&(s+=""!=s?"&":"?",s+="ccpa=".concat(r),c+="&ccpa=".concat(r)),e.iframeEnabled?i.push({type:"iframe",url:"https://cdn.undertone.com/js/usersync.html"+s}):e.pixelEnabled&&i.push({type:"image",url:"https://usr.undertone.com/userPixel/syncOne?id=1&of=2"+c},{type:"image",url:"https://usr.undertone.com/userPixel/syncOne?id=2&of=2"+c}),i}};Object(i.registerBidder)(c),window.pbjs.installedModules.push("undertoneBidAdapter")}},[932]),pbjsChunk([106],{936:function(e,t,n){e.exports=n(937)},937:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"unifiedIdSubmodule",(function(){return s}));var r=n(0),i=n(4),a=n(8),o="unifiedId",s={name:o,gvlid:21,decode:function(e){return e&&"string"==typeof e.TDID?{tdid:e.TDID}:void 0},getId:function(e){var t=e&&e.params||{};if(t&&("string"==typeof t.partner||"string"==typeof t.url)){var n=t.url||"https://match.adsrvr.org/track/rid?ttd_pid=".concat(t.partner,"&fmt=json");return{callback:function(e){var t={success:function(t){var n;if(t)try{n=JSON.parse(t)}catch(e){Object(r.logError)(e)}e(n)},error:function(t){Object(r.logError)("".concat(o,": ID fetch encountered an error"),t),e()}};Object(i.a)(n,t,void 0,{method:"GET",withCredentials:!0})}}}Object(r.logError)("User ID - unifiedId submodule requires either partner or url to be defined")}};Object(a.e)("userId",s),window.pbjs.installedModules.push("unifiedIdSystem")}},[936]),pbjsChunk([13],{15:function(e,t,n){t.b=function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n))if("pubProvidedId"===n)t=t.concat(e.pubProvidedId);else{var r=a(e[n],n);r&&t.push(r)}return t},t.a=function(e){var t=[];return e.filter((function(e){return Object(r.isPlainObject)(e.idObj)&&Object.keys(e.idObj).length})).forEach((function(e){Object.keys(e.idObj).forEach((function(n){Object(r.deepAccess)(e,"config.bidders")&&Array.isArray(e.config.bidders)&&Object(r.deepAccess)(i,n+".source")&&t.push({source:i[n].source,bidders:e.config.bidders})}))})),t};var r=n(0),i={trustpid:{source:"trustpid.com",atype:1,getValue:function(e){return e}},intentIqId:{source:"intentiq.com",atype:1},naveggId:{source:"navegg.com",atype:1},justId:{source:"justtag.com",atype:1},pubcid:{source:"pubcid.org",atype:1},tdid:{source:"adserver.org",atype:1,getUidExt:function(){return{rtiPartner:"TDID"}}},id5id:{getValue:function(e){return e.uid},source:"id5-sync.com",atype:1,getUidExt:function(e){if(e.ext)return e.ext}},parrableId:{source:"parrable.com",atype:1,getValue:function(e){return e.eid?e.eid:e.ccpaOptout?"":null},getUidExt:function(e){var t=Object(r.pick)(e,["ibaOptout","ccpaOptout"]);if(Object.keys(t).length)return t}},idl_env:{source:"liveramp.com",atype:3},lipb:{getValue:function(e){return e.lipbid},source:"liveintent.com",atype:3,getEidExt:function(e){if(Array.isArray(e.segments)&&e.segments.length)return{segments:e.segments}}},britepoolid:{source:"britepool.com",atype:3},dmdId:{source:"hcn.health",atype:3},lotamePanoramaId:{source:"crwdcntrl.net",atype:1},criteoId:{source:"criteo.com",atype:1},merkleId:{source:"merkleinc.com",atype:3,getValue:function(e){return e.id},getUidExt:function(e){return e&&e.keyID?{keyID:e.keyID}:void 0}},netId:{source:"netid.de",atype:1},IDP:{source:"zeotap.com",atype:1},hadronId:{source:"audigent.com",atype:1},haloId:{source:"audigent.com",atype:1},quantcastId:{source:"quantcast.com",atype:1},nextrollId:{source:"nextroll.com",atype:1},idx:{source:"idx.lat",atype:1},connectid:{source:"verizonmedia.com",atype:3},fabrickId:{source:"neustar.biz",atype:1},mwOpenLinkId:{source:"mediawallahscript.com",atype:1},tapadId:{source:"tapad.com",atype:1},novatiq:{getValue:function(e){return e.snowflake},source:"novatiq.com",atype:1},uid2:{source:"uidapi.com",atype:3,getValue:function(e){return e.id}},dapId:{source:"akamai.com",atype:1},deepintentId:{source:"deepintent.com",atype:3},admixerId:{source:"admixer.net",atype:3},adtelligentId:{source:"adtelligent.com",atype:3},amxId:{source:"amxrtb.com",atype:1},publinkId:{source:"epsilon.com",atype:3},kpuid:{source:"kpuid.com",atype:3},imuid:{source:"intimatemerger.com",atype:1},connectId:{source:"yahoo.com",atype:3},qid:{source:"adquery.io",atype:1}};function a(e,t){var n=i[t];if(n&&e){var a={};a.source=n.source;var o=Object(r.isFn)(n.getValue)?n.getValue(e):e;if(Object(r.isStr)(o)){var s={id:o,atype:n.atype};if(Object(r.isFn)(n.getUidExt)){var c=n.getUidExt(e);c&&(s.ext=c)}if(a.uids=[s],Object(r.isFn)(n.getEidExt)){var u=n.getEidExt(e);u&&(a.ext=u)}return a}}return null}},940:function(e,t,n){e.exports=n(941)},941:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"PBJS_USER_ID_OPTOUT_NAME",(function(){return T})),n.d(t,"coreStorage",(function(){return j})),n.d(t,"syncDelay",(function(){return O})),n.d(t,"auctionDelay",(function(){return A})),t.setSubmoduleRegistry=function(e){D=e},t.setStoredValue=R,t.setStoredConsentData=L,t.findRootDomain=q,t.requestBidsHook=H,n.d(t,"validateGdprEnforcement",(function(){return J})),t.attachIdSystem=ee,t.init=te;var r=n(11),i=n.n(r),a=n(3),o=n(10),s=n.n(o),c=n(14),u=n(9),d=n(5),l=n.n(d),f=n(8),p=n(15),m=n(7),g=n(0),h=n(12),b=n.n(h);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y,E,O,A,S,w="User ID",_="cookie",I="html5",C="_pbjs_userid_consent_data",T="_pbjs_id_optout",j=Object(m.a)("userid"),P=[],k=!1,x=[],N=[],D=[];function R(e,t){var n=e.config.storage,r="function"==typeof e.submodule.domainOverride?e.submodule.domainOverride():null;try{var i=Object(g.isPlainObject)(t)?JSON.stringify(t):t,a=new Date(Date.now()+864e5*n.expires).toUTCString();n.type===_?(j.setCookie(n.name,i,a,"Lax",r),"number"==typeof n.refreshInSeconds&&j.setCookie("".concat(n.name,"_last"),(new Date).toUTCString(),a,"Lax",r)):n.type===I&&(j.setDataInLocalStorage("".concat(n.name,"_exp"),a),j.setDataInLocalStorage(n.name,encodeURIComponent(i)),"number"==typeof n.refreshInSeconds&&j.setDataInLocalStorage("".concat(n.name,"_last"),(new Date).toUTCString()))}catch(e){Object(g.logError)(e)}}function M(e){var t=Object(g.getPrebidInternal)().setEidPermissions;"function"==typeof t&&Object(g.isArray)(e)&&t(Object(p.a)(e))}function B(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=n?"".concat(e.name,"_").concat(n):e.name;try{if(e.type===_)t=j.getCookie(r);else if(e.type===I){var i=j.getDataFromLocalStorage("".concat(e.name,"_exp"));""===i?t=j.getDataFromLocalStorage(r):i&&new Date(i).getTime()-Date.now()>0&&(t=decodeURIComponent(j.getDataFromLocalStorage(r)))}"string"==typeof t&&"{"===t.trim().charAt(0)&&(t=JSON.parse(t))}catch(e){Object(g.logError)(e)}return t}function U(e){var t={consentString:"",gdprApplies:!1,apiVersion:0};return e&&(t.consentString=e.consentString,t.gdprApplies=e.gdprApplies,t.apiVersion=e.apiVersion),Object(g.cyrb53Hash)(JSON.stringify(t))}function L(e){try{var t=new Date(Date.now()+2592e6).toUTCString();j.setCookie(C,U(e),t,"Lax")}catch(e){Object(g.logError)(e)}}function V(){try{return j.getCookie(C)}catch(e){Object(g.logError)(e)}}function F(e){if(e&&"boolean"==typeof e.gdprApplies&&e.gdprApplies){if(!e.consentString)return!1;if(1===e.apiVersion&&!1===Object(g.deepAccess)(e,"vendorData.purposeConsents.1"))return!1;if(2===e.apiVersion&&!1===Object(g.deepAccess)(e,"vendorData.purpose.consents.1"))return!1}return!0}function q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.hostname;if(!j.cookiesAreEnabled())return e;var t,n,r=e.split(".");if(2==r.length)return e;var i=-2,a="_rdc".concat(Date.now()),o="writeable";do{t=r.slice(i).join(".");var s=new Date(Object(g.timestamp)()+1e4).toUTCString();j.setCookie(a,o,s,"Lax",t,void 0);var c=j.getCookie(a,void 0);c===o?(n=!1,j.setCookie(a,"","Thu, 01 Jan 1970 00:00:01 GMT",void 0,t,void 0)):(i+=-1,n=Math.abs(i)<=r.length)}while(n);return t}function G(e,t){var n=function(){};t&&(n=Object(g.delayExecution)((function(){clearTimeout(E),t()}),e.length)),e.forEach((function(e){e.callback((function(t){t?(e.config.storage&&R(e,t),e.idObj=e.submodule.decode(t,e.config)):Object(g.logInfo)("".concat(w,": ").concat(e.submodule.name," - request id responded with an empty value")),n()})),e.callback=void 0}))}function z(e){return Array.isArray(e)&&e.length?e.filter((function(e){return Object(g.isPlainObject)(e.idObj)&&Object.keys(e.idObj).length})).reduce((function(e,t){return Object.keys(t.idObj).forEach((function(n){e[n]=t.idObj[n]})),e}),{}):{}}function W(e){var t=!1;if(void 0===y&&(y=function(e,t){var n=J(e,t),r=n.userIdModules;if(!n.hasValidated&&!F(t))return Object(g.logWarn)("".concat(w," - gdpr permission not valid for local storage or cookies, exit module")),[];var i=V();return L(t),r.reduce((function(e,n){return X(n,t,i,!1),e.push(n),e}),[])}(x,u.gdprDataHandler.getConsentData())).length){M(y);var n=y.filter((function(e){return Object(g.isFn)(e.callback)}));if(n.length)if(e&&A>0){t=!0;var r=!1,i=function(){r||(r=!0,e())};Object(g.logInfo)("".concat(w," - auction delayed by ").concat(A," at most to fetch ids")),E=setTimeout(i,A),G(n,i)}else s.a.on(l.a.EVENTS.AUCTION_END,(function e(){s.a.off(l.a.EVENTS.AUCTION_END,e),O>0?setTimeout((function(){G(n)}),O):G(n)}))}e&&!t&&e()}function H(e,t){W((function(){!function(e,t){[e].some((function(e){return!Array.isArray(e)||!e.length}))||e.forEach((function(e){e.bids&&Object(g.isArray)(e.bids)&&e.bids.forEach((function(e){var n=function(e,t){return Array.isArray(e)&&e.length&&t?e.filter((function(e){return!e.config.bidders||!Object(g.isArray)(e.config.bidders)||b()(e.config.bidders,t)})).filter((function(e){return Object(g.isPlainObject)(e.idObj)&&Object.keys(e.idObj).length})).reduce((function(e,t){return Object.keys(t.idObj).forEach((function(n){e[n]=t.idObj[n]})),e}),{}):{}}(t,e.bidder);Object.keys(n).length&&(e.userId=n,e.userIdAsEids=Object(p.b)(n))}))}))}(t.adUnits||Object(c.a)().adUnits,y);var n=S&&(Y()||[]).find((function(e){return e.source===S}));if(n&&"string"==typeof Object(g.deepAccess)(n,"uids.0.id")){var r=n.uids[0].id.replace(/[\W_]/g,"");r.length>=32&&r.length<=150?Object(g.isGptPubadsDefined)()?window.googletag.pubads().setPublisherProvidedId(r):(window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((function(){window.googletag.pubads().setPublisherProvidedId(r)}))):Object(g.logWarn)("User ID - Googletag Publisher Provided ID for ".concat(S," is not between 32 and 150 characters - ").concat(r))}e.call(this,t)}))}function K(){return W(),z(y)}function Y(){return W(),Object(p.b)(z(y))}function $(e,t){var n=e?e.submoduleNames:null;n||(n=[]),W((function(){var e=u.gdprDataHandler.getConsentData(),r=J(x,e),i=r.userIdModules;if(r.hasValidated||F(e)){var a=V();L(e);var o,s=[],c=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e))){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}(i);try{for(c.s();!(o=c.n()).done;){var d=o.value;n.length>0&&-1===n.indexOf(d.submodule.name)||(Object(g.logInfo)("".concat(w," - refreshing ").concat(d.submodule.name)),X(d,e,a,!0),Q(d),y.length&&M(y),Object(g.isFn)(d.callback)&&s.push(d))}}catch(e){c.e(e)}finally{c.f()}s.length>0&&G(s),t&&t()}else Object(g.logWarn)("".concat(w," - gdpr permission not valid for local storage or cookies, exit module"))}))}var J=Object(f.b)("sync",(function(e,t){return{userIdModules:e,hasValidated:t&&t.hasValidated}}),"validateGdprEnforcement");function X(e,t,n,r){if(e.config.storage){var i,a=B(e.config.storage),o=!1;if("number"==typeof e.config.storage.refreshInSeconds){var s=new Date(B(e.config.storage,"last"));o=s&&Date.now()-s.getTime()>1e3*e.config.storage.refreshInSeconds}!a||o||r||!function(e,t){return null!=e&&e===U(t)}(n,t)?i=e.submodule.getId(e.config,t,a):"function"==typeof e.submodule.extendId&&(i=e.submodule.extendId(e.config,t,a)),Object(g.isPlainObject)(i)&&(i.id&&(R(e,i.id),a=i.id),"function"==typeof i.callback&&(e.callback=i.callback)),a&&(e.idObj=e.submodule.decode(a,e.config))}else if(e.config.value)e.idObj=e.config.value;else{var c=e.submodule.getId(e.config,t,void 0);Object(g.isPlainObject)(c)&&("function"==typeof c.callback&&(e.callback=c.callback),c.id&&(e.idObj=e.submodule.decode(c.id,e.config)))}}function Q(e){for(var t=!1,n=0;n<y.length;n++)if(e.config.name.toLowerCase()===y[n].config.name.toLowerCase()){t=!0,y[n]=e;break}t||y.push(e)}function Z(){var e=function(e,t,n){return Array.isArray(e)?e.reduce((function(e,t){return!t||Object(g.isEmptyStr)(t.name)||(!t.storage||Object(g.isEmptyStr)(t.storage.type)||Object(g.isEmptyStr)(t.storage.name)||-1===n.indexOf(t.storage.type)?Object(g.isPlainObject)(t.value)?e.push(t):t.storage||t.value||e.push(t):e.push(t)),e}),[]):[]}(N,0,P);if(e.length){var t=D.filter((function(e){return!i()(x,(function(t){return t.name===e.name}))}));x=t.map((function(t){var n=i()(e,(function(e){return e.name&&(e.name.toLowerCase()===t.name.toLowerCase()||t.aliasName&&e.name.toLowerCase()===t.aliasName.toLowerCase())}));return n&&t.name!==n.name&&(n.name=t.name),t.findRootDomain=q,n?{submodule:t,config:n,callback:void 0,idObj:void 0}:null})).filter((function(e){return null!==e})),!k&&x.length&&(Object(c.a)().requestBids.before(H,40),Object(g.logInfo)("".concat(w," - usersync config updated for ").concat(x.length," submodules: "),x.map((function(e){return e.submodule.name}))),k=!0)}}function ee(e){i()(D,(function(t){return t.name===e.name}))||(D.push(e),Z())}function te(e){S=void 0,x=[],N=[],k=!1,y=void 0,-1!==(P=[j.localStorageIsEnabled()?I:null,j.cookiesAreEnabled()?_:null].filter((function(e){return null!==e}))).indexOf(_)&&j.getCookie(T)?Object(g.logInfo)("".concat(w," - opt-out cookie found, exit module")):-1!==P.indexOf(I)&&j.getDataFromLocalStorage(T)?Object(g.logInfo)("".concat(w," - opt-out localStorage found, exit module")):(e.getConfig("userSync",(function(e){var t=e.userSync;S=t.ppid,t&&t.userIds&&(N=t.userIds,O=Object(g.isNumber)(t.syncDelay)?t.syncDelay:500,A=Object(g.isNumber)(t.auctionDelay)?t.auctionDelay:0,Z())})),Object(c.a)().getUserIds=K,Object(c.a)().getUserIdsAsEids=Y,Object(c.a)().refreshUserIds=$)}te(a.b),Object(f.c)("userId",ee),window.pbjs.installedModules.push("userId")}},[940]),pbjsChunk([82],{989:function(e,t,n){e.exports=n(990)},990:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"spec",(function(){return I}));var r=n(1),i=n(2),a=n(0),o=n(3),s=n(13);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d="6.13.0",l="USD",f=["admixer.net","adserver.org","adtelligent.com","akamai.com","amxrtb.com","audigent.com","britepool.com","criteo.com","crwdcntrl.net","deepintent.com","hcn.health","id5-sync.com","idx.lat","intentiq.com","intimatemerger.com","liveintent.com","liveramp.com","mediawallahscript.com","merkleinc.com","netid.de","neustar.biz","nextroll.com","novatiq.com","parrable.com","pubcid.org","quantcast.com","quantcast.com","tapad.com","uidapi.com","verizonmedia.com","yahoo.com","zeotap.com"];function p(e){return{w:parseInt(e[0]),h:parseInt(e[1])}}function m(e){return Object(a.isArray)(e)&&2===e.length&&!Object(a.isArray)(e[0])?[p(e)]:e.map(p)}function g(e){return Object(a.isArray)(Object(a.deepAccess)(e,"userIdAsEids"))?e.userIdAsEids.filter((function(e){return-1!==f.indexOf(e.source)})):[]}function h(e){return Object(a.deepAccess)(e,"params.bidOverride.imp.secure")||"https:"===document.location.protocol?1:0}function b(e){var t;return Object(a.deepAccess)(e,"params.pubId")?t=!0:Object(a.deepAccess)(e,"params.dcn")&&Object(a.deepAccess)(e,"params.pos")&&(t=!1),t}function v(){var e=o.b.getConfig("yahoossp.mode");return void 0===(e=e?e.toLowerCase():void 0)||e===i.b?i.b:e===i.d?i.d:"all"===e?"*":void 0}function y(e){var t=v(),n={currency:Object(a.deepAccess)(e,"params.bidOverride.cur")||l,mediaType:t,size:"*"};return!!Object(a.isFn)(e.getFloor)&&e.getFloor(n)}function E(e,t,n,r){var i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r);for(var o in n)switch(e){case"string":-1!==t.indexOf(o)&&Object(a.isStr)(n[o])&&(i[o]=n[o]);break;case"number":-1!==t.indexOf(o)&&Object(a.isNumber)(n[o])&&(i[o]=n[o]);break;case"array":-1!==t.indexOf(o)&&Object(a.isArray)(n[o])&&(i[o]=n[o]);break;case"object":-1!==t.indexOf(o)&&Object(a.isPlainObject)(n[o])&&(i[o]=n[o]);break;case"objectAllKeys":Object(a.isPlainObject)(n)&&(i[o]=n[o])}return i}function O(e){return function(e){return Object(a.isNumber)(e)&&e>0&&e<3600?e:300}(o.b.getConfig("yahoossp.ttl")||Object(a.deepAccess)(e,"params.ttl"))}function A(e){return Object(a.isStr)(e)&&e.length>0}function S(e,t){if(e){var n={id:Object(a.generateUUID)(),cur:[y(e).currency||Object(a.deepAccess)(t,"params.bidOverride.cur")||l],imp:[],site:{page:Object(a.deepAccess)(e,"refererInfo.referer")},device:{dnt:0,ua:navigator.userAgent,ip:Object(a.deepAccess)(t,"params.bidOverride.device.ip")||Object(a.deepAccess)(t,"params.ext.ip")||void 0},regs:{ext:{us_privacy:e.uspConsent?e.uspConsent:"",gdpr:e.gdprConsent&&e.gdprConsent.gdprApplies?1:0}},source:{ext:{hb:1,adapterver:"1.0.2",prebidver:d,integration:{name:"prebid.js",ver:d}},fd:1},user:{ext:{consent:e.gdprConsent&&e.gdprConsent.gdprApplies?e.gdprConsent.consentString:"",eids:g(t)}}};return!0===b(t)?(n.site.publisher={id:t.params.pubId},(Object(a.deepAccess)(t,"params.bidOverride.site.id")||Object(a.deepAccess)(t,"params.siteId"))&&(n.site.id=Object(a.deepAccess)(t,"params.bidOverride.site.id")||t.params.siteId)):n.site.id=t.params.dcn,o.b.getConfig("ortb2")&&(n=function(e,t){var n=o.b.getConfig("ortb2"),r=Object(a.deepAccess)(n,"site")||void 0,i=Object(a.deepAccess)(r,"content")||void 0,s=Object(a.deepAccess)(r,"content.data")||void 0,c=Object(a.deepAccess)(n,"app.content")||void 0,u=Object(a.deepAccess)(n,"app.content.data")||void 0,d=Object(a.deepAccess)(n,"user")||void 0;return r&&Object(a.isPlainObject)(r)&&(e.site=E("string",["name","domain","page","ref","keywords","search"],r,e.site),e.site=E("array",["cat","sectioncat","pagecat"],r,e.site),e.site=E("object",["ext"],r,e.site)),i&&Object(a.isPlainObject)(i)&&(e.site.content=E("string",["id","title","series","season","genre","contentrating","language"],i,e.site.content),e.site.content=E("number",["episode","prodq","context","livestream","len"],i,e.site.content),e.site.content=E("array",["cat"],i,e.site.content),e.site.content=E("object",["ext"],i,e.site.content),s&&Object(a.isArray)(s)&&s.every((function(t){var n={};n=E("string",["id","name"],t,n),n=E("array",["segment"],t,n),n=E("object",["ext"],t,n),e.site.content.data=[],e.site.content.data.push(n)}))),c&&Object(a.isPlainObject)(c)&&u&&Object(a.isArray)(u)&&u.every((function(t){var n={};n=E("string",["id","name"],t,n),n=E("array",["segment"],t,n),n=E("object",["ext"],t,n),e.app={content:{data:[]}},e.app.content.data.push(n)})),d&&Object(a.isPlainObject)(d)&&(e.user=E("string",["id","buyeruid","gender","keywords","customdata"],d,e.user),e.user=E("number",["yob"],d,e.user),e.user=E("array",["data"],d,e.user),e.user.ext=E("object",["ext"],d,e.user.ext)),e}(n)),Object(a.deepAccess)(t,"schain")&&(n.source.ext.schain=t.schain,n.source.ext.schain.nodes[0].rid=n.id),n}}function w(e,t){var n=v();if(t&&e){var r={id:e.bidId,secure:h(e),bidfloor:y(e).floor||Object(a.deepAccess)(e,"params.bidOverride.imp.bidfloor")};if(!e.mediaTypes.banner||void 0!==n&&n!==i.b&&"*"!==n||(r.banner={mimes:e.mediaTypes.banner.mimes||["text/html","text/javascript","application/javascript","image/jpg"],format:m(e.sizes)},e.mediaTypes.banner.pos&&(r.banner.pos=e.mediaTypes.banner.pos)),e.mediaTypes.video&&(n===i.d||"*"===n)){var o=m(e.mediaTypes.video.playerSize);r.video={mimes:Object(a.deepAccess)(e,"params.bidOverride.imp.video.mimes")||e.mediaTypes.video.mimes||["video/mp4","application/javascript"],w:Object(a.deepAccess)(e,"params.bidOverride.imp.video.w")||o[0].w,h:Object(a.deepAccess)(e,"params.bidOverride.imp.video.h")||o[0].h,maxbitrate:Object(a.deepAccess)(e,"params.bidOverride.imp.video.maxbitrate")||e.mediaTypes.video.maxbitrate||void 0,maxduration:Object(a.deepAccess)(e,"params.bidOverride.imp.video.maxduration")||e.mediaTypes.video.maxduration||void 0,minduration:Object(a.deepAccess)(e,"params.bidOverride.imp.video.minduration")||e.mediaTypes.video.minduration||void 0,api:Object(a.deepAccess)(e,"params.bidOverride.imp.video.api")||e.mediaTypes.video.api||[2],delivery:Object(a.deepAccess)(e,"params.bidOverride.imp.video.delivery")||e.mediaTypes.video.delivery||void 0,pos:Object(a.deepAccess)(e,"params.bidOverride.imp.video.pos")||e.mediaTypes.video.pos||void 0,playbackmethod:Object(a.deepAccess)(e,"params.bidOverride.imp.video.playbackmethod")||e.mediaTypes.video.playbackmethod||void 0,placement:Object(a.deepAccess)(e,"params.bidOverride.imp.video.placement")||e.mediaTypes.video.placement||void 0,linearity:Object(a.deepAccess)(e,"params.bidOverride.imp.video.linearity")||e.mediaTypes.video.linearity||1,protocols:Object(a.deepAccess)(e,"params.bidOverride.imp.video.protocols")||e.mediaTypes.video.protocols||[2,5],startdelay:Object(a.deepAccess)(e,"params.bidOverride.imp.video.startdelay")||e.mediaTypes.video.startdelay||0,rewarded:Object(a.deepAccess)(e,"params.bidOverride.imp.video.rewarded")||void 0}}if(r.ext={dfp_ad_unit_code:e.adUnitCode},Object(a.deepAccess)(e,"params.kvp")&&Object(a.isPlainObject)(e.params.kvp))for(var s in r.ext.kvs={},e.params.kvp)if(Object(a.isStr)(e.params.kvp[s])||Object(a.isNumber)(e.params.kvp[s]))r.ext.kvs[s]=e.params.kvp[s];else if(Object(a.isArray)(e.params.kvp[s])){var c=e.params.kvp[s];(c.every((function(e){return Object(a.isStr)(e)}))||c.every((function(e){return Object(a.isNumber)(e)})))&&(r.ext.kvs[s]=e.params.kvp[s])}Object(a.deepAccess)(e,"ortb2Imp.ext.data")&&Object(a.isPlainObject)(e.ortb2Imp.ext.data)&&(r.ext.data=e.ortb2Imp.ext.data),Object(a.deepAccess)(e,"ortb2Imp.instl")&&Object(a.isNumber)(e.ortb2Imp.instl)&&1===e.ortb2Imp.instl&&(r.instl=e.ortb2Imp.instl),!1===b(e)?(r.tagid=e.params.pos,r.ext.pos=e.params.pos):Object(a.deepAccess)(e,"params.placementId")&&(r.tagid=e.params.placementId),t.imp.push(r)}}function _(e){var t=e.payload,n=e.requestOptions,r=e.bidderRequest,s=b(r),c=o.b.getConfig("yahoossp.endpoint")||"https://c2shb.pubgw.yahoo.com/bidRequest";if(!0===s&&(c=o.b.getConfig("yahoossp.endpoint")||"https://c2shb.pubgw.yahoo.com/admax/bid/partners/PBJS"),!0===Object(a.deepAccess)(r,"params.testing.e2etest"))if(Object(a.logInfo)("yahoossp adapter e2etest mode is active"),n.withCredentials=!1,!0===s)t.site.id="1234567";else{var u=v();t.site.id="8a969516017a7a396ec539d97f540011",t.imp.forEach((function(e){e.ext.e2eTestMode=!0,u===i.b?e.tagid="8a969978017a7aaabab4ab0bc01a0009":u===i.d?e.tagid="8a96958a017a7a57ac375d50c0c700cc":(Object(a.logWarn)('yahoossp adapter e2etest mode does not support yahoossp.mode="all". \n Please specify either "banner" or "video"'),Object(a.logWarn)("yahoossp adapter e2etest mode: Please make sure your adUnit matches the yahoossp.mode video or banner"))}))}return Object(a.logWarn)("yahoossp adapter endpoint override enabled. Pointing requests to: ",c),{url:c,method:"POST",data:t,options:n,bidderRequest:r}}var I={code:"yahoossp",gvlid:25,aliases:[],supportedMediaTypes:[i.b,i.d],isBidRequestValid:function(e){var t=e.params;return!0===Object(a.deepAccess)(t,"testing.e2etest")||!(!Object(a.isPlainObject)(t)||!(A(t.pubId)||A(t.dcn)&&A(t.pos)))||(Object(a.logWarn)("yahoossp bidder params missing or incorrect, please pass object with either: dcn & pos OR pubId"),!1)},buildRequests:function(e,t){if(!Object(a.isEmpty)(e)&&!Object(a.isEmpty)(t)){var n={contentType:"application/json",customHeaders:{"x-openrtb-version":"2.5"}};n.withCredentials=function(e){return!(e&&e.gdprConsent&&e.gdprConsent.gdprApplies&&2===e.gdprConsent.apiVersion)||!0===Object(a.deepAccess)(e.gdprConsent,"vendorData.purpose.consents.1")}(t);var r=function(e){var t=v(),n=[];return t===i.b?n=e.filter((function(e){return Object.keys(e.mediaTypes).some((function(e){return e===i.b}))})):t===i.d?n=e.filter((function(e){return Object.keys(e.mediaTypes).some((function(e){return e===i.d}))})):"*"===t&&(n=e.filter((function(e){return Object.keys(e.mediaTypes).some((function(e){return e===i.b||e===i.d}))}))),n}(e);if(!0===o.b.getConfig("yahoossp.singleRequestMode")){var s=S(t,r[0]);return r.forEach((function(e){w(e,s)})),_({payload:s,requestOptions:n,bidderRequest:t})}return r.map((function(e){var r=S(t,e);return w(e,r),_({payload:r,requestOptions:n,bidderRequest:e})}))}Object(a.logWarn)('yahoossp Adapter: buildRequests called with either empty "validBidRequests" or "bidderRequest"')},interpretResponse:function(e,t){t.data;var n=t.bidderRequest,r=[];return e.body&&Array.isArray(e.body.seatbid)?(e.body.seatbid.forEach((function(e){var t;try{t=e.bid[0]}catch(e){return r}var o=t.ext&&t.ext.encp?t.ext.encp:t.price,c={adId:Object(a.deepAccess)(t,"adId")?t.adId:t.impid||t.crid,adUnitCode:n.adUnitCode,requestId:t.impid,bidderCode:I.code,cpm:o,width:t.w,height:t.h,creativeId:t.crid||0,currency:t.cur||l,dealId:t.dealid?t.dealid:null,netRevenue:!0,ttl:O(n),meta:{advertiserDomains:t.adomain}},u=function(e){var t=e.adm;return-1!==t.indexOf("o2playerSettings")||-1!==t.indexOf("YAHOO.VideoPlatform.VideoPlayer")||-1!==t.indexOf("AdPlacement")?i.b:-1!==t.indexOf("VAST")?i.d:void 0}(t);u===i.b?(c.mediaType=i.b,c.ad=t.adm,c.meta.mediaType=i.b):u===i.d&&(c.mediaType=i.d,c.meta.mediaType=i.d,c.vastXml=t.adm,t.nurl&&(c.vastUrl=t.nurl)),"outstream"!==Object(a.deepAccess)(n,"mediaTypes.video.context")||n.renderer||(c.renderer=function(e,t){var n=s.a.install({url:"https://cdn.vidible.tv/prod/hb-outstream-renderer/renderer.js",loaded:!1,adUnitCode:e.adUnitCode});try{n.setRender((function(t){setTimeout((function(){o2PlayerRender(t)}),Object(a.deepAccess)(e,"params.testing.renderer.setTimeout")||700)}))}catch(e){Object(a.logWarn)("yahoossp renderer error: setRender() failed",e)}return n}(n)||void 0),r.push(c)})),r):r},getUserSyncs:function(e,t,n,r){var i=!Object(a.isEmpty)(t)&&t[0].body;return i&&i.ext&&i.ext.pixels?function(e,t){var n=/\w*(?=\s)/,r=/src=("|')(.*?)\1/,i=[];if(t){var a=t.match(/(img|iframe)[\s\S]*?src\s*=\s*("|')(.*?)\2/gi);a&&a.forEach((function(t){var a=t.match(n)[0],o=t.match(r)[2];if(a&&o){var s="img"===a.toLowerCase()?"image":"iframe";if(!e.iframeEnabled&&"iframe"===s||!e.pixelEnabled&&"image"===s)return;i.push({type:s,url:o})}}))}return i}(e,i.ext.pixels):[]}};Object(r.registerBidder)(I),window.pbjs.installedModules.push("yahoosspBidAdapter")}},[989]),pbjs.processQueue()})(),(()=>{"use strict";__webpack_require__(6028),__webpack_require__(8971);var e=__webpack_require__(7347),t=__webpack_require__(5432),n=new e.default;t.default.addGlobalKey("window","sbm",n)})()})();/*  THIS IS owl_snippet.js */
var isMobile = (window && window.screen && window.screen.width < 768) || false;

window.sbm && sbm.init && sbm.init({
	versionName: "main-1-control",
	page: ((typeof(adPageZone) !== 'undefined') && adPageZone.slice(1).toLowerCase()),
	device: (isMobile ? 'mobile' : 'desktop'),
	setGaTestGroup: function(testGroup, versionName, page, auctionId) {
		var config = {
			archieLeagueAdVersion: versionName,
			adVantageTestGroup: testGroup,
			adVantagePage: page,
			adVantageAuctionId: auctionId
		};
		window.dataLayer = window.dataLayer || [];
		window.dataLayer.push(config);
	},
	trafficController: {"main":{"backendOpts":{},"parentConfig":"v6.6-config","release":"v8.1.6-8fae6553"},"site":"owl","versions":[{"config":{"version":"main-1-control","adBlockBlock":{"blockablePages":["form","view"],"dismissable":false,"endpoint":"https://atc.studybreakmedia.com/modules/abb/abb-v0.8.1.js","maxFreeCitations":1,"run":false},"adobeDtmUrl":"//assets.adobedtm.com/e157c7ff34e2d6bd3c151937f4c67f693db0150f/satelliteLib-c1031098c10bfbe330181ddd96ac8850d00f040d.js","adsModal":{"citationCount":1,"endpoint":"https://atc.studybreakmedia.com/modules/ad-modal/ad-modal-bundle-v2.2.1.js","pages":["form"],"run":false,"runAdXVideo":false,"runAmazon":false,"runBackfill":false,"runHypermx":false,"runVast":true,"upsellConfig":{"text":"$9.95/month - Subscribe to EasyBib Plus"}},"archieAnalytics":{"eventBlacklist":[],"sbmRsw":true,"sendClickStreamEvents":true,"sendSbmAnalyticsEvents":true,"useSbmClient":true,"wtRioEventEndpoint":"https://analytics.chegg.com/rio-service-wt/rest/rio-events/batch"},"auctionTimeout":{"desktopMs":2500,"desktopRefreshMs":3000,"desktopReloadMs":2500,"mobileMs":2500,"mobileRefreshMs":2500,"mobileReloadMs":2500},"confiant":{"endpoint":"https://cdn.confiant-integrations.net/BkG2zhZn2edO8VgYSaG1yKrimNw/gpt_and_prebid/config.js","propertyId":"BkG2zhZn2edO8VgYSaG1yKrimNw","run":true},"cpcPartner":{"ads":{"160x600":{"linkUrl":"https://bit.ly/2ATOVsD"},"300x250":{"linkUrl":"https://bit.ly/2Qes2Lg"},"728x90":{"linkUrl":"https://bit.ly/2rmr7t8"}},"endpoint":"https://atc.studybreakmedia.com/modules/abb/paper-checker-eb.js","name":"paperchecker"},"dfpSiteId":"21795412422","gdpr":{"endpoint":"https://gdpr.studybreakmedia.com/short-circuit.js","loadScript":true},"pages":{"ros":{"D_L1":{},"D_T1":{},"M_L1":{},"M_T1":{}}},"partners":{"nile":{"placements":{},"run":{"desktop":{"r":false,"s":false},"mobile":{"r":false,"s":false}}}},"placements":{"D_L1":{"adUnit":"OWL_D_L1","device":"desktop","divId":"D_L1","sizes":[[300,250],[400,300]],"skipRefreshViewable":true,"skipUpgradeLink":true},"D_T1":{"adUnit":"OWL_D_T1","device":"desktop","divId":"D_T1","sizes":[[728,90]],"skipRefreshViewable":true,"skipUpgradeLink":true},"M_L1":{"adUnit":"OWL_M_L1","device":"mobile","divId":"M_L1","sizes":[[300,250]],"skipUpgradeLink":true},"M_T1":{"adUnit":"OWL_M_T1","device":"mobile","divId":"M_T1","sizes":[[320,50],[300,50]],"skipUpgradeLink":true}},"prebid":{"analytics":{},"consentManagement":{"allowAuctionWithoutConsent":false,"enabled":false,"timeout":2500}},"prebidConfig":{"sortable":{"siteId":"s2s.easybib.com"},"userSync":{"filterSettings":{"iframe":{"bidders":["sortable"],"filter":"include"}},"userIds":[]}},"prefix":"owl","refresh":{"desktop":{"durationMs":45000,"enabled":true,"limit":20,"visibilityMs":45000},"mobile":{"durationMs":120000,"enabled":false,"limit":20,"visibilityMs":45000}},"site":"purdue","sticky":{"mediaMinWidth":768},"tests":[{"name":"1-control","traffic":1,"session":true}],"user":{"page":"ros"}},"backendOpts":{},"release":"v8.1.6-8fae6553","name":"main-1-control","weight":1,"script":"&lt;script src=\"//atc-edge.studybreakmedia.com/releases/sbm-bundle-v8.1.6-8fae6553.js\"&gt;&lt;/script&gt;","url":"//atc-edge.studybreakmedia.com/bundles/production/owl/main-1-control.js"}],"name":"main-1-control"},
	autopilot: {}
});

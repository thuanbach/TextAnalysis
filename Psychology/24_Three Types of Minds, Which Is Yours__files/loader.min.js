(function(){"use strict";try{if(typeof document!="undefined"){var i=document.createElement("style");i.appendChild(document.createTextNode('.mc-sticky-container{width:100%;position:fixed;z-index:999999;bottom:0;left:0;min-height:30px;transform:translateY(200%);transition:transform 1s ease-in-out}.mc-sticky-container-visible{transform:translateY(0)}.mc-sticky-container-hidden{transform:translateY(200%)}.mc-sticky-header{width:100%;box-shadow:-2px -2px 4px #0000001a;-webkit-box-shadow:-2px -2px 4px rgba(0,0,0,.1);-moz-box-shadow:-2px -2px 4px rgba(0,0,0,.1);background-color:#fff;height:2px}.mc-sticky-button{border:1px solid transparent;border-left:1px solid #e4e6e8;border-top:1px solid #e4e6e8;padding:2px 2px 0;cursor:pointer;border-radius:8px 0 0;appearance:none;outline:none;position:absolute;right:0;top:-30px;background-color:#fff}.mc-sticky-button svg{transform:rotate(360deg)}.mc-sticky-ad{background-color:#fff;margin:0 auto!important;text-align:center;clear:both}@media screen and (max-width: 812px) and (min-width: 0){#tbl-next-up{display:none}}.alib-fc-container,.alib-fc-container *{box-sizing:border-box}.alib-fc-container{--offsetTop: 40;--offsetTopPx: calc(var(--offsetTop) * 1px);--primaryColor: #b9b8b8;--lightColor: #dcdcdc;--initialHeight: 35vh}.alib-fc-root{width:100%;position:fixed;z-index:90010;bottom:0;right:0;left:0;height:var(--initialHeight);max-height:calc(100vh - var(--offsetTopPx));transform:translateY(200%);transition:transform 1s ease-in-out;background-color:#fff;border-top-left-radius:18px;border-top-right-radius:18px;box-shadow:#0000004d 0 -2px 10px 3px;display:flex;flex-direction:column;overflow-x:hidden}@media (min-width: 768px){.alib-fc-root{width:254px;bottom:12px;right:12px;left:initial;height:auto;border-radius:8px}}.alib-fc-visible{transform:translateY(0)}.alib-fc-hidden{transform:translateY(200%)}.alib-fc-overlay{position:fixed;display:none;width:100%;height:100%;top:0;left:0;right:0;bottom:0;background-color:#0006;z-index:90000;cursor:pointer}body.alib-fc-locked .alib-fc-overlay{display:block}.alib-fc-header-top{display:flex;justify-content:center;padding:6px 16px 12px;background-color:var(--primaryColor);border-top-left-radius:12px;border-top-right-radius:12px}@media (min-width: 768px){.alib-fc-header-top{padding:4px 16px;border-top-left-radius:8px;border-top-right-radius:8px}}.alib-fc-header-trigger{width:12%;height:2px;border-radius:6px;background-color:#fff;content:" "}.alib-fc-header-top:hover .alib-fc-header-trigger{background-color:#808080cc}@media (min-width: 768px){.alib-fc-header-top:hover .alib-fc-header-trigger,.alib-fc-header-trigger{background-color:var(--primaryColor)}}.alib-fc-header-bottom{position:relative;margin-top:-7px;background-color:#fff;border-top-left-radius:10px;border-top-right-radius:10px;padding:16px 16px 8px}@media (min-width: 768px){.alib-fc-header-bottom{margin-top:0}}.alib-fc-header-title{display:none;color:var(--primaryColor);font-family:Source Sans Pro,Arial,Helvetica,sans-serif;font-size:22px;font-weight:700;margin-right:17.2px}@media (min-width: 768px){.alib-fc-header-title{display:block;font-size:12px;margin-right:0;text-align:center}}.alib-fc-header-close{position:absolute;right:9px;top:15px;width:26px;height:26px;background-color:#fff;border-radius:13px;cursor:pointer;z-index:90040}@media (min-width: 768px){.alib-fc-header-close{top:10px;right:7px}}.alib-fc-header-close:hover{background-color:#e4e4e4}.alib-fc-header-close:before,.alib-fc-header-close:after{position:absolute;left:12px;top:5px;content:" ";height:16px;width:2px;background-color:var(--primaryColor)}.alib-fc-header-close:before{transform:rotate(45deg)}.alib-fc-header-close:after{transform:rotate(-45deg)}.alib-fc-header-close:hover:before,.alib-fc-header-close:hover:after{background-color:var(--lightColor)}.alib-fc-body{margin-top:-15px;padding:0 16px 16px;overflow-y:hidden;height:100%;background-color:#fff;color:var(--primaryColor);font-family:Source Sans Pro,Arial,Helvetica,sans-serif;z-index:90030}body.alib-fc-locked .alib-fc-body{overflow-y:auto;overflow-x:hidden}@media (min-width: 768px){.alib-fc-body{margin-top:0;padding-top:8px}}.alib-fc-article{position:relative;margin-bottom:20px}@media (min-width: 768px){.alib-fc-article{margin-bottom:0}}.alib-fc-article-img img{display:none}@media (min-width: 768px){.alib-fc-article-img img{width:100%;display:initial;border-radius:4px}}.alib-fc-article-title{display:block;color:var(--primaryColor);font-family:Source Sans Pro,Arial,Helvetica,sans-serif;font-size:22px;font-weight:700;margin:0 0 8px}@media (min-width: 768px){.alib-fc-article-title{margin:8px 0 0;font-size:16px;display:block;line-height:24px}}.alib-fc-article-body{max-height:800px;overflow:hidden}@media (min-width: 768px){.alib-fc-article-body{display:none}}.alib-fc-article-body p{margin:8px 0;color:#324b7f}.alib-fc-article-body img{width:100%;height:200px;object-fit:scale-down}@media (max-width: 767px){.alib-fc-article-gradient{background:linear-gradient(180deg,rgba(255,255,255,0) 0,#ffffff 100%);display:block;position:absolute;right:0;left:0;bottom:0;height:200px}.alib-fc-read-more{margin:0 8px;position:absolute;right:0;left:0;bottom:0}}@media (min-width: 768px){.alib-fc-read-more{padding:8px 0 0}}.alib-fc-button{justify-content:center;align-items:center;padding:8px;gap:8px;height:40px;background:var(--primaryColor);border-radius:4px;color:#fff;font-family:Source Sans Pro,Arial,Helvetica,sans-serif;font-size:16px;line-height:24px;text-align:center;text-decoration:none;display:flex}.alib-fc-button:hover{background:var(--lightColor)}.alib-fc-body-more-content{min-height:100px}@media (min-width: 768px){.alib-fc-body-more-content{display:none}}@media (min-width: 900px){.ad-slot,.ads-box{width:100%}}')),document.head.appendChild(i)}}catch(o){console.error("vite-plugin-css-injected-by-js",o)}})();
!function(){"use strict";var e=(e=>(e[e.ERROR=0]="ERROR",e[e.WARN=1]="WARN",e[e.INFO=2]="INFO",e[e.DEBUG=3]="DEBUG",e))(e||{});let t;const n=e=>(t={...t,...e},t),i=()=>(t=t||(()=>{const e=h();return{libInitialized:!1,cmpInitialized:!1,adsInitialized:!1,prebidLoaded:!1,hasUserSetConsentPreferences:!1,personalizedAdsEnabled:!0,positions:{},biddersRequestCompleted:!1,debugLevel:a(),href:window.location.href,adsDisabled:!1,isPageActive:!0,eventTarget:new EventTarget,trafficSource:null,metas:{},abTest:null,hasScrolled:!1,language:e.language.default}})(),t),o=()=>{const e=h();return window.innerWidth<e.lgBreakpoint},a=()=>{let t=e.WARN;const n="undefined"!=typeof sessionStorage;if(n){switch(sessionStorage.getItem("atomik_debug")){case"ERROR":t=e.ERROR;break;case"INFO":t=e.INFO;break;case"DEBUG":t=e.DEBUG;break;default:t=e.WARN}}return window.location.search.includes("atomik_debug=error")&&(t=e.ERROR,n&&sessionStorage.setItem("atomik_debug",'"ERROR"')),window.location.search.includes("atomik_debug=warn")&&(t=e.WARN,n&&sessionStorage.setItem("atomik_debug",'"WARN"')),window.location.search.includes("atomik_debug=info")&&(t=e.INFO,n&&sessionStorage.setItem("atomik_debug",'"INFO"')),(window.location.search.includes("atomik_debug=true")||window.location.search.includes("atomik_debug=debug"))&&(t=e.DEBUG,n&&sessionStorage.setItem("atomik_debug",'"DEBUG"')),window.location.search.includes("atomik_debug=false")&&(t=e.WARN,n&&sessionStorage.removeItem("atomik_debug")),t},s=e=>e&&"object"==typeof e,d=(...e)=>e.reduce(((e,t)=>(Object.keys(t).forEach((n=>{const i=e[n],o=t[n];Array.isArray(i)&&Array.isArray(o)?e[n]=o:s(i)&&s(o)?e[n]=d(i,o):e[n]=o})),e)),{}),r=e=>{let t=e;const n={}.toString.call(e).slice(8,-1);if("Date"==n)return new Date(e.getTime());if("Array"==n||"Object"==n){t=Array.isArray(e)?[]:{};for(const n in e)t[n]=r(e[n])}return t},l=e=>{let t="";return Array.from({length:e}).some((()=>(t+=Math.random().toString(36).slice(2),t.length>=e))),t.slice(0,e)},c=e=>{const t=window.scrollY,n=window.scrollY+window.innerHeight,i=e.getBoundingClientRect(),o=i.y+window.scrollY,a=i.y+i.height+window.scrollY;if(t>a||n<o)return 0;if(t<o&&n>a)return 100;if(o<t&&a>n)return 100;const s=i.height;let d=s;o<t&&(d=s-(window.scrollY-o)),a>n&&(d-=a-n);const r=100*d/s;return Math.round(r)},u=e=>{var t;return(null==(t=e.match(/[A-Z]{2,}(?=[A-Z][a-z]+\d*|\b)|[A-Z]?[a-z]+\d*|[A-Z]|\d+/g))?void 0:t.map((e=>e.toLowerCase())).join("-"))||""},g=e=>e.split(" ").map((e=>e.toLowerCase())).join("-"),b=e=>{"loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",e,{passive:!0})},m=(e,t)=>new Promise(((n,i)=>{if(document.getElementById(t))n();else{const o=document.createElement("script");o.src=e,o.type="text/javascript",o.async=!0,o.id=t,o.addEventListener("load",(()=>{n()})),o.addEventListener("error",(()=>{document.head.removeChild(o),i()})),document.head.appendChild(o)}})),p=({type:e,targets:t})=>{const n=document.createElement("div");return n.className="ad-slot",e&&n.setAttribute("data-type",e),t&&Object.entries(t).forEach((([e,t])=>{n.setAttribute(`data-targets-${u(e)}`,t)})),n};let f={libConfigsUrl:"https://lib.atomik.vip",prebidJsUrl:"https://lib.atomik.vip/prebid.min.js",fallbackPrebidJsUrl:"https://lib.atomik.vip/prebid.min.js",prebidServerUrl:"https://pbs.atomik.vip",version:"2.0.10",mode:"manual",defaultType:"box",defaultAdsProvider:"google",defaultTemplate:"",adSlotSelector:".ad-slot",lgBreakpoint:1024,adsDensity:1.5,overrideSizesLocalSettings:!1,google:{enabled:!0,defaultUnit:"",collapseEmptyDivs:!1,disableInitialLoad:!0,lazyLoading:{fetchMarginPercent:500,renderMarginPercent:400,mobileScaling:2}},taboola:{enabled:!1,publisherID:"",enabledAdTypes:["box"]},types:{"*":[{sm:{sizes:[[320,100],[300,250]],minHeight:270},lg:{sizes:[[728,90],[300,250],[336,280]],minHeight:300}}]},pageActivity:{enabled:!0,timeout:12e4},lazyLoading:{margin:400,mobileScaling:2},sticky:{enabled:!1,trigger:"scroll",screens:["sm"]},interstitial:{enabled:!1},pixelAd:{enabled:!1},aps:{enabled:!1,enabledForAllAds:!0,pubID:""},prebid:{enabled:!1,timeout:2e3,failsafeTimeout:1e4,userIdEnabled:!1,disableAjaxTimeout:!1,useBidCache:!1,priceGranularity:"dense",waitFinishLoading:!0,currency:{adServerCurrency:"EUR",defaultRates:{USD:{EUR:.8449542881409091}}},enabledBidders:["pubmatic","openx","appnexus","criteo","rubicon","teads","ix","improvedigital","adf"],bidders:[],server:{enabled:!1,enabledBidders:["appnexus","pubmatic","openx","ix"],timeout:2e3},analytics:{enabled:!1,enableDistribution:!1,sampling:.5}},cmp:{enabled:!1,timeout:8e3,internal:!1,provider:"didomi",didomi:{config:{user:{bots:{consentRequired:!1,extraUserAgents:["CrazyEgg","/CrazyEgg/","/crazyegg/gmi"]}},integrations:{vendors:{google:{refresh:!1}}}}}},pixelTrack:{enabled:!1,currency:"EUR"},autoRefresh:{enabled:!1,refreshInterval:3e4,minTimeSlotViewable:1e4,maxTimeSlotActivity:5e3},analytics:{enabled:!1,trackerName:"atomiklib"},adPositioning:{enabled:!1},metas:{"atomik:monetizable":["monetizable","stringToBoolean"],"atomik:ads-provider":"adsProvider","article:section":"topic","article:author":["author","namesToKebabCase"],"article:post_id":"postId","content-type":"contentType"},abTest:{enabled:!1,ratio:[.5,.5]},identityHub:{enabled:!1,failsafeTimeout:500},flowCards:{enabled:!1,apiUrl:"",mode:"manual",scrollPercentageToShow:25,messages:{titleText:{en:"May interest you",es:"Te puede interesar"},readMoreButton:{en:"Read more",es:"Leer mas"}}},language:{enabledLanguages:["en","es"],default:"es"},theme:{color:"#273b63"},adInserting:{enabled:!1}};const v=e=>(f=d(f,e),f),h=()=>f;window.googletag=window.googletag||{cmd:[]},window.pbjs=window.pbjs||{que:[]},window._taboola=window._taboola||[],window.PWT=window.PWT||{},window.didomiConfig=window.didomiConfig||{},window.didomiOnReady=window.didomiOnReady||[],window.didomiEventListeners=window.didomiEventListeners||[],window.atomikLib=window.atomikLib||{cmd:[]};const w="\n    color: #FFF;\n    background: #0090e3;\n    border-radius: 2px;\n    padding: 2px 4px;\n  ",y="\n    color: #444;\n    background: yellow;\n    border-radius: 2px;\n    padding: 2px 4px;\n  ",E="\n    color: #FFF;\n    background: red;\n    border-radius: 2px;\n    padding: 2px 4px;\n  ",I="\n    color: #FFF;\n    background: #005EE3;\n    border-radius: 2px;\n    padding: 2px 4px;\n",S=(e,...t)=>{console.log("%cAtomikLib",e,...t)},A=(e,t)=>(n,...i)=>{console.log(`%cAtomikLib%c ${e.join("")}`,n,"",...t,...i)},T=(e,t,n)=>{const i=[],o=[];return t||(i.push("%c "),o.push("")),e.forEach(((e,t,a)=>{let s=`%c${e}`;n&&0===t?o.push("\n    color: #444;\n    background: #dcedc8;\n    border-radius: 2px;\n    padding: 2px 4px;\n  "):o.push("\n    color: #444;\n    background: #eceff1;\n    border-radius: 2px;\n    padding: 2px 4px;\n    "),t!==a.length-1&&(s+="%c ",o.push("")),i.push(s)})),{tags:i,tagStyles:o}},L=(...t)=>{let n=[],o=[],a=S;if(t.length>=1){const e=T(t,!0,!0);n=e.tags,o=e.tagStyles,a=A(n,o)}return{error(...t){const{debugLevel:n}=i();n>=e.ERROR&&a(E,...t)},errorWithTags:(...t)=>(...a)=>{const s=T(t,n.length<=0,!1),{debugLevel:d}=i();d>=e.ERROR&&A([...n,...s.tags],[...o,...s.tagStyles])(E,...a)},warn(...t){const{debugLevel:n}=i();n>=e.WARN&&a(y,...t)},warnWithTags:(...t)=>(...a)=>{const s=T(t,n.length<=0,!1),{debugLevel:d}=i();d>=e.WARN&&A([...n,...s.tags],[...o,...s.tagStyles])(y,...a)},info(...t){const{debugLevel:n}=i();n>=e.INFO&&a(I,...t)},infoWithTags:(...t)=>(...a)=>{const s=T(t,n.length<=0,!1),{debugLevel:d}=i();d>=e.INFO&&A([...n,...s.tags],[...o,...s.tagStyles])(I,...a)},debug(...t){const{debugLevel:n}=i();n>=e.DEBUG&&a(w,...t)},debugWithTags:(...t)=>(...a)=>{const s=T(t,n.length<=0,!1),{debugLevel:d}=i();d>=e.DEBUG&&A([...n,...s.tags],[...o,...s.tagStyles])(w,...a)}}},k=(e,t)=>{const n=e.find((e=>e.containerId===t));return n?{...n}:null},P=e=>e.filter((e=>document.getElementById(e.containerId))),C=e=>e.filter((e=>"google"===e.adsProvider)),R=e=>e.filter((e=>"taboola"===e.adsProvider)),z=e=>e.filter((e=>"google"===e.adsProvider&&e.isPrebid)),$=e=>e.filter((e=>null!==e.slot)).map((e=>e.slot)),x=e=>e.map((e=>e.slotId)),O=()=>{let e=!1;const t="undefined"!=typeof sessionStorage;if(t){const t=sessionStorage.getItem("atomik_test");null!==t&&(e=JSON.parse(t))}return window.location.search.includes("atomik_test=true")&&(e=!0,t&&sessionStorage.setItem("atomik_test",JSON.stringify(!0))),window.location.search.includes("atomik_test=false")&&(e=!1,t&&sessionStorage.setItem("atomik_test",JSON.stringify(!1))),e},j=e=>{var t;const n=document.getElementById(e.containerId),i=`alib-test-overlay-${e.containerId}`,o=`${i}-container`;if(n){const a=(({ad:e})=>{var t;return`\n  <div class="alib-test-overlay-container">\n    <div class="alib-test-overlay-table">\n      <table>\n        <tr>\n          <th>containerId:</th>\n          <td>${e.containerId}</td>\n        </tr>\n        <tr>\n          <th>slotId:</th>\n          <td>${e.slotId}</td>\n        </tr>\n        <tr>\n          <th>provider:</th>\n          <td>${e.adsProvider}</td>\n        </tr>\n        <tr>\n          <th>filled:</th>\n          <td>${e.isFilled?'<span class="is-success">TRUE</span>':'<span class="is-error">FALSE</span>'}</td>\n        </tr>\n        <tr>\n          <th>requested:</th>\n          <td>${e.isRequested?'<span class="is-success">TRUE</span>':'<span class="is-error">FALSE</span>'}</td>\n                <tr>\n          <th>rendered:</th>\n          <td>${e.isRendered?'<span class="is-success">TRUE</span>':'<span class="is-error">FALSE</span>'}</td>\n        </tr>\n        </tr>\n        <tr>\n          <th>viewable:</th>\n          <td>${e.isImpressionViewable?'<span class="is-success">TRUE</span>':'<span class="is-error">FALSE</span>'}</td>\n        </tr>\n        <tr>\n          <th>type:</th>\n          <td>${e.type}</td>\n        </tr>\n        <tr>\n          <th>position:</th>\n          <td>${e.position}</td>\n        </tr>\n        <tr>\n          <th>template:</th>\n          <td>${e.template}</td>\n        </tr>\n        <tr>\n          <th>refreshCount:</th>\n          <td>${null==(t=e.slot)?void 0:t.getTargeting("refreshCount")}</td>\n        </tr>\n      </table>\n    </div>\n  </div>\n`})({ad:e});let s=document.getElementById(i);if(n.style.position="relative",s){const e=null==(t=s.shadowRoot)?void 0:t.getElementById(o);e&&(e.innerHTML=a,n.style.height=e.offsetHeight+"px")}else{s=document.createElement("div"),s.id=i;const e=s.attachShadow({mode:"open"}),t=document.createElement("style");t.innerText='.alib-test-overlay-shadow-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  margin: 0 auto;\n  width: 300px;\n  color: #000;\n  background-color: rgb(131, 131, 131, 0.9);\n  z-index: 80020;\n}\n\n.alib-test-overlay-container * {\n  font-size: 14px;\n  font-family: "Source Sans Pro", Arial, Helvetica, sans-serif;\n}\n\n.alib-test-overlay-table {\n  padding: 4px;\n}\n\n.alib-test-overlay-table p {\n  margin: 0;\n}\n\n.alib-test-overlay-table table {\n  width: 100%;\n}\n\n.alib-test-overlay-table th,\n.alib-test-overlay-table td {\n  text-align: left;\n  vertical-align: top;\n}\n\n.alib-test-overlay-table .is-success {\n  color: green;\n}\n\n.alib-test-overlay-table .is-error {\n  color: red;\n}\n',e.appendChild(t);const d=document.createElement("div");d.id=o,d.className="alib-test-overlay-shadow-container",d.innerHTML=a,e.appendChild(d),n.appendChild(s),n.style.height=d.offsetHeight+"px"}}};let M=[];const B=e=>(M=((e,t)=>[...e,t])(M,e),O()&&j(e),Ai(e),e),H=(e,t)=>{const n=k(M,e);if(n){const e={...n,...t};return M=((e,t)=>e.map((e=>e.containerId===t.containerId?t:e)))(M,e),O()&&j(e),Ai(e),e}return null},N=()=>[...M],_=()=>P(M),D=e=>k(M,e),U=e=>((e,t)=>{const n=e.find((e=>e.slotId===t));return n?{...n}:null})(M,e),F=L("Plugins","GPT"),q=({slot:e})=>{F.debugWithTags("Event")(`Creative iframe for slot ${e.getSlotElementId()} has loaded`)},W=e=>{const t=e.slot.getSlotElementId();e.isEmpty?F.warn(`No ad returned for slot ${t}.`):F.debugWithTags("Event")(`Ad rendered on slot ${t}.`);const n=U(t);if(n){const t=e.slot;let i=n.sizes;if(n.keepSizeOnRefresh&&Array.isArray(e.size)){const n=window.googletag.sizeMapping().addSize([0,0],e.size).build();t.defineSizeMapping(n),i=e.size}H(n.containerId,{slot:t,isEmpty:e.isEmpty,isFilled:!e.isEmpty,isRendered:!0,isImpressionViewable:!1,renderedCreativeSize:e.size,sizes:i})}},G=({slot:e})=>{const t=e.getSlotElementId();F.debugWithTags("Event")(`Ad request for slot ${t} has been sent.`);const n=U(t);n&&e&&H(n.containerId,{isRequested:!0})},V=({slot:e})=>{if(e){const t=e.getSlotElementId();F.debugWithTags("Event")(`Ad response for slot ${t} received.`)}},J=({slot:e})=>{const t=e.getSlotElementId(),n=U(t);n&&(H(n.containerId,{isImpressionViewable:!0}),F.debugWithTags("Event")(`Impression viewable on slot ${t}.`))},Y=e=>{if(e.inViewPercentage>=50){const t=e.slot.getSlotElementId();F.debugWithTags("Event")(`Slot ${t} is ${e.inViewPercentage}% visible.`)}},K=()=>new Promise((e=>{window.googletag.cmd.push((()=>{F.debug("Register GPT events"),window.googletag.pubads().addEventListener("slotOnload",q),window.googletag.pubads().addEventListener("slotRenderEnded",W),window.googletag.pubads().addEventListener("slotRequested",G),window.googletag.pubads().addEventListener("slotResponseReceived",V),window.googletag.pubads().addEventListener("impressionViewable",J),window.googletag.pubads().addEventListener("slotVisibilityChanged",Y),e()}))})),Z=()=>(F.debug("Init"),new Promise((e=>{window.googletag.cmd.push((()=>{const t=h(),n=i();window.googletag.pubads().setTargeting("domain",window.location.hostname),window.googletag.pubads().setTargeting("tenant",window.location.hostname),"lazy"!==t.mode&&t.google.lazyLoading&&!t.google.collapseEmptyDivs&&(F.debug("Enable lazy loading"),"object"==typeof t.google.lazyLoading?window.googletag.pubads().enableLazyLoad(t.google.lazyLoading):window.googletag.pubads().enableLazyLoad()),t.google.lazyLoading||F.debug("Lazy loading disabled"),F.debug("Enable single request"),window.googletag.pubads().enableSingleRequest(),t.google.collapseEmptyDivs?(F.debug("Enable collapse empty divs"),window.googletag.pubads().collapseEmptyDivs()):F.debug("Disable collapse empty divs"),t.google.disableInitialLoad?(F.debug("Disable initial load"),window.googletag.pubads().disableInitialLoad()):t.prebid.enabled?window.googletag.pubads().disableInitialLoad():F.debug("Enable initial load"),F.debug("Enable services"),window.googletag.enableServices(),n.personalizedAdsEnabled||(F.warn("Enable non-personalized ads"),window.googletag.pubads().setPrivacySettings({nonPersonalizedAds:!0})),e()}))})).then(K)),Q=e=>new Promise(((t,n)=>{window.googletag.cmd.push((()=>{const i=h();window.googletag.pubads().setTargeting("url",window.location.pathname);let o="normal",a=null;return e.unit?(e.isInterstitial?(o="interstitial",a=window.googletag.defineOutOfPageSlot(e.unit,window.googletag.enums.OutOfPageFormat.INTERSTITIAL)):e.isOutOfPage?(o="outOfPage",a=window.googletag.defineOutOfPageSlot(e.unit,e.slotId)):e.sizes&&(a=window.googletag.defineSlot(e.unit,e.sizes,e.slotId)),a?(a.addService(window.googletag.pubads()),a.updateTargetingFromMap((e=>{const t={};return e.type&&(t.type=e.type),e.template&&(t.template=e.template),e.targets&&Object.entries(e.targets).forEach((([e,n])=>{n&&(t[e]=n.toString())})),t})(e)),e.isInterstitial&&i.google.disableInitialLoad?(F.debug("Initial load disabled. Manual activate interstitial ad"),window.googletag.display(a.getSlotElementId()),window.googletag.pubads().refresh([a])):e.isInterstitial||window.googletag.display(e.slotId),F.debug(`Slot ${o} ${e.containerId} defined`,e),t(a)):n(`Error on define ${o} slot`)):n("Ad unit not provided!")}))})),X=e=>new Promise((t=>{window.googletag.cmd.push((()=>{const n=$(e);n.length>0&&(F.debug("Refresh ads:",n.map((e=>e.getSlotElementId()))),window.googletag.pubads().refresh(n)),t()}))})),ee=e=>new Promise(((t,n)=>{window.googletag.cmd.push((()=>{const i=$(e);i.length>0?(F.debug("Remove ads:",i.map((e=>e.getSlotElementId()))),window.googletag.destroySlots(i)?t():n(`Error on remove ads: ${i.map((e=>e.getSlotElementId())).join(", ")}`)):t()}))})),te=L("Modules","Ab Test"),ne=()=>{const e=h();if(e.abTest.enabled&&e.abTest.ratio){const{ratio:i}=e.abTest,[o]=i,a=(t=o)>=1||Math.random()<t?"a":"b";te.debug({value:a,ratio:i}),n({abTest:{ratio:i,value:a}})}var t},ie=(e,t)=>{var n;const i=[],o=t.length;for(let s=0;s<o;s++){const o=(null==(n=null==t?void 0:t[s])?void 0:n.filters)||{},a={index:s,sum:0};Object.entries(o).forEach((([t,n])=>{Array.isArray(n)?n.find((e=>"all"===e))?a.sum=a.sum+1:a.sum=n.includes(e[t])?a.sum+2:a.sum-2:a.sum="all"===n?a.sum+1:e[t]===n?a.sum+2:a.sum-2})),i.push(a)}const a=i.reduce(((e,t)=>e.sum>=t.sum?e:t),{});return t[(null==a?void 0:a.index)||0]},oe=L("Lib","Ad"),ae="ad-slot-container",se=(e,t)=>{const n=document.getElementById(e);return t||n?!n&&t?se(t):n||null:null},de=e=>{const t=h(),o=i();let a;return a=o.positions?o.positions:{},e||(e=t.defaultType),a[e]?(a[e]+=1,n({positions:a}),a[e]):(a[e]=1,n({positions:a}),a[e])},re=(e,t)=>{const n=h(),i={deviceSize:o()?"sm":"lg",...t},a=n.types["*"],s=n.types[e]||a,r=n.types[e]?n.types[e][0]:{};return d(a[0],r,ie(i,s))},le=e=>{var t,n,a,s,d,r;if(o()&&!1===e.smSizes||!o()&&!1===e.lgSizes)return oe.warn(`Ad ${e.containerId} not supported in this screen size`),null;const l=h(),c=e.containerId,u=document.getElementById(c),g=`${e.containerId}-slot`,b=e.type||l.defaultType,m=e.unit||l.google.defaultUnit,p=e.position||de(b),f=(e=>{const{metas:t,trafficSource:n,abTest:o}=i(),a={...t,...n,...e};return o&&(a.abTest=o.value),e.position&&(a.adOrder=e.position),a})({type:b,position:p,...e.targets});let v=e.adsProvider||l.adsProvider||l.defaultAdsProvider,w=e.widget||null,y=null,E=!1,I=null,S=!1,A=null;const T=re(b,f);if(void 0!==T.enabled&&!T.enabled)return null;if(y=void 0!==e.template?e.template:void 0!==T.template?T.template&&T.template.length>0?T.template:null:l.defaultTemplate,void 0!==T.widget&&(y=null,w=T.widget),void 0!==T.adsProvider&&(v=T.adsProvider),"taboola"===v&&(null==(t=null==l?void 0:l.taboola)?void 0:t.enabledAdTypes)&&!l.taboola.enabledAdTypes.includes(b))return null;let L=null,k=null;return w||(({sizes:L,minHeight:k}=(({adSettings:e,smSizes:t,smMinHeight:n,lgSizes:i,lgMinHeight:a})=>{var s,d,r,l,c,u;if(!h().overrideSizesLocalSettings)if(o()){if(void 0!==t)return{sizes:t,minHeight:(n=n||(null==(s=null==e?void 0:e.sm)?void 0:s.minHeight)||0)||null}}else if(void 0!==i)return{sizes:i,minHeight:(a=a||(null==(d=null==e?void 0:e.lg)?void 0:d.minHeight)||0)||null};if(o()){if(e.sm)return{sizes:(null==(r=e.sm)?void 0:r.sizes)||[],minHeight:(null==(l=e.sm)?void 0:l.minHeight)||0}}else if(e.lg)return{sizes:(null==(c=e.lg)?void 0:c.sizes)||[],minHeight:(null==(u=null==e?void 0:e.lg)?void 0:u.minHeight)||0};return{sizes:null,minHeight:null}})({adSettings:T,smSizes:e.smSizes,smMinHeight:e.smMinHeight,lgSizes:e.lgSizes,lgMinHeight:e.lgMinHeight})),null!==y&&""!==y?(({containerEl:e,template:t,minHeight:n})=>{var i;if(!e)return;const{defaultTemplate:o}=h(),a=se(t,o);if(a){const t=null==(i=a.content.firstElementChild)?void 0:i.cloneNode(!0);n&&(t.style.minHeight=n+"px"),e.appendChild(t)}})({containerEl:u,template:y,minHeight:k}):(({containerEl:e,minHeight:t})=>{if(!e)return;const n=document.createElement("div");n.classList.add(ae),t&&(n.style.minHeight=t+"px"),e.appendChild(n)})({containerEl:u,minHeight:k}),(({slotId:e,containerEl:t,template:n})=>{if(!t)return;const i=t.querySelector(".ad-slot-container");if(i){const t=document.createElement("div");t.id=e,i.appendChild(t),n&&t.classList.add(n)}})({slotId:g,containerEl:u,template:y}),m&&(({slotId:e,position:t,type:n,unit:i})=>{const o=document.getElementById(e);o&&(o.dataset.gpid=`${i}#${n}#${t}`)})({slotId:g,unit:m,type:b,position:p})),l.prebid.enabled&&(I=(e=>{var t;const n=h();if(e.bids&&e.bids.length>0)return e.bids;if(null==(t=n.prebid)?void 0:t.bidders){const t=n.prebid.bidders.filter((e=>n.prebid.enabledBidders.includes(e.bidder))).map((t=>{var n;const i=t[o()?"mobile":"desktop"];if(!(null==i?void 0:i[e.type]))return null;let a=null==i?void 0:i[e.type]["*"];if((null==(n=null==i?void 0:i[e.type])?void 0:n[e.position])&&(a=null==i?void 0:i[e.type][e.position]),!a)return null;const s={bidder:t.bidder,params:{...t["*"],...a}};return oe.debug(`Prebid ${t.bidder} bid params for ${e.containerId}`,s),s})).filter((e=>null!==e));if(t&&t.length>0)return t}return null})({containerId:c,bids:e.bids,type:b,position:p}),I&&(E=!0)),l.aps.enabled&&m&&(A=(e=>{const t=h();return(null==e?void 0:e.aps)?{slotID:e.slotId,sizes:e.sizes,slotName:e.unit,...e.aps}:t.aps.enabledForAllAds?{slotID:e.slotId,sizes:e.sizes,slotName:e.unit}:null})({slotId:g,aps:e.aps,unit:m,sizes:L}),A&&(S=!0)),{containerId:c,slotId:g,unit:m,type:b,adsProvider:v,position:p,targets:f,slot:null,renderedCreativeSize:null,sizes:L,minHeight:k,template:y,widget:w,bids:I,aps:A,keepSizeOnRefresh:null!=(n=e.keepSizeOnRefresh)&&n,isAps:S,isAutoRefreshable:null==(a=e.isRefreshable)||a,isDefined:!1,isEmpty:!0,isFilled:!1,isHovered:!1,isImpressionViewable:!1,isInterstitial:null!=(s=e.isInterstitial)&&s,isOutOfPage:null!=(d=e.isOutOfPage)&&d,isPrebid:E,isReadyToRefresh:!1,isRendered:!1,isRequested:!1,isSticky:null!=(r=e.isSticky)&&r,isStickyClosed:!1}},ce=L("Plugins","Taboola"),ue=()=>{const{taboola:e}=h();document.getElementById("atomik-lib-taboola")||(ce.debug("Load Taboola lib"),(e=>{var t,n,i,o;window._taboola.push({article:"auto"}),t=document.createElement("script"),n=document.getElementsByTagName("script")[0],i=`//cdn.taboola.com/libtrc/${e.publisherID}/loader.js`,o="atomik-lib-taboola",document.getElementById(o)||(t.async=!0,t.src=i,t.id=o,n.parentNode.insertBefore(t,n)),window.performance&&"function"==typeof window.performance.mark&&window.performance.mark("tbl_ic")})(e))},ge=L("Modules","Widgets"),be=L("Plugins","Prebid"),me=()=>{be.debug("Load prebid.js script");const{prebidJsUrl:e,fallbackPrebidJsUrl:t}=h(),n="atomik-lib-prebid";m(e,n).catch((()=>{be.error(`Fail to load Prebid.js from url ${e}`),be.debug(`Trying to load Prebid.j from fallback url ${t}`),m(t,n).catch((()=>{be.error(`Fail to load Prebid.js from fallback url ${t}`)}))}))},pe=()=>{var t;const o=h(),a=i();be.debug("Init Prebid"),0===(null==(t=o.prebid.bidders)?void 0:t.length)&&be.warn("Prebid enabled without bidders, please check your settings!"),o.google.disableInitialLoad||v({google:{...o.google,disableInitialLoad:!0}});const s={debug:a.debugLevel===e.DEBUG,logging:a.debugLevel===e.DEBUG,priceGranularity:o.prebid.priceGranularity,disableAjaxTimeout:o.prebid.disableAjaxTimeout,currency:o.prebid.currency,useBidCache:o.prebid.useBidCache,bidderTimeout:o.prebid.timeout};if(be.debug("User id is "+(o.prebid.userIdEnabled?"enabled":"disabled")),o.prebid.userIdEnabled&&(s.userSync={userIds:[{name:"criteo"}]},s.userIdTargeting={GAM:!0}),o.cmp.enabled&&(s.consentManagement={gdpr:{cmpApi:"iab",timeout:o.cmp.timeout,defaultGdprScope:!0}}),o.prebid.secondaryBidders&&o.prebid.secondaryBidders.length>0&&(s.auctionOptions={secondaryBidders:o.prebid.secondaryBidders}),be.debug("Prebid Server is "+(o.prebid.server.enabled?"enabled":"disabled")),o.prebid.server.enabled){const{prebidServerUrl:e}=o,{enabledBidders:t,...n}=o.prebid.server;s.s2sConfig={...n,accountId:"1",endpoint:e+"/openrtb2/auction",syncEndpoint:e+"/cookie_sync",bidders:t,adapter:"prebidServer"}}window.pbjs.que.push((()=>{if(n({prebidLoaded:!0}),window.pbjs.setConfig(s),void 0!==o.prebid.bidCpmAdjustment){Object.keys(o.prebid.bidCpmAdjustment).forEach((e=>{window.pbjs.bidderSettings[e]={bidCpmAdjustment:t=>{var n;return t*((null==(n=o.prebid.bidCpmAdjustment)?void 0:n[e])||0)}}}))}}))},fe=e=>({response:window.pbjs.getBidResponsesForAdUnitCode(e),targeting:window.pbjs.getAdserverTargetingForAdUnitCode(e),highestCpmBids:window.pbjs.getHighestCpmBids(e)}),ve=e=>{const t=Array.isArray(e.sizes)?e.sizes:[e.sizes];return{code:e.slotId,ortb2Imp:{ext:{gpid:`${e.unit}#${e.type}#${e.position}`,data:{pbadslot:`${e.unit}#${e.type}#${e.position}`}}},mediaTypes:{banner:{sizes:t}},bids:e.bids}},he=e=>{window.pbjs.que.push((()=>{be.debug("Remove ads:",e),window.pbjs.removeAdUnit(x(e))}))},we=L("Modules","Amazon"),ye=()=>{document.getElementById("atomik-lib-aps")||(we.debug("Load Amazon APS lib"),function(e,t,n,i,o,a){function s(n,i){t[e]._Q.push([n,i])}t[e]||(t[e]={init:function(){s("i",arguments)},fetchBids:function(){s("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]}),(a=n.createElement("script")).src="//c.amazon-adsystem.com/aax2/apstag.js",a.type="text/javascript",a.async=!0,a.id="atomik-lib-aps",n.head.appendChild(a)}("apstag",window,document))},Ee=L("dataset"),Ie=e=>Object.fromEntries(Object.entries(e).filter((([e,t])=>e.includes("targets")&&t)).map((([e,t])=>{let n=e.replace("targets","");var i;return n=(i=n)?i.replace(/^\w|[A-Z]|\b\w|\s+/g,(function(e,t){return 0==+e?"":0===t?e.toLowerCase():e.toUpperCase()})):"",[n,t]}))),Se=(e,t)=>{if(!e)return null;try{return JSON.parse(e)}catch(n){return Ee.error(`Error parsing bids for ad: ${t}`),null}},Ae=(e,t)=>{if(!e)return null;try{return JSON.parse(e)}catch(n){return Ee.error(`Error parsing amazon settings for ad: ${t}`),null}},Te=(e,t)=>{if(e){if(e.includes("fluid"))return["fluid"];try{return JSON.parse(e)}catch(n){return void Ee.error(`Error parsing sizes for ad: ${t}`)}}},Le=e=>{if(e)return"google"===e?"google":"taboola"===e?"taboola":void 0},ke=(e,t)=>({containerId:t,unit:e.unit,type:e.type,smSizes:Te(e.smSizes,t),lgSizes:Te(e.lgSizes,t),smMinHeight:e.smMinHeight&&parseInt(e.smMinHeight,10)||0,lgMinHeight:e.lgMinHeight&&parseInt(e.lgMinHeight,10)||0,position:e.position&&parseInt(e.position,10)||0,targets:Ie(e),bids:Se(e.bids,t),aps:Ae(e.aps,t),isOutOfPage:"true"===e.outOfPage,isSticky:"true"===e.sticky,keepSizeOnRefresh:"true"===e.keepSize,template:e.template,widget:e.widget,adsProvider:Le(e.adsProvider)}),Pe=L("Lib","Ad Manager"),Ce=async e=>{if(e.widget){Pe.debug(`Define Widget slot ${e.containerId}`);const t=(e=>{const{eventTarget:t}=i();if(!e.widget)return null;const n=document.getElementById(e.widget);if(!n)return ge.error(`Widget template ${e.widget} not found`),null;const o=n.content.cloneNode(!0),a=document.getElementById(e.containerId);return a?(a.appendChild(o),ge.debug(`Widget slot ${e.containerId} defined`),t.dispatchEvent(new CustomEvent("onCreateWidget",{detail:{ad:e}})),e):(ge.error(`Ad container element ${e.containerId} not found`),null)})(e);return t?H(e.containerId,{isDefined:!0,isEmpty:!1,isFilled:!0}):(Pe.error(`Error on define widget slot ${e.containerId}`),H(e.containerId,{isDefined:!0,isEmpty:!0,isFilled:!1}),null)}if("google"===e.adsProvider){Pe.debug(`Define GPT slot ${e.containerId}`);try{const t=await Q(e);return H(e.containerId,{isDefined:!0,slot:t})}catch(t){return Pe.error(`Error on define GPT slot ${e.containerId}`,t),null}}return"taboola"===e.adsProvider?(Pe.debug(`Define Taboola slot ${e.containerId}`),(e=>{const t={mode:"Mid-Article-1x1",container:e.slotId,placement:`Mid Article Thumbnails ${e.position}`,target_type:"mix"};window._taboola.push(t),ce.debug(`Slot ${e.containerId} defined`,t)})(e),H(e.containerId,{isDefined:!0,isEmpty:!1,isFilled:!0})):null},Re=async e=>{const t=h(),o=i(),a=[];return t.prebid.enabled&&(t.prebid.waitFinishLoading||!t.prebid.waitFinishLoading&&o.prebidLoaded)&&a.push((e=>new Promise((t=>{if(0===e.length)return be.debug("No ads to request"),t(e);const i=x(e),o=e.map((e=>ve(e)));be.debug("Request bids for slots:",o),window.pbjs.que.push((()=>{window.pbjs.addAdUnits(o),window.pbjs.requestBids({adUnitCodes:i,bidsBackHandler:()=>(be.debug("Bidders response for slots:",i.map((e=>fe(e)))),window.pbjs.initAdserverSet=!0,n({biddersRequestCompleted:!0}),window.pbjs.setTargetingForGPTAsync(i),t(e))})}))})))(z(e))),t.aps.enabled&&a.push((e=>new Promise((t=>{if(0===e.length)return we.debug("No ads to request"),t(e);const i=e.map((e=>e.aps));we.debug("Request bids for slots:",i),window.apstag.fetchBids({slots:i},(i=>(window.apstag.setDisplayBids(),n({biddersRequestCompleted:!0}),we.debug("Bidders response from amazon",i),t(e))))})))((e=>e.filter((e=>"google"===e.adsProvider&&e.isAps)))(e))),await Promise.all(a),e},ze=async e=>{if(0===e.length)return null;return(e=>new Promise((t=>{window.googletag.cmd.push((()=>{const n=$(e);n.length>0&&(F.debug("Request ads:",n.map((e=>e.getSlotElementId()))),window.googletag.pubads().refresh(n)),t(e)}))})))(await Re(e))},$e=e=>0===e.length?null:(e=>(ce.debug("Request ads:",e),window._taboola.push({flush:!0}),e))(e),xe=async e=>{const t=await Promise.all([ze(C(e)),$e(R(e))]);let n=[];if(t){const[e,i]=t;e&&(n=n.concat(e)),i&&(n=n.concat(i))}return n},Oe=async e=>{var t,n;const i=h();let a,s;if(a=e?P(e):_(),"lazy"===i.mode){const e={margin:(null==(t=null==i?void 0:i.lazyLoading)?void 0:t.margin)||0,mobileScaling:(null==(n=null==i?void 0:i.lazyLoading)?void 0:n.mobileScaling)||0};Pe.debug("Using lazy loading options",e),s=a.filter((t=>{const n=document.getElementById(t.containerId);return!t.isDefined&&((e,t)=>{var n;if(!e)return!1;let i=null!=(n=null==t?void 0:t.margin)?n:200;o()&&(null==t?void 0:t.mobileScaling)&&0!==t.mobileScaling&&(i*=t.mobileScaling);const a=-Math.abs(i),{top:s,bottom:d}=e.getBoundingClientRect(),r=d,l=window.innerHeight-s;return r>a&&l>a})(n,e)}))}else s=a.filter((e=>!e.isDefined));if(0===s.length)return Pe.info("No ads to load"),[];Pe.info("Ads to load:",s);const d=[];for(const o of s){const e=await Ce(o);e&&d.push(e)}return 0===d.length?[]:await xe(d)},je=async e=>{const t=[];for(const n of e){const e=le(n);if(e){B(e);const n=await Ce(e);n&&t.push(n)}}return 0===t.length?[]:await xe(t)},Me=()=>{const{adSlotSelector:e}=h(),t=document.querySelectorAll(e),n=[],i=[];for(let a=0;a<t.length;a++){const e=t[a];let o=e.id;if(o||(o=`ad-slot-${l(10)}`,e.id=o),D(o)||n.find((e=>e.containerId===o)))i.push(o);else{const t=ke(e.dataset,o);n.push(t)}}i.length>0&&Pe.debug(`Already loaded containers ${i.join(", ")}`);const o=[];if(n.length>0){Pe.info("Containers to create:",n);for(const e of n){const t=le(e);Pe.debug(`Create ad ${e.containerId} with options:`,{adOptions:e,ad:t}),t&&(B(t),o.push(t))}}else Pe.info("No containers to load");return o},Be=async e=>{const t=h();let i;if(i=e?P(e):_().filter((e=>e.isAutoRefreshable)),0===(null==i?void 0:i.length))return void Pe.info("No ads to refresh");Pe.info("Refresh ads:",i);const o=C(i);if(o.forEach((e=>{var t,n,i;const o=null==(t=e.slot)?void 0:t.getTargetingMap();if(o&&o.refreshCount){const t=parseInt(o.refreshCount,10)+1;null==(n=e.slot)||n.updateTargetingFromMap({refreshCount:t.toString(10)})}else null==(i=e.slot)||i.updateTargetingFromMap({refreshCount:"1"})})),t.prebid.enabled){const e=z(o),t=(e=>e.filter((e=>"google"===e.adsProvider&&!e.isAps&&!e.isPrebid)))(o);e.length>0&&(await(e=>new Promise((t=>{const{prebid:i}=h();if(0===e.length)return be.debug("No ads to request"),t(e);const o=x(e);be.debug("Refresh ads:",e);const a=e.filter((e=>!window.pbjs.adUnits.find((t=>t.code===e.slotId))));window.pbjs.que.push((()=>{a.length>0&&window.pbjs.addAdUnits(a.map((e=>ve(e)))),window.pbjs.requestBids({timeout:i.timeout,adUnitCodes:o,bidsBackHandler:()=>(be.debug("Bidders response for slots:",o.map((e=>fe(e)))),n({biddersRequestCompleted:!0}),window.pbjs.setTargetingForGPTAsync(o),t(e))})}))})))(e),await X(e)),t.length>0&&await X(t)}else(null==i?void 0:i.length)>0&&await X(i)},He=async e=>{const t=h();let n;if(n=e?[...e]:N(),n.length>0){Pe.info("Remove ads:",n);for(const e of n)try{Pe.debug("Remove ad:",e),"google"===e.adsProvider&&(await ee([e]),t.prebid.enabled&&e.isPrebid&&he([e]),t.sticky.enabled&&e.isSticky&&!e.isStickyClosed&&Ye(!1)),i=e.containerId,M=((e,t)=>e.filter((e=>e.containerId!==t)))(M,i)}catch(o){Pe.error("Error on remove ad:",e),Pe.error(o)}}else Pe.info("No ads to remove");var i},Ne=async()=>{const e=(e=>e.filter((e=>!document.getElementById(e.containerId))))(N().filter((e=>!e.isOutOfPage)));e.length>0?(Pe.info("Clear ads:",e),await He(e)):Pe.info("No ads to clear")},_e=L("Modules","Sticky Ad"),De="mc-sticky",Ue="mc-sticky-ad",Fe="mc-sticky-close-btn",qe=`\n  <div id="mc-sticky" class="mc-sticky-container">\n    <div class="mc-sticky-header">\n      <span id="${Fe}" class="mc-sticky-button">\n        <svg\n          xmlns="http://www.w3.org/2000/svg"\n          focusable="false"\n          width="24px"\n          height="24px"\n          preserveAspectRatio="xMidYMid meet"\n          viewBox="0 0 24 24"\n        >\n          <path\n            d="M16.192 6.344l-4.243 4.242l-4.242-4.242l-1.414 1.414L10.535 12l-4.242 4.242l1.414 1.414l4.242-4.242l4.243 4.242l1.414-1.414L13.364 12l4.242-4.242z"\n            fill="#7d8791"\n          ></path>\n        </svg>\n      </span>\n    </div>\n  \n    <div id="mc-sticky-ad" class="mc-sticky-ad"></div>\n  </div>\n`,We=()=>{const e=h();(()=>{const e=h(),t=e.sticky.screens;return e.sticky.enabled&&(o()&&t.includes("sm")||!o()&&t.includes("lg"))})()&&(Ve(),window.googletag.cmd.push((()=>{window.googletag.pubads().addEventListener("slotRenderEnded",(e=>{const t=e.slot.getSlotElementId(),n=U(t);n&&n.isSticky&&!n.isStickyClosed&&Ye(!e.isEmpty)}))})),"ready"===e.sticky.trigger?b(Je):document.addEventListener("scroll",Je,{passive:!0,once:!0}))},Ge=e=>{e.preventDefault();const t=D(Ue);t&&(H(t.containerId,{isStickyClosed:!0}),Ye(!1))},Ve=()=>{if(!document.getElementById(De)){_e.debug("Create container");const e=document.body;if(e){const t=document.createElement("div");t.id="mc-sticky-wrapper",t.innerHTML=qe,e.appendChild(t);const n=document.getElementById(Fe);n&&n.addEventListener("click",Ge)}}},Je=()=>{je([{containerId:Ue,type:"sticky",adsProvider:"google",isSticky:!0,position:1,targets:{section:"global"},template:null}]).then((e=>{if(e.length>0){const t=e[0];_e.debug("Ad created",t)}else _e.error("Error on created ad")}))},Ye=e=>{_e.debug("Set to "+(e?"visible":"hidden"));const t=document.getElementById(De);t&&(e?(t.classList.remove("mc-sticky-container-hidden"),t.classList.add("mc-sticky-container-visible")):(t.classList.remove("mc-sticky-container-visible"),t.classList.add("mc-sticky-container-hidden")))},Ke=L("Plugins","IdentityHub"),Ze=()=>{if(!document.getElementById("atomik-lib-identity-hub")){const{identityHub:e}=h();Ke.debug("Load lib"),(e=>{var t=window.location.href,n=`//ads.pubmatic.com/AdServer/js/pwt/${e.pubId}/${e.profileId}`,i="";if(t.indexOf("pwtv=")>0){var o=/pwtv=(.*?)(&|$)/g.exec(t);o.length>=2&&o[1].length>0&&(i="/"+o[1])}var a=document.createElement("script");a.async=!0,a.type="text/javascript",a.src=n+i+"/pwt.js",a.id="atomik-lib-identity-hub";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(a,s)})(e)}};var Qe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var Xe=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},et="object"==typeof Qe&&Qe&&Qe.Object===Object&&Qe,tt="object"==typeof self&&self&&self.Object===Object&&self,nt=et||tt||Function("return this")(),it=nt,ot=function(){return it.Date.now()},at=/\s/;var st=function(e){for(var t=e.length;t--&&at.test(e.charAt(t)););return t},dt=/^\s+/;var rt=function(e){return e?e.slice(0,st(e)+1).replace(dt,""):e},lt=nt.Symbol,ct=lt,ut=Object.prototype,gt=ut.hasOwnProperty,bt=ut.toString,mt=ct?ct.toStringTag:void 0;var pt=function(e){var t=gt.call(e,mt),n=e[mt];try{e[mt]=void 0;var i=!0}catch(a){}var o=bt.call(e);return i&&(t?e[mt]=n:delete e[mt]),o},ft=Object.prototype.toString;var vt=pt,ht=function(e){return ft.call(e)},wt=lt?lt.toStringTag:void 0;var yt=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":wt&&wt in Object(e)?vt(e):ht(e)},Et=function(e){return null!=e&&"object"==typeof e};var It=rt,St=Xe,At=function(e){return"symbol"==typeof e||Et(e)&&"[object Symbol]"==yt(e)},Tt=/^[-+]0x[0-9a-f]+$/i,Lt=/^0b[01]+$/i,kt=/^0o[0-7]+$/i,Pt=parseInt;var Ct=Xe,Rt=ot,zt=function(e){if("number"==typeof e)return e;if(At(e))return NaN;if(St(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=St(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=It(e);var n=Lt.test(e);return n||kt.test(e)?Pt(e.slice(2),n?2:8):Tt.test(e)?NaN:+e},$t=Math.max,xt=Math.min;var Ot=function(e,t,n){var i,o,a,s,d,r,l=0,c=!1,u=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function b(t){var n=i,a=o;return i=o=void 0,l=t,s=e.apply(a,n)}function m(e){return l=e,d=setTimeout(f,t),c?b(e):s}function p(e){var n=e-r;return void 0===r||n>=t||n<0||u&&e-l>=a}function f(){var e=Rt();if(p(e))return v(e);d=setTimeout(f,function(e){var n=t-(e-r);return u?xt(n,a-(e-l)):n}(e))}function v(e){return d=void 0,g&&i?b(e):(i=o=void 0,s)}function h(){var e=Rt(),n=p(e);if(i=arguments,o=this,r=e,n){if(void 0===d)return m(r);if(u)return clearTimeout(d),d=setTimeout(f,t),b(r)}return void 0===d&&(d=setTimeout(f,t)),s}return t=zt(t)||0,Ct(n)&&(c=!!n.leading,a=(u="maxWait"in n)?$t(zt(n.maxWait)||0,t):a,g="trailing"in n?!!n.trailing:g),h.cancel=function(){void 0!==d&&clearTimeout(d),l=0,i=r=o=d=void 0},h.flush=function(){return void 0===d?s:v(Rt())},h};const jt=L("Modules","Page Activity");let Mt=null;const Bt=()=>{if(Mt)return;jt.debug("Start activity timeout");const{pageActivity:e}=h();Mt=setTimeout((()=>{Nt(!1)}),e.timeout)},Ht=()=>{Mt&&(clearTimeout(Mt),Mt=null)},Nt=e=>{const t=i();if(e===t.isPageActive)return Ht(),void Bt();n({isPageActive:e}),e?(jt.debug("Page is active"),Bt(),t.eventTarget.dispatchEvent(new CustomEvent("pageActivityChange",{detail:{isPageActive:!0}}))):(jt.debug("Page is inactive"),Ht(),t.eventTarget.dispatchEvent(new CustomEvent("pageActivityChange",{detail:{isPageActive:!1}})))},_t=Ot((()=>{Nt(!0)}),1e3);var Dt=Ot,Ut=Xe;var Ft=function(e,t,n){var i=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return Ut(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),Dt(e,t,{leading:i,maxWait:t,trailing:o})};const qt=L("Auto Refresh");let Wt=null;const Gt={},Vt=()=>{if(Wt)return;qt.info("Start refresh interval");const{autoRefresh:e}=h();Wt=setInterval((async()=>{const{isPageActive:e}=i(),t=N();if(e){qt.debug("Finding ads to refresh...");const e=t.filter((e=>e.isAutoRefreshable&&e.isReadyToRefresh));e.length>0&&(qt.info("Ads ready to refresh",e),await Be(e),C(e).forEach((e=>{if(e.slot){const t=e.slot.getTargetingMap();if(t&&t.autoRefreshCount){const n=parseInt(t.autoRefreshCount,10)+1;e.slot.updateTargetingFromMap({autoRefreshCount:n.toString(10)})}else e.slot.updateTargetingFromMap({autoRefreshCount:"1"})}})))}}),e.refreshInterval)},Jt=e=>{const{autoRefresh:t}=h();Gt[e.containerId].minSlotViewableTimeout||(qt.debug(`Start min viewable timeout on slot ${e.containerId}`),Gt[e.containerId].minSlotViewableTimeout=setTimeout((()=>{qt.debug(`Slot ${e.containerId} ready to refresh by viewable timeout`),H(e.containerId,{isReadyToRefresh:!0})}),t.minTimeSlotViewable))},Yt=e=>{Gt[e.containerId].minSlotViewableTimeout&&(qt.debug(`Clear min viewable timeout on slot ${e.containerId}`),clearTimeout(Gt[e.containerId].minSlotViewableTimeout),Gt[e.containerId].minSlotViewableTimeout=void 0,H(e.containerId,{isReadyToRefresh:!1}))},Kt=e=>()=>{qt.debug(`Mouse enter slot ${e.containerId}`),Yt(e),(e=>{const{autoRefresh:t}=h();Gt[e.containerId].maxSlotActivityTimeout||(qt.debug(`Start max activity timeout on slot ${e.containerId}`),Gt[e.containerId].maxSlotActivityTimeout=setTimeout((()=>{qt.debug(`Slot ${e.containerId} ready to refresh by max activity timeout`),H(e.containerId,{isReadyToRefresh:!0})}),t.maxTimeSlotActivity))})(e),H(e.containerId,{isHovered:!0})},Zt=e=>()=>{qt.debug(`Mouse leave slot ${e.containerId}`),(e=>{Gt[e.containerId].maxSlotActivityTimeout&&(qt.debug(`Clear max activity timeout on slot ${e.containerId}`),clearTimeout(Gt[e.containerId].maxSlotActivityTimeout),Gt[e.containerId].maxSlotActivityTimeout=void 0)})(e),e.isReadyToRefresh||Jt(e),H(e.containerId,{isHovered:!1})},Qt=e=>{const t=e.slot.getSlotElementId(),n=U(t);if(n){const t=document.getElementById(n.containerId);!e.isEmpty&&t&&(Gt[n.containerId]={},t.addEventListener("mouseenter",Ft(Kt(n)),{passive:!0}),t.addEventListener("mouseleave",Ft(Zt(n)),{passive:!0})),H(n.containerId,{isReadyToRefresh:!1})}},Xt=e=>{const t=e.slot.getSlotElementId(),n=U(t);if(n){const e=document.getElementById(n.containerId);if(e){const t=c(e);t>=50&&(qt.debug(`Ad ${n.containerId} is ${t}% in viewport`),Jt(n))}}},en=Ot((()=>{_().forEach((e=>{if(Gt[e.containerId]){const t=document.getElementById(e.containerId);if(t){const n=c(t);qt.debug(`Ad ${e.containerId} is ${n}% in viewport`),n<50?Yt(e):n>=50&&e.isImpressionViewable&&Jt(e)}}}))}),500),tn=()=>{const e=h(),{eventTarget:t}=i();qt.info("Auto refresh ads "+(e.autoRefresh.enabled?"enabled":"disabled")),e.autoRefresh.enabled&&(Vt(),window.googletag.pubads().addEventListener("slotRenderEnded",Qt),window.googletag.pubads().addEventListener("impressionViewable",Xt),document.addEventListener("scroll",en,{passive:!0}),t.addEventListener("pageActivityChange",(e=>{e instanceof CustomEvent&&(e.detail.isPageActive?Vt():Wt&&(qt.debug("Clear refresh interval"),clearInterval(Wt),Wt=null))})))},nn=L("Modules","Interstitial Ads"),on=L("Plugins","PixelTrack"),an=e=>{var t,n;const i=h();if(window.fbq&&(null==(n=null==(t=i.pixelTrack)?void 0:t.value)?void 0:n[e])){const t={value:i.pixelTrack.value[e],currency:i.pixelTrack.currency,content_type:e,content_ids:window.location.href};on.debug(`PixelTrack: Click event trigger type ${e}`,t),window.fbq("trackSingle",i.pixelTrack.pixelId,"Purchase",t)}},sn=()=>{const e=h();e.pixelTrack.enabled&&(on.debug("PixelTrack: init",e.pixelTrack),document.addEventListener("click",(e=>{var t,n;"a"===e.target.tagName.toLowerCase()&&(null==(n=null==(t=e.target)?void 0:t.href)?void 0:n.includes("taboola"))&&an("taboola")}),{passive:!0}),window.addEventListener("blur",(()=>{window.setTimeout((function(){var e,t,n,i;(document.activeElement&&"iframe"===document.activeElement.tagName.toLowerCase()&&(null==(t=null==(e=document.activeElement)?void 0:e.id)?void 0:t.includes("ads"))||(null==(i=null==(n=document.activeElement)?void 0:n.name)?void 0:i.includes("ads")))&&an("display")}),0)}),{passive:!0}))},dn=L("Modules","Pixel Ad"),rn="mc-pixel-ad",ln=()=>{const e=D(rn);e&&(dn.debug("Remove ad..."),He([e]).then((()=>{dn.debug("Removed")})))},cn=()=>{(e=>{if(!document.getElementById(e)){dn.debug("Create container");const t=document.createElement("div");t.id=e,t.style.display="none",document.body.appendChild(t)}})(rn);if(!D(rn)){je([{containerId:rn,type:"pixel",position:1,smSizes:[1,1],lgSizes:[1,1],isRefreshable:!1,template:null}]).then((e=>{if(e.length>0){const t=e[0];dn.debug("Ad created",t)}else dn.error("Error on created ad")}))}},un=L("Modules","Flow Cards","Content"),gn=async(e,t)=>{try{const n=await fetch(`${e}/posts/${t}`);return await n.json()}catch{return null}},bn=async e=>{var t,n,i,o,a;const{flowCards:s}=h(),d=parseInt(e.postId,10)||null,r=e.topic||null;if(un.debug(`Current article id ${d} and category ${r}`),"manual"===s.mode&&s.articles&&s.articles.length>0){let e=s.articles[0];if(r){const n=null==(t=s.articles)?void 0:t.find((e=>!!e.categories&&e.categories.includes(r)));n&&(e=n)}un.debug(`Related article pick from libConfigs: ${e.permalink}`);const i=await gn(s.apiUrl,e.permalink);if(i)return i.id===d?(un.warn("Related article have same id of current article"),null):[{title:e.title||i.title,link:i.link,img:null==(n=i.featured_media)?void 0:n.thumbnail,excerpt:i.excerpt,body:i.content}]}if("auto"===s.mode){let e=(null==(i=s.apiSettings)?void 0:i.postCount)||2;e=1===e?2:e;const t=await(async(e,t=1)=>{try{const n=await fetch(`${e}/posts?per_page=${t}`),{data:i}=await n.json();return i}catch{return[]}})(s.apiUrl,e);if(t.length>0){let e=0;if(t.length>1){const e=t.findIndex((e=>e.id===d));e>-1&&t.splice(e,1)}(null==(o=s.apiSettings)?void 0:o.randomize)&&t.length>1&&(e=((e=0,t=1e3)=>Math.floor(Math.random()*(t-e+1)+e))(0,t.length-1));const n=await gn(s.apiUrl,t[e].slug);if(n)return n.id===d?(un.warn("Related article have same id of current article"),null):[{title:n.title,link:n.link,img:null==(a=n.featured_media)?void 0:a.thumbnail,excerpt:n.excerpt,body:n.content}]}}return null},mn=L("Lib","Language"),pn=L("Lib","Observer");let fn,vn,hn=!1,wn=!1,yn=!1;const En=Ot((()=>{Li("onDomChange")}),300),In=()=>{if(!hn&&fn){const e={childList:!0,subtree:!0};fn.observe(document.body,e),hn=!0,pn.debug("Start watch DOM")}},Sn=()=>{hn&&fn&&(fn.disconnect(),En.cancel(),hn=!1,pn.debug("Stop watch DOM"))},An=()=>{const{href:e}=i();e!==window.location.href&&(En.cancel(),Ln.cancel(),n({href:window.location.href}),setTimeout((()=>{Li("onUrlChange")}),500))},Tn=()=>{if(!wn&&vn){const e={childList:!0,subtree:!0};vn.observe(document.body,e),wn=!0,pn.debug("Start watch URL")}},Ln=Ft((async()=>{n({hasScrolled:!0}),Li("onScroll")}),500,{leading:!1}),kn=()=>{yn||(document.addEventListener("scroll",Ln,{passive:!0}),yn=!0,pn.debug("Start watch scroll"))},Pn=()=>{vn||(vn=new MutationObserver(An)),Tn(),fn||(fn=new MutationObserver(En)),In(),kn()},Cn={locked:!1},Rn=L("Modules","Flow Cards"),zn="alib-fc-container-id",$n="alib-fc-root-id",xn="alib-fc-header-id",On="alib-fc-close-btn-id",jn="alib-fc-overlay-id",Mn="alib-fc-more-content-id";let Bn,Hn,Nn,_n,Dn,Un,Fn;let qn,Wn,Gn,Vn,Jn,Yn,Kn=!1,Zn=!1,Qn=!1,Xn=0;const ei=e=>{!Zn&&e?(Hn.classList.remove("alib-fc-hidden"),Hn.classList.add("alib-fc-visible"),Kn&&li(),Zn=!0):Zn&&!e&&(Hn.classList.remove("alib-fc-visible"),Hn.classList.add("alib-fc-hidden"),Kn&&(ci(!0),ni()),setTimeout((()=>{Hn.style.height=""}),400),Zn=!1)},ti=()=>{var e;const{flowCards:t}=h(),n=Hn.style.transition;Hn.style.transition="height .6s ease-in-out";const i=window.innerHeight-100;Hn.style.height=i+"px",Un.classList.add("alib-fc-locked"),(()=>{const e=document.documentElement,t=document.body;if(!t||!t.style||Cn.locked)return;const n=window.innerWidth-e.clientWidth,i=parseInt(window.getComputedStyle(t).getPropertyValue("padding-right"))||0;e.style.position="relative",t.style.position="relative",e.style.overflow="hidden",t.style.overflow="hidden",e.style.height="auto",t.style.height="auto",t.style.paddingRight=`${i+n}px`,Cn.locked=!0})(),ci(!1),Jn=window.location.href;let o=Vn[0].link;wn&&vn&&(vn.disconnect(),wn=!1,pn.debug("Stop watch URL")),history.pushState(null,"",o),Dn.addEventListener("click",ui),Dn.addEventListener("touchstart",ui),"taboola"===Yn&&(null==(e=t.taboola)?void 0:e.enabled)?(e=>{if(e&&e.mode&&e.placement){const t={container:Mn,mode:e.mode,placement:e.placement,target_type:"mix"};Rn.debug("Create taboola feed with options",t),window._taboola.push(t),window._taboola.push({flush:!0})}})(t.taboola):(()=>{const e=document.createElement("div");e.classList.add("ad-slot"),e.dataset.type="flowcard",Fn.appendChild(e)})(),setTimeout((()=>{Hn.style.transition=n}),1200)},ni=()=>{Un.classList.remove("alib-fc-locked"),(()=>{const e=document.documentElement,t=document.body;t&&t.style&&Cn.locked&&(e.style.position="",e.style.overflow="",t.style.position="",t.style.overflow="",e.style.height="",t.style.height="",t.style.paddingRight="",Cn.locked=!1)})(),Jn&&(Tn(),history.pushState(null,"",Jn),Jn=null),Dn.removeEventListener("click",ui),Dn.removeEventListener("touchstart",ui)},ii=e=>{const t=window.innerHeight-e.clientY;Hn.style.height=t+"px"},oi=()=>{window.removeEventListener("mousemove",ii,!1),window.removeEventListener("mouseup",oi,!1),Un.classList.remove("alib-fc-resizing"),Gn>=Wn&&ti(),Gn<Wn&&ui()},ai=e=>{var t,n;e.preventDefault(),qn=e.clientY,Wn=parseInt((null==(n=null==(t=document.defaultView)?void 0:t.getComputedStyle(Hn))?void 0:n.height)||"0",10),Gn=Wn,Un.classList.add("alib-fc-resizing"),ni(),window.addEventListener("mousemove",ii,!1),window.addEventListener("mouseup",oi,!1)},si=e=>{const t=qn-e.touches[0].clientY;Gn=Wn+t,Hn.style.height=Gn+"px"},di=()=>{window.removeEventListener("touchmove",si,!1),window.removeEventListener("touchend",di,!1),Un.classList.remove("alib-fc-resizing"),Gn>=Wn&&ti(),Gn<Wn&&ui()},ri=e=>{var t,n;e.preventDefault(),qn=e.touches[0].clientY,Wn=parseInt((null==(n=null==(t=document.defaultView)?void 0:t.getComputedStyle(Hn))?void 0:n.height)||"0",10),Gn=Wn,Un.classList.add("alib-fc-resizing"),ni(),window.addEventListener("touchmove",si,!1),window.addEventListener("touchend",di,!1)},li=()=>{Nn.addEventListener("mousedown",ai,!1),Nn.addEventListener("touchstart",ri,!1),Bn.addEventListener("mousedown",ai,!1),Bn.addEventListener("touchstart",ri,!1)},ci=e=>{e&&(Nn.removeEventListener("mousedown",ai,!1),Nn.removeEventListener("touchstart",ri,!1)),Bn.removeEventListener("mousedown",ai,!1),Bn.removeEventListener("touchstart",ri,!1)},ui=e=>{e&&(e.preventDefault(),e.stopPropagation()),Qn=!0,bi(),ei(!1),Fn.innerHTML=""},gi=Ft((()=>{const{flowCards:e}=h();let t=document.body.offsetHeight;if(e.selectorToMeasureContentHeight){const n=document.querySelector(e.selectorToMeasureContentHeight);n&&(t=n.clientHeight)}const n=Xn/(t-window.innerHeight)*100;!Qn&&n>e.scrollPercentageToShow&&ei(!0),Xn=window.scrollY})),bi=()=>{window.removeEventListener("scroll",gi)},mi=e=>{var t;document.getElementById(zn)||(Rn.info("Create container"),Bn=document.createElement("div"),Bn.id=zn,Bn.classList.add("alib-fc-container"),document.body.appendChild(Bn));const{flowCards:n}=h(),o=(e=>{const{language:t}=i();return Object.fromEntries(Object.entries(e).map((([e,n])=>[e,n[t]])))})(n.messages);Yn=(null==(t=n.taboola)?void 0:t.enabled)?"taboola":"ad",Bn.innerHTML=(({rootId:e,headerId:t,closeBtnId:n,overlayId:i,moreContentId:o,content:a,messages:s})=>`\n  <div id=${i} class="alib-fc-overlay"></div>\n  <div id=${e} class="alib-fc-root">\n    ${(({headerId:e,closeBtnId:t,messages:n})=>`\n  <div class="alib-fc-header">\n    <div id=${e} class="alib-fc-header-top">\n      <div class="alib-fc-header-trigger"></div>\n    </div>\n    <div class="alib-fc-header-bottom">\n      <div class="alib-fc-header-title">${n.titleText}</div>\n      <div id=${t} class="alib-fc-header-close"></div>\n    </div>\n  </div>\n`)({headerId:t,closeBtnId:n,messages:s})}\n    ${(({content:e,messages:t,moreContentId:n})=>`\n  <div class="alib-fc-body">\n    ${(({article:e,messages:t})=>`\n  <article class="alib-fc-article">\n    <div class="alib-fc-article-img">\n      ${e.img?`<img src="${e.img}" />`:""}\n    </div>\n    <div class="alib-fc-article-title">${e.title}</div>\n    <div class="alib-fc-article-body">${e.body}</div>\n\n    <span class="alib-fc-article-gradient"></span>\n\n    <div class="alib-fc-read-more">\n      <a href="${e.link}" class="alib-fc-button">${t.readMoreButton}</a>\n    </div>\n  </article>\n`)({article:e[0],messages:t})}\n\n    <div class="alib-fc-body-more-content">\n      <div id="${n}"></div>\n    </div>\n  </div>\n`)({content:a,messages:s,moreContentId:o})}\n  </div>\n`)({overlayId:jn,closeBtnId:On,headerId:xn,rootId:$n,moreContentId:Mn,content:e,messages:o}),Nn=document.getElementById(xn),Hn=document.getElementById($n),_n=document.getElementById(On),Dn=document.getElementById(jn),Un=document.querySelector("body"),Fn=document.getElementById(Mn),Bn.style.setProperty("--offsetTop",100..toString()),Bn.style.setProperty("--primaryColor","#273b63"),Bn.style.setProperty("--lightColor",((e,t=1)=>{let n=e.replace("#","");return 3===n.length&&(n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2]),`rgba(${parseInt(n.substring(0,2),16)},${parseInt(n.substring(2,4),16)},${parseInt(n.substring(4,6),16)},${t})`})("#273b63",.8)),n.initialHeight&&Bn.style.setProperty("--initialHeight",n.initialHeight+"px"),_n.addEventListener("click",ui),_n.addEventListener("touchstart",ui),window.addEventListener("scroll",gi,{passive:!0})},pi=()=>{const{metas:e}=i();e.postId?bn(e).then((e=>{e&&(Vn=e,mi(e))})):Rn.warn("Page don't have meta postId, skip create Flow Card")},fi=L("Lib","Init"),vi=()=>{const e=h();fi.debug("Load assets"),e.google.enabled&&(()=>{F.debug("Load GPT script");const e="https://securepubads.g.doubleclick.net/tag/js/gpt.js";m(e,"atomik-lib-gpt").catch((()=>{F.error(`Fail to load GPT from url ${e}`)}))})(),e.identityHub.enabled||e.prebid.enabled&&me(),e.taboola.enabled&&ue(),e.aps.enabled&&ye()},hi=()=>{const e=h();(e.prebid.enabled||e.aps.enabled)&&"lazy"!==e.mode&&(fi.debug(`Failsafe timeout triggered to ${e.prebid.failsafeTimeout} milliseconds`),setTimeout((()=>{i().biddersRequestCompleted?fi.debug("Skipped failsafe ad server request"):(n({biddersRequestCompleted:!1}),fi.warn("Failsafe ad server request"),window.googletag.cmd.push((()=>{const e=N(),t=P(e).filter((e=>!e.isRendered&&!e.isRequested));t.length>0&&window.googletag.pubads().refresh($(t))})))}),e.prebid.failsafeTimeout))},wi=async()=>{const t=h();fi.debug("Init ad providers"),fi.debug("Amazon: "+(t.aps.enabled?"enabled":"disabled")),t.aps.enabled&&(()=>{const t=h(),n=i();we.debug("Init APS"),t.google.disableInitialLoad||v({google:{...t.google,disableInitialLoad:!0}});const o={pubID:t.aps.pubID,adServer:"googletag",simplerGPT:!0};window.apstag.init(o,(()=>{n.debugLevel===e.DEBUG?window.apstag.debug("enable"):window.apstag.debug("disable")}))})(),t[t.defaultAdsProvider].enabled||fi.error("Default Ad Provider is disabled!"),fi.debug("IdentityHub "+(t.identityHub.enabled?"enabled":"disabled")),fi.debug("GPT "+(t.google.enabled?"enabled":"disabled")),fi.debug("Prebid "+(t.prebid.enabled?"enabled":"disabled")),t.google.enabled&&(t.identityHub.enabled?(await new Promise((e=>{Ke.debug("Init lib");const{identityHub:t}=h(),n=setTimeout((()=>{Ke.warn("Loading canceled by timeout"),e()}),t.failsafeTimeout);window.PWT.jsLoaded=()=>{Ke.debug("Lib loaded"),clearTimeout(n),e()},Ze()})),me(),pe(),await Z(),hi()):(t.prebid.enabled&&pe(),await Z(),hi()))},yi=()=>{const e=h();fi.debug("Init lib modules"),fi.debug("Ab Test "+(e.abTest.enabled?"enabled":"disabled")),e.abTest.enabled&&ne(),fi.debug("Sticky ads "+(e.sticky.enabled?"enabled":"disabled")),e.sticky.enabled&&We(),fi.debug("PixelTrack: "+(e.pixelTrack.enabled?"enabled":"disabled")),e.pixelTrack.enabled&&sn(),fi.debug("Interstitial ads "+(e.interstitial.enabled?"enabled":"disabled")),e.interstitial.enabled&&(()=>{nn.debug("Init");const e={containerId:"interstitial-ad",type:"interstitial",adsProvider:"google",position:1,isOutOfPage:!0,isInterstitial:!0,isRefreshable:!1,targets:{URL:window.location.hostname},template:null};je([e]).then((e=>{if(e.length>0){const t=e[0];nn.debug("Ad created",t)}else nn.error("Error on created ad")}))})(),fi.debug("Page activity track "+(e.pageActivity.enabled?"enabled":"disabled")),e.pageActivity.enabled&&(Bt(),document.addEventListener("scroll",_t,{passive:!0}),window.addEventListener("focus",(()=>{Nt(!0)}),!1),window.addEventListener("visibilitychange",(()=>{Nt("visible"===document.visibilityState)}),!1)),fi.debug("Auto refresh ads "+(e.autoRefresh.enabled?"enabled":"disabled")),e.autoRefresh.enabled&&tn(),fi.debug("Pixel Ad "+(e.pixelAd.enabled?"enabled":"disabled")),e.pixelAd.enabled&&(()=>{const{pixelAd:e,adsProvider:t}=h();e.enabled&&"google"===t&&cn(),e.enabled&&"google"!==t&&(dn.debug("Enabled only with google Ad Provider"),ln())})(),fi.debug("Flow cards "+(e.flowCards.enabled?"enabled":"disabled")),e.flowCards.enabled&&(()=>{const{flowCards:e}=h();e.enabled&&(Rn.info("Init"),Kn=o(),Qn=!1,Xn=0,qn=0,Wn=0,pi())})()},Ei=()=>{const e=h(),{metas:t}=i();if(null==t?void 0:t.adsProvider){if("google"===t.adsProvider&&e.google.enabled)return fi.debug('Ads provider set to "google" from metas'),void v({adsProvider:"google"});if("taboola"===t.adsProvider&&e.taboola.enabled)return fi.debug('Ads provider set to "taboola" from metas'),void v({adsProvider:"taboola"})}e.adsProvider||(fi.debug(`Ads provider set to "${e.defaultAdsProvider}" from defaultAdsProvider`),v({adsProvider:e.defaultAdsProvider}))},Ii=()=>{const{metas:e}=i();return"monetizable"in e?e.monetizable?(n({adsDisabled:!1}),!1):(fi.warn("All ads are disable because the meta 'atomik:monetizable' is 'false'"),n({adsDisabled:!0}),!0):(n({adsDisabled:!1}),!1)},Si=()=>{const{metas:e,trafficSource:t,abTest:n}=i();return{...e,...t,...n}},Ai=t=>{var n;if(t){const{debugLevel:o}=i(),a=document.getElementById(t.containerId);if(a){const i=Object.fromEntries(window.googletag.pubads().getTargetingKeys().map((e=>[e,window.googletag.pubads().getTargeting(e)]))),s=(null==(n=t.slot)?void 0:n.getTargetingMap())||{},d={...{id:t.containerId,type:t.type,unit:t.unit,adsProvider:t.adsProvider,template:t.template,isEmpty:t.isEmpty,isFilled:t.isFilled,renderedCreativeSize:t.renderedCreativeSize},serviceTargets:i,slotTargets:s};o<=e.WARN&&(d.slotTargets=Object.fromEntries(Object.entries(s).filter((([e])=>!e.startsWith("hb_"))).map((([e,t])=>[e,t]))));const r=a.getElementsByClassName("atomik-lib-ad-configs");if(0===r.length){const e=document.createElement("script");e.type="application/json",e.text=JSON.stringify(d,null,2),e.classList.add("atomik-lib-ad-configs"),a.appendChild(e)}else r[0].innerHTML=JSON.stringify(d,null,2)}}},Ti=(e,t)=>{const{eventTarget:n}=i();n.addEventListener(e,(e=>{e instanceof CustomEvent&&t(e.detail)}))},Li=(e,t)=>{const{eventTarget:n}=i();n.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:!1,cancelable:!1,composed:!1}))},ki=L("Plugins","Analytics");let Pi=!1;const Ci=()=>{var e;const t=h();if(t.analytics.enabled){if(window.ga=window.ga||function(){(window.ga.q=window.ga.q||[]).push(arguments)},window.ga.l=+new Date,!(null==(e=t.analytics)?void 0:e.trackingId)||""===t.analytics.trackingId)return void ki.error("Google Analytics trackingId not defined");if(!Pi){Pi=!0;const{trackingId:e,trackerName:n}=t.analytics;window.ga("create",e,"auto",n),ki.debug(`Google Analytics tracker [${n}] created`),(e=>{window.pbjs.que.push((()=>{const{prebid:t}=h();be.debug("Prebid analytics is "+(t.analytics.enabled?"enabled":"disabled")),t.analytics.enabled&&window.pbjs.enableAnalytics({provider:"ga",options:{global:"ga",trackerName:e,enableDistribution:!1,sampling:.5}})}))})(n)}}else ki.debug("Google Analytics disabled")},Ri=L("Plugins","Didomi"),zi=()=>new Promise(((e,t)=>{var n,i;Ri.debug("Add didomi element dynamically to head");const o=h();var a;window.didomiConfig=d((null==(i=null==(n=o.cmp)?void 0:n.didomi)?void 0:i.config)||{},window.didomiConfig||{}),Ri.debug("Didomi config:",window.didomiConfig),o.cmp.didomi&&o.cmp.didomi.config&&o.cmp.didomi.config.app&&o.cmp.didomi.config.app.apiKey?(a=o.cmp.didomi.config.app.apiKey,window.gdprAppliesGlobally=!0,function(e,t,n,i,o){function a(e,n,i,a){if("function"==typeof i){window[t]||(window[t]=[]);var s=!1;o&&(s=o(e,n,i)),s||window[t].push({command:e,parameter:n,callback:i,version:a})}}function s(t){if(window[e]&&!0===window[e].stub&&t.data){var o,a="string"==typeof t.data;try{o=a?JSON.parse(t.data):t.data}catch(d){return}if(o[n]){var s=o[n];window[e](s.command,s.parameter,(function(e,n){var o={};o[i]={returnValue:e,success:n,callId:s.callId},t.source.postMessage(a?JSON.stringify(o):o,"*")}),s.version)}}}a.stub=!0,"function"!=typeof window[e]&&(window[e]=a,window.addEventListener?window.addEventListener("message",s,!1):window.attachEvent("onmessage",s))}("__tcfapi","__tcfapiBuffer","__tcfapiCall","__tcfapiReturn"),function e(t){if(!window.frames[t])if(document.body&&document.body.firstChild){var n=document.body,i=document.createElement("iframe");i.style.display="none",i.name=t,i.title=t,n.insertBefore(i,n.firstChild)}else setTimeout((function(){e(t)}),5)}("__tcfapiLocator"),function(e){var t=document.createElement("script");t.id="spcloader",t.type="text/javascript",t.async=!0,t.src="https://sdk.privacy-center.org/"+e+"/loader.js?target="+document.location.hostname,t.charset="utf-8";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}(a),Ri.debug("Await for setup didomi"),window.didomiOnReady.push((()=>{Ri.debug("Get back from setup didomi"),e()}))):(Ri.error("No apikey provided, didomi not loaded!"),t())})),$i=L("Modules","CMP"),xi=(e=1,t=3,n=600)=>($i.debug("Attempt to check CMP active",e),(window.__tcfapi?new Promise((e=>{window.__tcfapi("ping",2,(t=>{$i.debug("Ping return",t),e(!(!(null==t?void 0:t.cmpLoaded)||!(null==t?void 0:t.gdprApplies)))}))})):($i.debug("window.__tcfapi not present"),Promise.resolve(!1))).then((i=>i?Promise.resolve(!0):e===t?Promise.resolve(!1):new Promise((i=>{setTimeout((()=>{xi(e+1,t,n).then(i)}),n)}))))),Oi=e=>{let t=!1;if(e){const n=(e=>{var t;const n=null==(t=null==e?void 0:e.purpose)?void 0:t.consents;return n&&"string"!=typeof n?n:{}})(e),i=n[1],o=n[2],a=n[3],s=n[4],d=n[7],r=n[9],l=n[10];$i.debug("User consent purposes:",{accessDeviceInformation:i,selectBasicAds:o,createAdsProfile:a,selectPersonalizedAds:s,measureAdPerformance:d,applyMarketResearch:r,developAndImproveProducts:l}),t=i&&o&&a&&s&&d&&r&&l}return n({personalizedAdsEnabled:t}),ji(t),t?($i.debug("Ads personalization enabled"),!0):($i.warn("Ads personalization disabled"),!1)},ji=e=>{(({eventCategory:e,eventAction:t,eventLabel:n,eventValue:i})=>{if(Pi){const o=h();ki.debug("Send data to Google Analytics",{eventCategory:e,eventAction:t,eventLabel:n,eventValue:i}),window.ga(`${o.analytics.trackerName}.send`,"event",{eventCategory:e,eventAction:t,eventLabel:n,eventValue:i},{nonInteraction:!0})}else ki.warn("Google Analytics not initialized!")})({eventCategory:"CMP",eventAction:"ads_personalization",eventLabel:e?"enabled":"disabled"})},Mi=L("Lib","Metas"),Bi={stringToKebabCase:g,namesToKebabCase:e=>e.split(",").map(g),stringToBoolean:e=>"true"===e},Hi=()=>{const{metas:e={}}=h(),t=(e=>{const t=document.querySelectorAll("meta"),n=Object.fromEntries(Array.from(t).map((e=>{const t=e.getAttribute("content"),n=e.getAttribute("property"),i=e.getAttribute("name");return i&&t?[i,t]:n&&t?[n,t]:[]}))),i={};return Object.entries(n).forEach((([t,n])=>{e.includes(t)&&(i[t]=n)})),i})(Object.keys(e)),o=((e,t)=>Object.fromEntries(Object.entries(e).filter((([e])=>t[e])).map((([e,n])=>{if(Array.isArray(n)){const i=Bi[n[1]];return i?[n[0],i(t[e])]:[n[0],t[e]]}return[n,t[e]]}))))(e,t);n({metas:o}),Mi.debug("Metas from page set to",i().metas)},Ni=["facebook","youtube","whatsapp","wechat","instagram","tiktok","qq","sina","weibo","qzone","reddit","douyin","kuaishou","snapchat","pinterest","twitter"],_i=["google","bing","yahoo","baidu","aol","ask","excite","duckduckgo","wolfram","yandex","lycos","chacha"],Di=[...Ni,..._i],Ui=L("Traffic Source"),Fi=()=>{let e=document.referrer;e===window.location.href&&(e="");const t={};return t.medium=(e=>Ni.some((t=>e.includes(t)))?"social":_i.some((t=>e.includes(t)))?"organic":""===e?"direct":"other")(e),t.source=(e=>Di.find((t=>e.includes(t)))||(""===e?"direct":"other"))(e),Ui.debug("Traffic Source from referrer",t),t},qi=()=>{const e={},t=["utm_source","utm_medium","utm_campaign","utm_term","utm_content"],n=(()=>{try{const e=location.search.substring(1);return e?JSON.parse('{"'+e.replace(/&/g,'","').replace(/=/g,'":"')+'"}',((e,t)=>""===e?t:decodeURIComponent(t))):null}catch{return null}})();if(!n)return e;for(const[i,o]of Object.entries(n))t.includes(i)&&(e[i]=o);return Ui.debug("Traffic Source from UTM",e),e},Wi=L("Modules","Ad positioning"),Gi=[],Vi=(e,t,n)=>{const i=document.createElement("div");return i.className="ad-slot",n.adType&&i.setAttribute("data-type",n.adType),n.adTargets&&Object.entries(n.adTargets).forEach((([e,t])=>{i.setAttribute(`data-targets-${u(e)}`,t)})),e.insertBefore(i,t.nextSibling),i},Ji=e=>{if(null==e)return 1;const t=o()?"sm":"lg";return s(e)?e[t]:e},Yi=()=>{const{adPositioning:e}=h();if(e.enabled){if(Wi.info("Init ad positioning"),!e.placements||0===Object.keys(e.placements).length)return void Wi.error("Ad positioning enabled but no placements found");Object.entries(e.placements||{}).forEach((([e,t])=>{document.querySelectorAll(e).forEach((n=>{if(n&&!(e=>{const{adSlotSelector:t}=h(),{href:n}=i(),o=Gi.find((t=>t.href===n&&t.node===e)),a=e.querySelector(t);return!!o||!!a})(n)){const a={deviceSize:o()?"sm":"lg",...Si()},s=d(t[0],ie(a,t));if(Wi.info(`Insert ads on ${e} with config:`,s),!1===s.enabled)return void Wi.info("Ads position disabled for this targets");if(0===s.firstAdPosition&&0===s.adSequency)return void Wi.warn("Ads not inserted because 'firstAdPosition'  an 'adSequency' is '0'!");((e,t)=>{var n;const i=Ji(t.firstAdPosition),o=Ji(t.adSequency),a=t.minWords||0,s=null==(n=t.skipLastElement)||n;let d=0===i,r=0,l=0;Wi.debug("total nodes:",e.children.length),Array.from(e.children).forEach((n=>{var c;const u=n===e.lastElementChild;if(s&&u)return void Wi.debug("skip last node",n);if(!s&&u){t={...t,adTargets:{...t.adTargets,lastAd:"true"}};const i=Vi(e,n,t);return void Wi.debug("inserted last ad",{nodeCount:r,wordCount:l},i)}if(""===n.innerHTML)return void Wi.debug("skip empty node",n);if(!(null==(c=t.tags)?void 0:c.includes(n.nodeName.toLowerCase())))return void Wi.debug("skip ignored tag",n);r+=1;const g=(e=>e.replace(/^\s+|\s+$/g,"").replace(/ +(?= )/g,""))((e=>e.replace(/(\r\n|\n|\r)/gm,""))((b=n.innerHTML,b.replace(/(<([^>]+)>)/gi,"")))).split(/\s+/).length;var b;l+=g,Wi.debug("process node",n);const m=(e=>!!e.nextElementSibling&&("figure"===e.nextElementSibling.nodeName.toLowerCase()||"img"===e.nextElementSibling.nodeName.toLowerCase()||-1!==e.nextElementSibling.innerHTML.indexOf("<img")))(n);if(m)Wi.debug("inserted skipped by sibling img",{nodeCount:r,wordCount:l});else{if(!d&&r>=i&&l>=a){const i=Vi(e,n,t);Wi.debug("inserted by first ad",{nodeCount:r,wordCount:l},i),d=!0,r=0,l=0}if(d&&r>=o&&l>=a){const i=Vi(e,n,t);Wi.debug("inserted by sequence",{nodeCount:r,wordCount:l},i),r=0,l=0}}}))})(n,s),(e=>{const{href:t}=i();Gi.push({href:t,node:e})})(n)}}))}))}},Ki=L("Modules","Ad inserting"),Zi=[],Qi=(e,t,n)=>{for(let i=0;i<e;i++){const e=p({type:n.adType,targets:n.adTargets});n.margin&&(e.style.marginBottom=n.margin+"px"),t.appendChild(e)}},Xi=(e,t)=>{if("fixed"===t.mode&&t.number){const n=(e=>{if(s(e))return e[o()?"sm":"lg"];return e})(t.number);Qi(n,e,t)}else if("auto"===t.mode){const n=((e,t)=>{const n=e.clientHeight,i=t.margin||0,{defaultType:a}=h(),s=re(t.adType||a,t.adTargets||{})[o()?"sm":"lg"];if(s){if(s.minHeight){Ki.info("Calculated number of ads using minHeight types config");const e=s.minHeight+i,t=Math.floor(n/e);return Ki.debug(`Calculated number of ads to insert: ${t} (${n} / ${e} = ${t})`),t}Ki.info("Calculated number of ads using sizes types config");let e=s.sizes;if("fluid"===e&&Ki.warn("No ads inserted! Ad height can't be calculate with size 'fluid'."),e&&"fluid"!==e){Array.isArray(e[0])||(e=[e]);const t=Math.max(...e.map((e=>e[1])))+i,o=Math.floor(n/t);return Ki.debug(`Calculated number of ads to insert: ${o} (${n} / ${t} = ${o})`),o}}return 0})(e,t);Qi(n,e,t)}},eo=()=>{const{adInserting:e}=h();if(e.enabled){if(Ki.info("Init ad inserting"),!e.placements||0===Object.keys(e.placements).length)return void Ki.error("Ad inserting enabled but no placements found");Object.entries(e.placements||{}).forEach((([e,t])=>{document.querySelectorAll(e).forEach((n=>{if(n&&!(e=>{const{adSlotSelector:t}=h(),{href:n}=i(),o=Zi.find((t=>t.href===n&&t.node===e)),a=e.querySelector(t);return!!o||!!a})(n)){const a={deviceSize:o()?"sm":"lg",...Si()},s=d(t[0],ie(a,t));if(Ki.info(`Insert ads on ${e} with config:`,s),!1===s.enabled)return void Ki.info("Ad inserting disabled for this targets",s);Xi(n,s),(e=>{const{href:t}=i();Zi.push({href:t,node:e})})(n)}}))}))}},to=L("Main"),no=async()=>{if(i().adsInitialized)return to.warn("Ads already initialized"),Promise.resolve();{to.debug("Init Ads"),n({adsInitialized:!0,href:window.location.href}),await wi();const e=h();(()=>{const e=h();let t=navigator.language||e.language.default;t=t.slice(0,2),mn.debug("Navigator language is:",t);let i=t;e.language.enabledLanguages.includes(i)||(i=e.language.default),n({language:i}),mn.debug("Language defined to:",i)})(),Hi(),Ei(),(()=>{const e=qi(),t={...Fi(),...e};(null==t?void 0:t.utm_source)&&"direct"===(null==t?void 0:t.source)&&(t.source=t.utm_source,t.medium=t.utm_medium||void 0),t.userChannel=(null==t?void 0:t.utm_medium)||(null==t?void 0:t.medium),Object.keys(t).forEach((e=>{const n=e;void 0===t[n]&&delete t[n]})),Ui.debug("Computed Traffic Source",t),n({trafficSource:t})})(),["auto","lazy","adServer","inline"].includes(e.mode)&&b((async()=>{to.infoWithTags("Event")("DOM ready event triggered"),yi(),Pn(),Ii()||(to.info("Start DOM ready ads loading"),Yi(),eo(),await Oe(Me()),to.debug("Finish DOM ready ads loading")),Ti("onUrlChange",(async()=>{to.infoWithTags("Event")("Start process URL change"),Sn(),yn&&(document.removeEventListener("scroll",Ln,!1),Ln.cancel(),yn=!1,pn.debug("Stop watch scroll")),Hi(),Ei(),Ii()?await He():((()=>{const{flowCards:e}=h();e.enabled&&(Rn.info("Reload"),Hn&&ei(!1),Qn=!1,Xn=0,qn=0,Wn=0,pi())})(),await Ne(),await Be(),(()=>{const e=_();n({positions:null}),e.forEach((e=>{de(e.type)}))})(),Yi(),eo(),await Oe(Me())),In(),kn(),to.debugWithTags("Event")("Finish process URL change")})),Ti("onDomChange",(async()=>{to.infoWithTags("Event")("Start process DOM changes"),Sn(),Ii()||(await Ne(),Yi(),eo(),await Oe(Me())),In(),to.debugWithTags("Event")("Finish process DOM changes")})),"lazy"===e.mode&&Ti("onScroll",(async()=>{to.infoWithTags("Event")("Start process scroll"),Ii()||await Oe(),to.debugWithTags("Event")("Finish process scroll")}))}))}},io=async()=>{const e=await new Promise((e=>{window.__tcfapi("getTCData",2,((t,n)=>{e(n?t:null)}))}));return e?"cmpuishown"!==e.eventStatus?(to.debug("User already config consent preferences"),Oi(e),n({hasUserSetConsentPreferences:!0}),no()):(to.debug("CMP UI displayed. Waiting for consent change"),t=e=>(Oi(e),n({hasUserSetConsentPreferences:!0}),no()),void window.__tcfapi("addEventListener",2,((e,n)=>{n&&e&&"useractioncomplete"===e.eventStatus&&($i.debugWithTags("Event")("Event consent change",e),t(e),window.__tcfapi("removeEventListener",2,(()=>{$i.debug("Event listener removed")}),e.listenerId))}))):(to.error("Error getting consent data"),n({hasUserSetConsentPreferences:!1,personalizedAdsEnabled:!1}),no());var t},oo=async()=>{let e=h();if(i().cmpInitialized)return to.warn("CMP already initialized"),no();if(to.debug("Init CMP"),n({cmpInitialized:!0}),Ci(),["adServer","inline"].includes(e.mode)&&(v({cmp:{enabled:!0,internal:!1}}),e=h()),!e.cmp.enabled||!e.cmp.internal){if(e.cmp.enabled&&!e.cmp.internal){to.debugWithTags("CMP")("External CMP enabled");return await xi()?io():(to.warn("External CMP not active"),no())}return to.debug("CMP disabled"),no()}to.debug("Internal CMP enabled");try{return await("didomi"===h().cmp.provider?($i.debug("Didomi provider enabled"),zi()):Promise.resolve()),io()}catch(t){return to.error("Fail to load provider"),no()}},ao=window.atomikLib;ao.setConfig=e=>v(e),ao.getConfig=h,ao.getState=i,ao.createAds=je,ao.findAds=_,ao.getAd=D,ao.refreshAds=Be,ao.removeAds=He,ao.clearAds=Ne,ao.addEventListener=Ti,ao.listAds=()=>{const e=_().map((e=>({containerId:e.containerId,type:e.type,position:e.position,adsProvider:e.adsProvider,isEmpty:e.isEmpty,isFilled:e.isFilled,isRendered:e.isRendered,isRequested:e.isRequested,isViewable:e.isImpressionViewable})));console.table(e)},ao.showAllPrebidBids=()=>{function e(e,t){Object.keys(e).forEach((n=>{e[n].bids.forEach((e=>{t(n,e)}))}))}const t=pbjs.getAllWinningBids(),n=[];if(e(pbjs.getBidResponses(),((e,i)=>{n.push({bid:i,adunit:e,adId:i.adId,bidder:i.bidder,time:i.timeToRespond,cpm:i.cpm,msg:i.statusMessage,rendered:!!t.find((e=>e.adId==i.adId))})})),e(pbjs.getNoBids&&pbjs.getNoBids()||{},((e,t)=>{n.push({msg:"no bid",adunit:e,adId:t.bidId,bidder:t.bidder})})),n.length)if(console.table)console.table(n);else for(let i=0;i<n.length;i++)console.log(n[i]);else console.warn("NO prebid responses")},ao.showAllPrebidWinningBids=()=>{const e=pbjs.getHighestCpmBids(),t=[];for(let n=0;n<e.length;n++){const i=e[n];t.push({adUnit:i.adUnitCode,adId:i.adId,bidder:i.bidder,time:i.timeToRespond,cpm:i.cpm})}if(t.length)if(console.table)console.table(t);else for(let n=0;n<t.length;n++)console.log(t[n]);else console.warn("No prebid winners")},ao.init=async(e={})=>{if(i().libInitialized)return to.warn("Lib already initialized"),Promise.resolve();{to.debug("Init lib"),n({libInitialized:!0});let t=v(e);if(!t.domain)return to.info("Loaded config",t),vi(),oo();let i=await(async()=>{const e=h(),t=`${e.libConfigsUrl}/settings/${e.domain}/settings.min.json`;fi.debug("Request settings from Atomik Lib files...");try{const e=await fetch(t);if(!e.ok)return fi.error("Error on try to load settings from Atomik Lib files"),{};const n=await e.json();return fi.debug("Settings loaded from Atomik Lib files",n),n}catch(n){return fi.error(n),{}}})();return i=(e=>{var t,n,i;const o=r(e);return e.defaultUnit&&(o.google={defaultUnit:e.defaultUnit},delete o.defaultUnit),e.types&&(o.types={},Object.entries(e.types).forEach((([e,t])=>{t.map((t=>{var n;const i=r(t);t.targets&&(i.filters=t.targets,delete i.targets),o.types[e]||(o.types[e]=[]),null==(n=o.types[e])||n.push(i)}))}))),!0===(null==(t=null==e?void 0:e.adPositioning)?void 0:t.enabled)&&Array.isArray(e.adPositioning.placements)&&(o.adPositioning={enabled:!0,placements:{}},e.adPositioning.placements.forEach((e=>{o.adPositioning.placements[e.selector]||(o.adPositioning.placements[e.selector]=[]);const t=r(e);delete t.selector,e.targets&&(t.filters=e.targets,delete t.targets),o.adPositioning.placements[e.selector].push(t)}))),(null==e?void 0:e.interstitials)&&(o.interstitial={enabled:null==e?void 0:e.interstitials.enabled},delete o.interstitials),(null==e?void 0:e.lazyLoading)&&(o.lazyLoading={margin:(null==(n=null==e?void 0:e.lazyLoading)?void 0:n.renderMarginPercent)||0,mobileScaling:(null==(i=null==e?void 0:e.lazyLoading)?void 0:i.mobileScaling)||0}),o})(i),t=v(d(i,e)),to.info("Loaded config",t),vi(),oo()}},0===ao.cmd.length&&(to.debug("Auto initialize library..."),ao.cmd.push((()=>{ao.init()}))),ao.cmd.push=e=>{if("function"==typeof e)try{e()}catch(t){t instanceof Error?to.error("Error processing command:",t.message,t.stack):console.error(t)}else to.warn("Commands written into atomikLib.cmd.push must be wrapped in a function")},to.debug("Begin process commands from queue..."),ao.cmd.forEach(((e,t)=>{if(void 0===e.called){to.debug(`Process command n ${t+1} from queue`);try{e(),e.called=!0}catch(n){n instanceof Error?to.error("Error processing command:",n.message,n.stack):console.error(n)}}}))}();
